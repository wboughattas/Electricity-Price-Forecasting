{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nvar PromiseWrapper =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function PromiseWrapper(inner) {\n    var _this = this;\n\n    this._state = \"pending\";\n    this._resolvedValue = null;\n    this._rejectedError = null;\n    this._then = [];\n    this._fail = [];\n    this._always = [];\n    this._promise = inner;\n\n    this._promise.then(function (v) {\n      _this._state = \"resolved\";\n      _this._resolvedValue = v;\n\n      for (var i = 0; i < _this._then.length; i++) {\n        _this._then[i](v);\n      }\n\n      for (var i = 0; i < _this._always.length; i++) {\n        _this._always[i](v);\n      }\n    }).catch(function (e) {\n      _this._state = \"rejected\";\n      _this._rejectedError = e;\n\n      for (var i = 0; i < _this._fail.length; i++) {\n        _this._fail[i](e);\n      }\n\n      for (var i = 0; i < _this._always.length; i++) {\n        _this._always[i](e);\n      }\n    });\n  }\n\n  PromiseWrapper.prototype.state = function () {\n    return this._state;\n  };\n\n  PromiseWrapper.prototype.then = function (pass, fail) {\n    this.done(pass);\n    this.fail(fail);\n    return this;\n  };\n\n  PromiseWrapper.prototype.done = function (continuation) {\n    this._then.push(continuation);\n\n    if (this._state == \"resolved\") {\n      continuation(this._resolvedValue);\n    }\n\n    return this;\n  };\n\n  PromiseWrapper.prototype.fail = function (continuation) {\n    this._fail.push(continuation);\n\n    if (this._state == \"failed\") {\n      continuation(this._rejectedError);\n    }\n\n    return this;\n  };\n\n  PromiseWrapper.prototype.always = function (continuation) {\n    this._always.push(continuation);\n\n    if (this._state == \"resolved\") {\n      continuation(this._resolvedValue);\n    }\n\n    if (this._state == \"failed\") {\n      continuation(this._rejectedError);\n    }\n\n    return this;\n  };\n\n  return PromiseWrapper;\n}();\n\nexport { PromiseWrapper };\n\nvar PromiseFactory =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function PromiseFactory() {\n    this._wrapper = null;\n  }\n\n  PromiseFactory.prototype.resolve = function (result) {\n    if (this._resolve) {\n      this._resolve(result);\n    }\n  };\n\n  PromiseFactory.prototype.reject = function (error) {\n    if (this._reject) {\n      this._reject(error);\n    }\n  };\n\n  PromiseFactory.prototype.promise = function () {\n    var _this = this;\n\n    this._promise = new Promise(function (resolve, reject) {\n      _this._resolve = resolve;\n      _this._reject = reject;\n    });\n    this._wrapper = new PromiseWrapper(this._promise);\n    return this._wrapper;\n  };\n\n  return PromiseFactory;\n}();\n\nexport { PromiseFactory };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/promise.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nvar PromiseWrapper = /** @class */ /*@__PURE__*/ (function () {\n    function PromiseWrapper(inner) {\n        var _this = this;\n        this._state = \"pending\";\n        this._resolvedValue = null;\n        this._rejectedError = null;\n        this._then = [];\n        this._fail = [];\n        this._always = [];\n        this._promise = inner;\n        this._promise\n            .then(function (v) {\n            _this._state = \"resolved\";\n            _this._resolvedValue = v;\n            for (var i = 0; i < _this._then.length; i++) {\n                _this._then[i](v);\n            }\n            for (var i = 0; i < _this._always.length; i++) {\n                _this._always[i](v);\n            }\n        })\n            .catch(function (e) {\n            _this._state = \"rejected\";\n            _this._rejectedError = e;\n            for (var i = 0; i < _this._fail.length; i++) {\n                _this._fail[i](e);\n            }\n            for (var i = 0; i < _this._always.length; i++) {\n                _this._always[i](e);\n            }\n        });\n    }\n    PromiseWrapper.prototype.state = function () {\n        return this._state;\n    };\n    PromiseWrapper.prototype.then = function (pass, fail) {\n        this.done(pass);\n        this.fail(fail);\n        return this;\n    };\n    PromiseWrapper.prototype.done = function (continuation) {\n        this._then.push(continuation);\n        if (this._state == \"resolved\") {\n            continuation(this._resolvedValue);\n        }\n        return this;\n    };\n    PromiseWrapper.prototype.fail = function (continuation) {\n        this._fail.push(continuation);\n        if (this._state == \"failed\") {\n            continuation(this._rejectedError);\n        }\n        return this;\n    };\n    PromiseWrapper.prototype.always = function (continuation) {\n        this._always.push(continuation);\n        if (this._state == \"resolved\") {\n            continuation(this._resolvedValue);\n        }\n        if (this._state == \"failed\") {\n            continuation(this._rejectedError);\n        }\n        return this;\n    };\n    return PromiseWrapper;\n}());\nexport { PromiseWrapper };\nvar PromiseFactory = /** @class */ /*@__PURE__*/ (function () {\n    function PromiseFactory() {\n        this._wrapper = null;\n    }\n    PromiseFactory.prototype.resolve = function (result) {\n        if (this._resolve) {\n            this._resolve(result);\n        }\n    };\n    PromiseFactory.prototype.reject = function (error) {\n        if (this._reject) {\n            this._reject(error);\n        }\n    };\n    PromiseFactory.prototype.promise = function () {\n        var _this = this;\n        this._promise = new Promise(function (resolve, reject) {\n            _this._resolve = resolve;\n            _this._reject = reject;\n        });\n        this._wrapper = new PromiseWrapper(this._promise);\n        return this._wrapper;\n    };\n    return PromiseFactory;\n}());\nexport { PromiseFactory };\n//# sourceMappingURL=promise.js.map\n"]},"metadata":{},"sourceType":"module"}