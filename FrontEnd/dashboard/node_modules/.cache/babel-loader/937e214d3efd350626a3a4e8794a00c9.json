{"ast":null,"code":"/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, INotifyPropertyChanged_$type, PropertyChangedEventArgs, Number_$type, runOn, typeGetValue, Point_$type, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { DataSourceVelocityTracker } from \"./DataSourceVelocityTracker\";\nimport { FastIterationDictionary$2 } from \"./FastIterationDictionary$2\";\nimport { truncate } from \"./number\";\n/**\r\n * @hidden\r\n */\n\nvar PagePredictionEngine =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(PagePredictionEngine, _super);\n\n  function PagePredictionEngine() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.a = null;\n    _this.s = 0;\n    _this.u = 0;\n    _this.x = -1;\n    _this.t = -1;\n    _this.y = 500;\n    _this.r = 1000;\n    _this.v = 8;\n    _this.d = null;\n    _this.f = null;\n    _this.w = 0;\n    _this.propertyChanged = null;\n    _this.i = false;\n    _this.h = false;\n    _this.g = new FastIterationDictionary$2(Base.$, Number_$type, 0);\n    _this.p = new List$1(Number_$type, 0);\n    _this.o = new List$1(Number_$type, 0);\n    _this.c = new DataSourceVelocityTracker();\n    _this.q = 0;\n    return _this;\n  }\n\n  Object.defineProperty(PagePredictionEngine.prototype, \"b\", {\n    get: function () {\n      return this.a;\n    },\n    set: function (a) {\n      var b = this.a;\n      this.a = a;\n\n      if (b != this.a) {\n        this.ay(\"ExecutionContext\", b, this.a);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PagePredictionEngine.prototype, \"aa\", {\n    get: function () {\n      return this.s;\n    },\n    set: function (a) {\n      var b = this.s;\n      this.s = a;\n\n      if (b != this.s) {\n        this.ay(\"FirstVisibleIndexRequested\", b, this.s);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PagePredictionEngine.prototype, \"ae\", {\n    get: function () {\n      return this.u;\n    },\n    set: function (a) {\n      var b = this.u;\n      this.u = a;\n\n      if (b != this.u) {\n        this.ay(\"LastVisibleIndexRequested\", b, this.u);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PagePredictionEngine.prototype, \"ag\", {\n    get: function () {\n      return this.x;\n    },\n    set: function (a) {\n      var b = this.x;\n      this.x = a;\n\n      if (b != this.x) {\n        this.ay(\"PageSize\", b, this.x);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PagePredictionEngine.prototype, \"ab\", {\n    get: function () {\n      return this.t;\n    },\n    set: function (a) {\n      var b = this.t;\n      this.t = a;\n\n      if (b != this.t) {\n        this.ay(\"FullCount\", b, this.t);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PagePredictionEngine.prototype, \"ah\", {\n    get: function () {\n      return this.y;\n    },\n    set: function (a) {\n      var b = this.y;\n      this.y = a;\n\n      if (b != this.y) {\n        this.ay(PagePredictionEngine.aq, b, this.y);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PagePredictionEngine.prototype, \"z\", {\n    get: function () {\n      return this.r;\n    },\n    set: function (a) {\n      var b = this.r;\n      this.r = a;\n\n      if (b != this.r) {\n        this.ay(\"FetchAheadMilliseconds\", b, this.r);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PagePredictionEngine.prototype, \"af\", {\n    get: function () {\n      return this.v;\n    },\n    set: function (a) {\n      var b = this.v;\n      this.v = a;\n\n      if (b != this.v) {\n        this.ay(\"MaximumPageCandidates\", b, this.v);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PagePredictionEngine.prototype, \"e\", {\n    get: function () {\n      return this.d;\n    },\n    set: function (a) {\n      var b = this.d;\n      this.d = a;\n\n      if (b != this.d) {\n        this.ay(\"PageCandidatesSink\", b, this.d);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  PagePredictionEngine.prototype.ay = function (a, b, c) {\n    if (this.propertyChanged != null) {\n      this.propertyChanged(this, new PropertyChangedEventArgs(a));\n    }\n\n    this.az(a, b, c);\n  };\n\n  PagePredictionEngine.prototype.az = function (a, b, c) {\n    switch (a) {\n      case \"FirstVisibleIndexRequested\":\n      case \"LastVisibleIndexRequested\":\n        this.aw();\n        break;\n\n      case \"ExecutionContext\":\n        this.ax();\n        break;\n\n      case \"FullCount\":\n        this.a2();\n        break;\n\n      case \"PageSize\":\n        this.a2();\n        break;\n    }\n  };\n\n  PagePredictionEngine.prototype.a2 = function () {\n    this.c.h();\n    this.q = 0;\n    var a = new List$1(Number_$type, 0);\n\n    for (var b = 0; b < this.g.q.count; b++) {\n      if (this.g.p._inner[b]) {\n        continue;\n      }\n\n      a.add(this.g.q._inner[b]);\n    }\n\n    for (var c = 0; c < a.count; c++) {\n      this.a1(a._inner[c]);\n    }\n\n    if (this.ab > 0 && this.ag > 0) {\n      this.w = truncate(Math.ceil(this.ab / this.ag));\n    }\n  };\n\n  PagePredictionEngine.prototype.ax = function () {\n    this.au();\n  };\n\n  PagePredictionEngine.prototype.au = function () {\n    if (this.i) {\n      return;\n    }\n\n    if (this.b != null) {\n      this.i = true;\n      this.b.enqueueAction(runOn(this, this.av));\n    }\n  };\n\n  PagePredictionEngine.prototype.av = function () {\n    this.i = false;\n    this.a4();\n  };\n\n  PagePredictionEngine.prototype.a4 = function () {\n    if (this.t == -1 || this.x == -1) {\n      return;\n    }\n\n    this.at();\n    this.a5();\n    this.a6();\n\n    if (this.q != 0) {\n      this.as();\n    }\n  };\n\n  PagePredictionEngine.prototype.a3 = function () {\n    this.h = false;\n    this.a4();\n  };\n\n  PagePredictionEngine.prototype.as = function () {\n    if (this.h) {\n      return;\n    }\n\n    if (this.b != null) {\n      this.h = true;\n      this.b.executeDelayed(runOn(this, this.a3), 0);\n    }\n  };\n\n  PagePredictionEngine.prototype.a6 = function () {\n    var a = this.ac();\n    var b = this.ad();\n    var c = true;\n    var d;\n\n    for (var e = a; e <= b; e++) {\n      d = e;\n      c = this.j(d, 2);\n    }\n\n    if (this.q > 0) {\n      d = b;\n\n      while (c) {\n        d++;\n        c = this.j(d, 1);\n      }\n    } else if (this.q < 0) {\n      d = a;\n\n      while (c) {\n        d--;\n        c = this.j(d, 1);\n      }\n    }\n\n    this.a0();\n  };\n\n  PagePredictionEngine.prototype.a0 = function () {\n    this.o.clear();\n    var a = this.g.o;\n    var b = this.g.o.count;\n    var c = this.g.p;\n\n    for (var d = 0; d < b; d++) {\n      if (c._inner[d]) {\n        continue;\n      }\n\n      var e = typeGetValue(a._inner[d]);\n      this.o.add(e);\n    }\n\n    for (var f = 0; f < this.o.count; f++) {\n      this.j(this.o._inner[f], 1);\n    }\n  };\n\n  PagePredictionEngine.prototype.j = function (a, b) {\n    if (a < 0 || a > this.w) {\n      return false;\n    }\n\n    if (this.l(a)) {\n      this.a1(a);\n      return false;\n    }\n\n    if (this.m(a, this.z)) {\n      this.a1(a);\n      return false;\n    }\n\n    if (this.n()) {\n      this.a1(a);\n      return false;\n    }\n\n    this.ar(a, b);\n    return true;\n  };\n\n  PagePredictionEngine.prototype.ar = function (a, b) {\n    if (!this.g.d(a)) {\n      if (this.d != null) {\n        if (this.d.addCandidate(a, b)) {\n          this.g.s(a, a);\n        }\n      }\n    }\n  };\n\n  PagePredictionEngine.prototype.a1 = function (a) {\n    if (this.g.d(a)) {\n      this.g.f(a);\n\n      if (this.d != null) {\n        this.d.removeCandidate(a);\n      }\n    }\n  };\n\n  PagePredictionEngine.prototype.n = function () {\n    return this.g.r >= this.af;\n  };\n\n  PagePredictionEngine.prototype.m = function (a, b) {\n    var c = b / 1000;\n    var d = c * this.q;\n\n    if (this.k(a)) {\n      return false;\n    }\n\n    if (d > 0) {\n      var e = d + this.ae;\n\n      if (e >= a * this.ag) {\n        return false;\n      }\n    } else {\n      var f = this.aa + d;\n\n      if (f <= a * this.ag + this.ag) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  PagePredictionEngine.prototype.k = function (a) {\n    var b = a * this.ag;\n    var c = b + this.ag;\n\n    if (this.ae < b || this.aa > c) {\n      return false;\n    }\n\n    return true;\n  };\n\n  PagePredictionEngine.prototype.l = function (a) {\n    var b = this.ah / 1000;\n    var c = b * this.q;\n\n    if (c > 0) {\n      var d = c + this.aa;\n\n      if (d > a * this.ag + this.ag) {\n        return true;\n      }\n    } else {\n      var e = this.ae + c;\n\n      if (e < a * this.ag) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  PagePredictionEngine.prototype.ac = function () {\n    return truncate(Math.floor(this.aa / this.ag));\n  };\n\n  PagePredictionEngine.prototype.ad = function () {\n    return truncate(Math.floor(this.ae / this.ag));\n  };\n\n  PagePredictionEngine.prototype.a5 = function () {\n    this.q = this.c.j().y;\n  };\n\n  PagePredictionEngine.prototype.at = function () {\n    this.c.i({\n      $type: Point_$type,\n      x: 0,\n      y: this.aa\n    });\n  };\n\n  PagePredictionEngine.prototype.aw = function () {\n    if (this.b != null) {\n      this.b.enqueueAction(runOn(this, this.a4));\n    }\n  };\n\n  PagePredictionEngine.$t = markType(PagePredictionEngine, 'PagePredictionEngine', Base.$, [INotifyPropertyChanged_$type]);\n  PagePredictionEngine.aq = \"PageVisibilityDisplayThresholdMilliseconds\";\n  return PagePredictionEngine;\n}(Base);\n\nexport { PagePredictionEngine };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/PagePredictionEngine.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Base, INotifyPropertyChanged_$type, PropertyChangedEventArgs, Number_$type, runOn, typeGetValue, Point_$type, markType } from \"./type\";\r\nimport { List$1 } from \"./List$1\";\r\nimport { DataSourceVelocityTracker } from \"./DataSourceVelocityTracker\";\r\nimport { FastIterationDictionary$2 } from \"./FastIterationDictionary$2\";\r\nimport { truncate } from \"./number\";\r\n/**\r\n * @hidden\r\n */\r\nvar PagePredictionEngine = /** @class */ /*@__PURE__*/ (function (_super) {\r\n    tslib_1.__extends(PagePredictionEngine, _super);\r\n    function PagePredictionEngine() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.a = null;\r\n        _this.s = 0;\r\n        _this.u = 0;\r\n        _this.x = -1;\r\n        _this.t = -1;\r\n        _this.y = 500;\r\n        _this.r = 1000;\r\n        _this.v = 8;\r\n        _this.d = null;\r\n        _this.f = null;\r\n        _this.w = 0;\r\n        _this.propertyChanged = null;\r\n        _this.i = false;\r\n        _this.h = false;\r\n        _this.g = new FastIterationDictionary$2(Base.$, Number_$type, 0);\r\n        _this.p = new List$1(Number_$type, 0);\r\n        _this.o = new List$1(Number_$type, 0);\r\n        _this.c = new DataSourceVelocityTracker();\r\n        _this.q = 0;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(PagePredictionEngine.prototype, \"b\", {\r\n        get: function () {\r\n            return this.a;\r\n        },\r\n        set: function (a) {\r\n            var b = this.a;\r\n            this.a = a;\r\n            if (b != this.a) {\r\n                this.ay(\"ExecutionContext\", b, this.a);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagePredictionEngine.prototype, \"aa\", {\r\n        get: function () {\r\n            return this.s;\r\n        },\r\n        set: function (a) {\r\n            var b = this.s;\r\n            this.s = a;\r\n            if (b != this.s) {\r\n                this.ay(\"FirstVisibleIndexRequested\", b, this.s);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagePredictionEngine.prototype, \"ae\", {\r\n        get: function () {\r\n            return this.u;\r\n        },\r\n        set: function (a) {\r\n            var b = this.u;\r\n            this.u = a;\r\n            if (b != this.u) {\r\n                this.ay(\"LastVisibleIndexRequested\", b, this.u);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagePredictionEngine.prototype, \"ag\", {\r\n        get: function () {\r\n            return this.x;\r\n        },\r\n        set: function (a) {\r\n            var b = this.x;\r\n            this.x = a;\r\n            if (b != this.x) {\r\n                this.ay(\"PageSize\", b, this.x);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagePredictionEngine.prototype, \"ab\", {\r\n        get: function () {\r\n            return this.t;\r\n        },\r\n        set: function (a) {\r\n            var b = this.t;\r\n            this.t = a;\r\n            if (b != this.t) {\r\n                this.ay(\"FullCount\", b, this.t);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagePredictionEngine.prototype, \"ah\", {\r\n        get: function () {\r\n            return this.y;\r\n        },\r\n        set: function (a) {\r\n            var b = this.y;\r\n            this.y = a;\r\n            if (b != this.y) {\r\n                this.ay(PagePredictionEngine.aq, b, this.y);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagePredictionEngine.prototype, \"z\", {\r\n        get: function () {\r\n            return this.r;\r\n        },\r\n        set: function (a) {\r\n            var b = this.r;\r\n            this.r = a;\r\n            if (b != this.r) {\r\n                this.ay(\"FetchAheadMilliseconds\", b, this.r);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagePredictionEngine.prototype, \"af\", {\r\n        get: function () {\r\n            return this.v;\r\n        },\r\n        set: function (a) {\r\n            var b = this.v;\r\n            this.v = a;\r\n            if (b != this.v) {\r\n                this.ay(\"MaximumPageCandidates\", b, this.v);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PagePredictionEngine.prototype, \"e\", {\r\n        get: function () {\r\n            return this.d;\r\n        },\r\n        set: function (a) {\r\n            var b = this.d;\r\n            this.d = a;\r\n            if (b != this.d) {\r\n                this.ay(\"PageCandidatesSink\", b, this.d);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PagePredictionEngine.prototype.ay = function (a, b, c) {\r\n        if (this.propertyChanged != null) {\r\n            this.propertyChanged(this, new PropertyChangedEventArgs(a));\r\n        }\r\n        this.az(a, b, c);\r\n    };\r\n    PagePredictionEngine.prototype.az = function (a, b, c) {\r\n        switch (a) {\r\n            case \"FirstVisibleIndexRequested\":\r\n            case \"LastVisibleIndexRequested\":\r\n                this.aw();\r\n                break;\r\n            case \"ExecutionContext\":\r\n                this.ax();\r\n                break;\r\n            case \"FullCount\":\r\n                this.a2();\r\n                break;\r\n            case \"PageSize\":\r\n                this.a2();\r\n                break;\r\n        }\r\n    };\r\n    PagePredictionEngine.prototype.a2 = function () {\r\n        this.c.h();\r\n        this.q = 0;\r\n        var a = new List$1(Number_$type, 0);\r\n        for (var b = 0; b < this.g.q.count; b++) {\r\n            if (this.g.p._inner[b]) {\r\n                continue;\r\n            }\r\n            a.add(this.g.q._inner[b]);\r\n        }\r\n        for (var c = 0; c < a.count; c++) {\r\n            this.a1(a._inner[c]);\r\n        }\r\n        if (this.ab > 0 && this.ag > 0) {\r\n            this.w = truncate(Math.ceil(this.ab / this.ag));\r\n        }\r\n    };\r\n    PagePredictionEngine.prototype.ax = function () {\r\n        this.au();\r\n    };\r\n    PagePredictionEngine.prototype.au = function () {\r\n        if (this.i) {\r\n            return;\r\n        }\r\n        if (this.b != null) {\r\n            this.i = true;\r\n            this.b.enqueueAction(runOn(this, this.av));\r\n        }\r\n    };\r\n    PagePredictionEngine.prototype.av = function () {\r\n        this.i = false;\r\n        this.a4();\r\n    };\r\n    PagePredictionEngine.prototype.a4 = function () {\r\n        if (this.t == -1 || this.x == -1) {\r\n            return;\r\n        }\r\n        this.at();\r\n        this.a5();\r\n        this.a6();\r\n        if (this.q != 0) {\r\n            this.as();\r\n        }\r\n    };\r\n    PagePredictionEngine.prototype.a3 = function () {\r\n        this.h = false;\r\n        this.a4();\r\n    };\r\n    PagePredictionEngine.prototype.as = function () {\r\n        if (this.h) {\r\n            return;\r\n        }\r\n        if (this.b != null) {\r\n            this.h = true;\r\n            this.b.executeDelayed(runOn(this, this.a3), 0);\r\n        }\r\n    };\r\n    PagePredictionEngine.prototype.a6 = function () {\r\n        var a = this.ac();\r\n        var b = this.ad();\r\n        var c = true;\r\n        var d;\r\n        for (var e = a; e <= b; e++) {\r\n            d = e;\r\n            c = this.j(d, 2);\r\n        }\r\n        if (this.q > 0) {\r\n            d = b;\r\n            while (c) {\r\n                d++;\r\n                c = this.j(d, 1);\r\n            }\r\n        }\r\n        else if (this.q < 0) {\r\n            d = a;\r\n            while (c) {\r\n                d--;\r\n                c = this.j(d, 1);\r\n            }\r\n        }\r\n        this.a0();\r\n    };\r\n    PagePredictionEngine.prototype.a0 = function () {\r\n        this.o.clear();\r\n        var a = this.g.o;\r\n        var b = this.g.o.count;\r\n        var c = this.g.p;\r\n        for (var d = 0; d < b; d++) {\r\n            if (c._inner[d]) {\r\n                continue;\r\n            }\r\n            var e = typeGetValue(a._inner[d]);\r\n            this.o.add(e);\r\n        }\r\n        for (var f = 0; f < this.o.count; f++) {\r\n            this.j(this.o._inner[f], 1);\r\n        }\r\n    };\r\n    PagePredictionEngine.prototype.j = function (a, b) {\r\n        if (a < 0 || a > this.w) {\r\n            return false;\r\n        }\r\n        if (this.l(a)) {\r\n            this.a1(a);\r\n            return false;\r\n        }\r\n        if (this.m(a, this.z)) {\r\n            this.a1(a);\r\n            return false;\r\n        }\r\n        if (this.n()) {\r\n            this.a1(a);\r\n            return false;\r\n        }\r\n        this.ar(a, b);\r\n        return true;\r\n    };\r\n    PagePredictionEngine.prototype.ar = function (a, b) {\r\n        if (!this.g.d(a)) {\r\n            if (this.d != null) {\r\n                if (this.d.addCandidate(a, b)) {\r\n                    this.g.s(a, a);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    PagePredictionEngine.prototype.a1 = function (a) {\r\n        if (this.g.d(a)) {\r\n            this.g.f(a);\r\n            if (this.d != null) {\r\n                this.d.removeCandidate(a);\r\n            }\r\n        }\r\n    };\r\n    PagePredictionEngine.prototype.n = function () {\r\n        return this.g.r >= this.af;\r\n    };\r\n    PagePredictionEngine.prototype.m = function (a, b) {\r\n        var c = b / 1000;\r\n        var d = c * this.q;\r\n        if (this.k(a)) {\r\n            return false;\r\n        }\r\n        if (d > 0) {\r\n            var e = d + this.ae;\r\n            if (e >= (a * this.ag)) {\r\n                return false;\r\n            }\r\n        }\r\n        else {\r\n            var f = this.aa + d;\r\n            if (f <= ((a * this.ag) + this.ag)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    PagePredictionEngine.prototype.k = function (a) {\r\n        var b = a * this.ag;\r\n        var c = b + this.ag;\r\n        if (this.ae < b || this.aa > c) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    PagePredictionEngine.prototype.l = function (a) {\r\n        var b = this.ah / 1000;\r\n        var c = b * this.q;\r\n        if (c > 0) {\r\n            var d = c + this.aa;\r\n            if (d > (a * this.ag) + this.ag) {\r\n                return true;\r\n            }\r\n        }\r\n        else {\r\n            var e = this.ae + c;\r\n            if (e < (a * this.ag)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    PagePredictionEngine.prototype.ac = function () {\r\n        return truncate(Math.floor(this.aa / this.ag));\r\n    };\r\n    PagePredictionEngine.prototype.ad = function () {\r\n        return truncate(Math.floor(this.ae / this.ag));\r\n    };\r\n    PagePredictionEngine.prototype.a5 = function () {\r\n        this.q = this.c.j().y;\r\n    };\r\n    PagePredictionEngine.prototype.at = function () {\r\n        this.c.i({ $type: Point_$type, x: 0, y: this.aa });\r\n    };\r\n    PagePredictionEngine.prototype.aw = function () {\r\n        if (this.b != null) {\r\n            this.b.enqueueAction(runOn(this, this.a4));\r\n        }\r\n    };\r\n    PagePredictionEngine.$t = markType(PagePredictionEngine, 'PagePredictionEngine', Base.$, [INotifyPropertyChanged_$type]);\r\n    PagePredictionEngine.aq = \"PageVisibilityDisplayThresholdMilliseconds\";\r\n    return PagePredictionEngine;\r\n}(Base));\r\nexport { PagePredictionEngine };\r\n//# sourceMappingURL=PagePredictionEngine.js.map\r\n"]},"metadata":{},"sourceType":"module"}