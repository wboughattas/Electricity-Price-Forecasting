{"ast":null,"code":"/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, Point_$type, markType } from \"./type\";\nimport { DataSourceVelocityReading } from \"./DataSourceVelocityReading\";\nimport { dateNow } from \"./date\";\n/**\r\n * @hidden\r\n */\n\nvar DataSourceVelocityTracker =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(DataSourceVelocityTracker, _super);\n\n  function DataSourceVelocityTracker() {\n    var _this = _super.call(this) || this;\n\n    _this.f = 0;\n    _this.d = 6;\n    _this.a = null;\n    _this.b = 0;\n    _this.c = 0;\n    _this.f = _this.g();\n    _this.c = 0;\n    _this.a = new Array(_this.d);\n    return _this;\n  }\n\n  DataSourceVelocityTracker.prototype.i = function (a) {\n    var b = this.e();\n    this.a[this.b] = new DataSourceVelocityReading(a, b);\n    this.b++;\n\n    if (this.b > this.d - 1) {\n      this.b = 0;\n    }\n  };\n\n  DataSourceVelocityTracker.prototype.h = function () {\n    for (var a = 0; a < this.d; a++) {\n      this.a[a] = null;\n    }\n  };\n\n  DataSourceVelocityTracker.prototype.j = function () {\n    var a = 0x7FFFFFFF;\n    var b = -2147483648;\n    var c = 0;\n    var d = 0;\n    var e = 0;\n    var f = 0;\n    var g = this.e();\n\n    for (var h = 0; h < this.d; h++) {\n      if (this.a[h] == null) {\n        continue;\n      }\n\n      if (g - this.a[h].a > 300) {\n        continue;\n      }\n\n      if (this.a[h].a < a) {\n        a = this.a[h].a;\n        c = this.a[h].b.x;\n        d = this.a[h].b.y;\n      }\n\n      if (this.a[h].a > b) {\n        b = this.a[h].a;\n        e = this.a[h].b.x;\n        f = this.a[h].b.y;\n      }\n    }\n\n    var i = b - a;\n    i = Math.max(i, 16);\n    var j = i / 1000;\n\n    if (j == 0) {\n      return {\n        $type: Point_$type,\n        x: c,\n        y: d\n      };\n    }\n\n    return {\n      $type: Point_$type,\n      x: (e - c) / j,\n      y: (f - d) / j\n    };\n  };\n\n  DataSourceVelocityTracker.prototype.g = function () {\n    var a = dateNow();\n    return a.getTime();\n  };\n\n  DataSourceVelocityTracker.prototype.e = function () {\n    var a = this.g() - this.f;\n\n    if (a == this.c) {\n      a += 1;\n    }\n\n    this.c = a;\n    return a;\n  };\n\n  DataSourceVelocityTracker.$t = markType(DataSourceVelocityTracker, 'DataSourceVelocityTracker');\n  return DataSourceVelocityTracker;\n}(Base);\n\nexport { DataSourceVelocityTracker };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/DataSourceVelocityTracker.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Base, Point_$type, markType } from \"./type\";\r\nimport { DataSourceVelocityReading } from \"./DataSourceVelocityReading\";\r\nimport { dateNow } from \"./date\";\r\n/**\r\n * @hidden\r\n */\r\nvar DataSourceVelocityTracker = /** @class */ /*@__PURE__*/ (function (_super) {\r\n    tslib_1.__extends(DataSourceVelocityTracker, _super);\r\n    function DataSourceVelocityTracker() {\r\n        var _this = _super.call(this) || this;\r\n        _this.f = 0;\r\n        _this.d = 6;\r\n        _this.a = null;\r\n        _this.b = 0;\r\n        _this.c = 0;\r\n        _this.f = _this.g();\r\n        _this.c = 0;\r\n        _this.a = new Array(_this.d);\r\n        return _this;\r\n    }\r\n    DataSourceVelocityTracker.prototype.i = function (a) {\r\n        var b = this.e();\r\n        this.a[this.b] = new DataSourceVelocityReading(a, b);\r\n        this.b++;\r\n        if (this.b > (this.d - 1)) {\r\n            this.b = 0;\r\n        }\r\n    };\r\n    DataSourceVelocityTracker.prototype.h = function () {\r\n        for (var a = 0; a < this.d; a++) {\r\n            this.a[a] = null;\r\n        }\r\n    };\r\n    DataSourceVelocityTracker.prototype.j = function () {\r\n        var a = 0x7FFFFFFF;\r\n        var b = -2147483648;\r\n        var c = 0;\r\n        var d = 0;\r\n        var e = 0;\r\n        var f = 0;\r\n        var g = this.e();\r\n        for (var h = 0; h < this.d; h++) {\r\n            if (this.a[h] == null) {\r\n                continue;\r\n            }\r\n            if ((g - this.a[h].a) > 300) {\r\n                continue;\r\n            }\r\n            if (this.a[h].a < a) {\r\n                a = this.a[h].a;\r\n                c = this.a[h].b.x;\r\n                d = this.a[h].b.y;\r\n            }\r\n            if (this.a[h].a > b) {\r\n                b = this.a[h].a;\r\n                e = this.a[h].b.x;\r\n                f = this.a[h].b.y;\r\n            }\r\n        }\r\n        var i = b - a;\r\n        i = Math.max(i, 16);\r\n        var j = (i) / 1000;\r\n        if (j == 0) {\r\n            return { $type: Point_$type, x: c, y: d };\r\n        }\r\n        return { $type: Point_$type, x: (e - c) / j, y: (f - d) / j };\r\n    };\r\n    DataSourceVelocityTracker.prototype.g = function () {\r\n        var a = dateNow();\r\n        return a.getTime();\r\n    };\r\n    DataSourceVelocityTracker.prototype.e = function () {\r\n        var a = (this.g() - this.f);\r\n        if (a == this.c) {\r\n            a += 1;\r\n        }\r\n        this.c = a;\r\n        return a;\r\n    };\r\n    DataSourceVelocityTracker.$t = markType(DataSourceVelocityTracker, 'DataSourceVelocityTracker');\r\n    return DataSourceVelocityTracker;\r\n}(Base));\r\nexport { DataSourceVelocityTracker };\r\n//# sourceMappingURL=DataSourceVelocityTracker.js.map\r\n"]},"metadata":{},"sourceType":"module"}