{"ast":null,"code":"/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\nimport { CultureInfo } from \"./culture\";\nimport { FormatException } from \"./type\";\nexport function ieeeRemainder(a, b) {\n  var r = Math.abs(a % b);\n\n  if (isNaN(r) || r == b || r <= Math.abs(b) / 2.0) {\n    return r;\n  } else {\n    return Math.sign(a) * (r - b);\n  }\n}\n;\nexport function numberToString1(value, provider) {\n  return value.toLocaleString(provider.name, {\n    useGrouping: false\n  }); // TODO: Figure out how to use the provider correctly here\n}\nexport function tryParseNumber1(s, style, provider, v) {\n  // TODO: had to change the provider from CultureInfo to any but that's not ideal. see what we should do here\n  var value, i, currentCharCode;\n  provider = provider || CultureInfo.currentCulture;\n  /*jslint bitwise: true */\n\n  if ((style & 1\n  /* AllowLeadingWhite */\n  ) !== 0) {\n    var index = 0;\n\n    while (index < s.length && s[index] === ' ') {\n      index++;\n    }\n\n    s = s.substring(index);\n  }\n\n  if ((style & 2\n  /* AllowTrailingWhite */\n  ) !== 0) {\n    var index = s.length - 1;\n\n    while (index >= 0 && s[index] === ' ') {\n      index--;\n    }\n\n    s = s.substring(0, index + 1);\n  }\n\n  if (s.length != s.trim().length) {\n    return {\n      p3: 0,\n      ret: false\n    };\n  }\n\n  var numberFormat = provider.numberFormat;\n\n  if (style & 256\n  /* AllowCurrencySymbol */\n  ) {\n      // TODO: Use the locale specific symbol from the provider here\n      if (s[0] == \"$\") {\n        s = s.slice(1);\n      }\n    }\n\n  var multiplier = 1;\n  var hadParentheses = false;\n\n  if (style & 16\n  /* AllowParentheses */\n  ) {\n      if (s[0] == \"(\" && s[s.length - 1] == \")\") {\n        hadParentheses = true;\n        multiplier *= -1;\n        s = s.slice(1, -1);\n      }\n    }\n\n  if (style & 256\n  /* AllowCurrencySymbol */\n  ) {\n      // TODO: Use the locale specific symbol from the provider here\n      if (s[0] == \"$\") {\n        s = s.slice(1);\n      }\n    }\n\n  if (style & 4\n  /* AllowLeadingSign */\n  ) {\n      var positiveSign = numberFormat.positiveSign;\n      var negativeSign = numberFormat.negativeSign;\n\n      if (s[0] == positiveSign || s[0] == negativeSign) {\n        if (hadParentheses) {\n          return {\n            p3: 0,\n            ret: false\n          };\n        }\n\n        if (s[0] == negativeSign) {\n          multiplier *= -1;\n        }\n\n        s = s.slice(1);\n      }\n    }\n\n  if (style & 8\n  /* AllowTrailingSign */\n  ) {// TODO\n    }\n\n  if (style & 32\n  /* AllowDecimalPoint */\n  ) {\n      if (style & 128\n      /* AllowExponent */\n      ) {// TODO\n        }\n\n      if (style & 64\n      /* AllowThousands */\n      ) {\n          var decimalSeparator = numberFormat.numberDecimalSeparator;\n          var groupSeparator = numberFormat.numberGroupSeparator;\n          var hitDecimalSeparator = false;\n\n          for (i = 0; i < s.length; i++) {\n            switch (s[i]) {\n              case groupSeparator:\n                if (hitDecimalSeparator) {\n                  return {\n                    p3: 0,\n                    ret: false\n                  };\n                }\n\n                s = s.slice(0, i) + s.slice(i + 1);\n                i--;\n                break;\n\n              case decimalSeparator:\n                hitDecimalSeparator = true;\n\n                if (decimalSeparator != \".\") {\n                  s = s.slice(0, i) + \".\" + s.slice(i + 1);\n                }\n\n                break;\n            }\n          }\n        }\n\n      value = Number(s);\n\n      if (value !== null && isFinite(value) && s.trim().length !== 0) {\n        return {\n          p3: value * multiplier,\n          ret: true\n        };\n      }\n    } else {\n    var zeroCharCode = \"0\".charCodeAt(0);\n    var nineCharCode = \"9\".charCodeAt(0);\n    value = 0;\n\n    if (style & 512\n    /* AllowHexSpecifier */\n    ) {\n        var aCharCode = \"a\".charCodeAt(0);\n        var fCharCode = \"f\".charCodeAt(0);\n        var ACharCode = \"A\".charCodeAt(0);\n        var FCharCode = \"F\".charCodeAt(0);\n\n        for (i = 0; i < s.length; i++) {\n          value *= 16;\n          currentCharCode = s[i].charCodeAt(0);\n\n          if (zeroCharCode <= currentCharCode && currentCharCode <= nineCharCode) {\n            value += currentCharCode - zeroCharCode;\n          } else if (aCharCode <= currentCharCode && currentCharCode <= fCharCode) {\n            value += currentCharCode - aCharCode + 10;\n          } else if (ACharCode <= currentCharCode && currentCharCode <= FCharCode) {\n            value += currentCharCode - ACharCode + 10;\n          } else {\n            return {\n              p3: 0,\n              ret: false\n            };\n          }\n        }\n      } else {\n      for (i = 0; i < s.length; i++) {\n        value *= 10;\n        currentCharCode = s[i].charCodeAt(0);\n\n        if (zeroCharCode <= currentCharCode && currentCharCode <= nineCharCode) {\n          value += currentCharCode - zeroCharCode;\n        } else {\n          return {\n            p3: 0,\n            ret: false\n          };\n        }\n      }\n    }\n\n    return {\n      p3: value * multiplier,\n      ret: true\n    };\n  }\n\n  return {\n    p3: 0,\n    ret: false\n  };\n}\nexport function parseNumber(s, provider) {\n  return parseNumber1(s, 231, provider);\n}\nexport function parseNumber1(s, style, provider) {\n  var r = tryParseNumber1(s, style, provider);\n\n  if (!r.ret) {\n    throw new FormatException(1, \"Incorrect number format\");\n  }\n\n  return r.p3;\n}\nexport function parseInt8_1(s, provider) {\n  return parseIntCore(s, provider, -128, 127);\n}\n;\nexport function parseInt8_2(s, style, provider) {\n  return parseIntCore(s, provider, -128, 127, style);\n}\n;\nexport function parseInt16_1(s, provider) {\n  return parseIntCore(s, provider, -32768, 32767);\n}\n;\nexport function parseInt16_2(s, style, provider) {\n  return parseIntCore(s, provider, -32768, 32767, style);\n}\n;\nexport function parseInt32_1(s, provider) {\n  return parseIntCore(s, provider, -2147483648, 2147483647);\n}\n;\nexport function parseInt32_2(s, style, provider) {\n  return parseIntCore(s, provider, -2147483648, 2147483647, style);\n}\n;\nexport function parseInt64_1(s, provider) {\n  return parseIntCore(s, provider, -9223372036854775808, 9223372036854775807);\n}\n;\nexport function parseInt64_2(s, style, provider) {\n  return parseIntCore(s, provider, -9223372036854775808, 9223372036854775807, style);\n}\n;\nexport function parseUInt8_1(s, provider) {\n  return parseIntCore(s, provider, 0, 255);\n}\n;\nexport function parseUInt8_2(s, style, provider) {\n  return parseIntCore(s, provider, 0, 255, style);\n}\n;\nexport function parseUInt16_1(s, provider) {\n  return parseIntCore(s, provider, 0, 65535);\n}\n;\nexport function parseUInt16_2(s, style, provider) {\n  return parseIntCore(s, provider, 0, 65535, style);\n}\n;\nexport function parseUInt32_1(s, provider) {\n  return parseIntCore(s, provider, 0, 4294967295);\n}\n;\nexport function parseUInt32_2(s, style, provider) {\n  return parseIntCore(s, provider, 0, 4294967295, style);\n}\n;\nexport function parseUInt64_1(s, provider) {\n  return parseIntCore(s, provider, 0, 18446744073709551615);\n}\n;\nexport function parseUInt64_2(s, style, provider) {\n  return parseIntCore(s, provider, 0, 18446744073709551615, style);\n}\n;\nexport function parseIntCore(s, provider, min, max, style) {\n  if (style === void 0) {\n    style = 7\n    /* Integer */\n    ;\n  }\n\n  var r = tryParseIntCore(s, provider, min, max, style);\n\n  if (!r.ret) {\n    throw new FormatException(1, \"Incorrect number format\");\n  }\n\n  return r.p3;\n}\n;\nexport function tryParseInt8_1(s, value) {\n  return tryParseIntCore(s, null, -128, 127);\n}\n;\nexport function tryParseInt8_2(s, style, provider, value) {\n  return tryParseIntCore(s, provider, -128, 127, style);\n}\n;\nexport function tryParseInt16_1(s, value) {\n  return tryParseIntCore(s, null, -32768, 32767);\n}\n;\nexport function tryParseInt16_2(s, style, provider, value) {\n  return tryParseIntCore(s, provider, -32768, 32767, style);\n}\n;\nexport function tryParseInt32_1(s, value) {\n  return tryParseIntCore(s, null, -2147483648, 2147483647);\n}\n;\nexport function tryParseInt32_2(s, style, provider, value) {\n  return tryParseIntCore(s, provider, -2147483648, 2147483647, style);\n}\n;\nexport function tryParseInt64_1(s, value) {\n  return tryParseIntCore(s, null, -9223372036854775808, 9223372036854775807);\n}\n;\nexport function tryParseInt64_2(s, style, provider, value) {\n  return tryParseIntCore(s, provider, -9223372036854775808, 9223372036854775807, style);\n}\n;\nexport function tryParseUInt8_1(s, value) {\n  return tryParseIntCore(s, null, 0, 255);\n}\n;\nexport function tryParseUInt8_2(s, style, provider, value) {\n  return tryParseIntCore(s, provider, 0, 255, style);\n}\n;\nexport function tryParseUInt16_1(s, value) {\n  return tryParseIntCore(s, null, 0, 65535);\n}\n;\nexport function tryParseUInt16_2(s, style, provider, value) {\n  return tryParseIntCore(s, provider, 0, 65535, style);\n}\n;\nexport function tryParseUInt32_1(s, value) {\n  return tryParseIntCore(s, null, 0, 4294967295);\n}\n;\nexport function tryParseUInt32_2(s, style, provider, value) {\n  return tryParseIntCore(s, provider, 0, 4294967295, style);\n}\n;\nexport function tryParseUInt64_1(s, value) {\n  return tryParseIntCore(s, null, 0, 18446744073709551615);\n}\n;\nexport function tryParseUInt64_2(s, style, provider, value) {\n  return tryParseIntCore(s, provider, 0, 18446744073709551615, style);\n}\n;\nexport function tryParseIntCore(s, provider, min, max, style) {\n  if (style === void 0) {\n    style = 7\n    /* Integer */\n    ;\n  }\n  /*jshint eqnull:true */\n\n  /*jslint bitwise: true */\n  //style = style != null ? style : NumberStyles.integer; // Don't use || here, because 0 could be a valid style\n\n\n  provider = provider || CultureInfo.currentCulture;\n  var r = tryParseNumber1(s, style, provider);\n\n  if (style & 512\n  /* AllowHexSpecifier */\n  && max < r.p3) {\n    r.p3 -= -min * 2;\n  }\n\n  if (!r.ret || r.p3 < min || max < r.p3 || r.p3 % 1 !== 0) {\n    return {\n      p1: 0,\n      p3: 0,\n      ret: false\n    };\n  }\n\n  var ret = {\n    p1: r.p3,\n    p3: r.p3,\n    ret: r.ret\n  };\n  return ret;\n}\nexport function numberToString(number, provider) {\n  return numberToString2(number, \"G\", provider);\n}\n;\nvar gFormatOptions = {\n  useGrouping: false,\n  maximumSignificantDigits: 15\n};\nvar zeroFormatOptions = {\n  useGrouping: false,\n  maximumSignificantDigits: 15,\n  maximumFractionDigits: 0\n};\nexport function numberToString2(number, format, provider) {\n  // TODO: had to change the provider from CultureInfo to any but that's not ideal. see what we should do here\n  provider = provider || CultureInfo.currentCulture;\n\n  switch (format) {\n    case \"G\":\n      return number.toLocaleString(provider.name, gFormatOptions);\n\n    case \"R\":\n    case \"r\":\n      return number.toString().replace(\".\", provider.numberFormat.numberDecimalSeparator);\n  }\n\n  if (format.match(/[0\\#\\.]+/)) {\n    var isValid = true;\n    var formatIndexOfDecimalSeparator = format.indexOf(\".\");\n    var decimalFormat = formatIndexOfDecimalSeparator == -1 ? \"\" : format.substring(formatIndexOfDecimalSeparator + 1);\n    var numberString = number.toFixed(decimalFormat.length).toString();\n    var numberIndexOfDecimalSeparator = numberString.indexOf(\".\");\n    var integralPart = numberIndexOfDecimalSeparator == -1 ? numberString : numberString.substring(0, numberIndexOfDecimalSeparator);\n    var integralFormat = formatIndexOfDecimalSeparator == -1 ? format : format.substring(0, formatIndexOfDecimalSeparator);\n\n    while (integralFormat.length < integralPart.length) {\n      integralFormat = \"0\" + integralFormat;\n    }\n\n    while (integralPart.length < integralFormat.length) {\n      integralPart = \"0\" + integralPart;\n    }\n\n    var formattedIntegralPart = \"\";\n    var digit;\n\n    for (var ii = integralFormat.length - 1; ii >= 0; ii--) {\n      if (integralFormat[ii] == \"0\") {\n        formattedIntegralPart = integralPart[ii] + formattedIntegralPart;\n      } else if (integralFormat[ii] == \"#\") {\n        digit = integralPart.substring(0, ii + 1).match(/[1-9]/) ? integralPart[ii] : \"\";\n        formattedIntegralPart = digit + formattedIntegralPart;\n      } else {\n        isValid = false;\n      }\n    }\n\n    var decimalPart = numberIndexOfDecimalSeparator == -1 ? \"\" : numberString.substring(numberIndexOfDecimalSeparator + 1);\n    var formattedDecimalPart = \"\";\n\n    for (var jj = 0; jj < decimalFormat.length; jj++) {\n      if (decimalFormat[jj] == \"0\") {\n        formattedDecimalPart += decimalPart[jj];\n      } else if (decimalFormat[jj] == \"#\") {\n        digit = decimalPart.length > jj && (decimalPart[jj] != \"0\" || decimalPart.substring(jj).match(/[1-9]/)) ? decimalPart[jj] : \"\";\n        formattedDecimalPart += digit;\n      } else {\n        isValid = false;\n      }\n    }\n\n    if (isValid) {\n      return formattedIntegralPart + (formattedDecimalPart.length > 0 ? \".\" + formattedDecimalPart : \"\");\n    }\n  }\n\n  throw new FormatException(1, \"Unsupported format code: \" + format);\n}\nexport function intToString(number, provider) {\n  return intToString1(number, \"G\", provider);\n}\n;\nexport function intToString1(number, format, provider) {\n  provider = provider || CultureInfo.currentCulture;\n\n  if (format && format.length) {\n    if (format[0] == \"X\") {\n      number = intSToU(number);\n      var result = number.toString(16).toUpperCase();\n\n      if (format.length !== 1) {\n        var digits = +format.substr(1);\n\n        if (!isFinite(digits)) {\n          throw new Error(\"Unsupported format code: \" + format);\n        }\n\n        while (result.length < digits) {\n          result = \"0\" + result;\n        }\n      }\n\n      return result;\n    }\n  }\n\n  switch (format) {\n    case \"G\":\n      return number.toLocaleString(provider.name, gFormatOptions);\n  }\n\n  throw new Error(\"Unsupported format code: \" + format);\n}\nexport function intSToU(number) {\n  if (number < 0) {\n    number = number + 1 + 0xFFFFFFFF;\n  }\n\n  return number;\n}\nexport function u32BitwiseAnd(a, b) {\n  var r = a & b;\n\n  if (r < 0) {\n    r += 4294967296;\n  }\n\n  return r;\n}\nexport function u32BitwiseOr(a, b) {\n  var r = a | b;\n\n  if (r < 0) {\n    r += 4294967296;\n  }\n\n  return r;\n}\nexport function u32BitwiseXor(a, b) {\n  var r = a ^ b;\n\n  if (r < 0) {\n    r += 4294967296;\n  }\n\n  return r;\n}\nexport function u32LS(a, b) {\n  var r = a << b;\n\n  if (r < 0) {\n    r += 4294967296;\n  }\n\n  return r;\n}\nexport function decimalAdjust(type, value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === \"undefined\" || +exp === 0) {\n    return Math[type](value);\n  }\n\n  value = +value;\n  exp = +exp; // If the value is not a number or the exp is not an integer...\n\n  if (isNaN(value) || !(typeof exp === \"number\" && exp % 1 === 0)) {\n    return NaN;\n  } // Shift\n\n\n  value = value.toString().split(\"e\");\n  value = Math[type](+(value[0] + \"e\" + (value[1] ? +value[1] - exp : -exp))); // Shift back\n\n  value = value.toString().split(\"e\");\n  return +(value[0] + \"e\" + (value[1] ? +value[1] + exp : exp));\n}\nexport function round10(value, exp) {\n  return decimalAdjust(\"round\", value, exp);\n}\nexport function round10N(value, exp) {\n  return decimalAdjust(\"round\", value, -exp);\n}\nexport function floor10(value, exp) {\n  return decimalAdjust(\"floor\", value, exp);\n}\nexport function ceil10(value, exp) {\n  return decimalAdjust(\"ceil\", value, exp);\n}","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/numberExtended.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\r\nimport { CultureInfo } from \"./culture\";\r\nimport { FormatException } from \"./type\";\r\nexport function ieeeRemainder(a, b) {\r\n    var r = Math.abs(a % b);\r\n    if (isNaN(r) || r == b || r <= Math.abs(b) / 2.0) {\r\n        return r;\r\n    }\r\n    else {\r\n        return Math.sign(a) * (r - b);\r\n    }\r\n}\r\n;\r\nexport function numberToString1(value, provider) {\r\n    return value.toLocaleString(provider.name, { useGrouping: false }); // TODO: Figure out how to use the provider correctly here\r\n}\r\nexport function tryParseNumber1(s, style, provider, v) {\r\n    // TODO: had to change the provider from CultureInfo to any but that's not ideal. see what we should do here\r\n    var value, i, currentCharCode;\r\n    provider = provider || CultureInfo.currentCulture;\r\n    /*jslint bitwise: true */\r\n    if ((style & 1 /* AllowLeadingWhite */) !== 0) {\r\n        var index = 0;\r\n        while (index < s.length && s[index] === ' ') {\r\n            index++;\r\n        }\r\n        s = s.substring(index);\r\n    }\r\n    if ((style & 2 /* AllowTrailingWhite */) !== 0) {\r\n        var index = s.length - 1;\r\n        while (index >= 0 && s[index] === ' ') {\r\n            index--;\r\n        }\r\n        s = s.substring(0, index + 1);\r\n    }\r\n    if (s.length != s.trim().length) {\r\n        return {\r\n            p3: 0,\r\n            ret: false\r\n        };\r\n    }\r\n    var numberFormat = provider.numberFormat;\r\n    if (style & 256 /* AllowCurrencySymbol */) {\r\n        // TODO: Use the locale specific symbol from the provider here\r\n        if (s[0] == \"$\") {\r\n            s = s.slice(1);\r\n        }\r\n    }\r\n    var multiplier = 1;\r\n    var hadParentheses = false;\r\n    if (style & 16 /* AllowParentheses */) {\r\n        if (s[0] == \"(\" && s[s.length - 1] == \")\") {\r\n            hadParentheses = true;\r\n            multiplier *= -1;\r\n            s = s.slice(1, -1);\r\n        }\r\n    }\r\n    if (style & 256 /* AllowCurrencySymbol */) {\r\n        // TODO: Use the locale specific symbol from the provider here\r\n        if (s[0] == \"$\") {\r\n            s = s.slice(1);\r\n        }\r\n    }\r\n    if (style & 4 /* AllowLeadingSign */) {\r\n        var positiveSign = numberFormat.positiveSign;\r\n        var negativeSign = numberFormat.negativeSign;\r\n        if (s[0] == positiveSign || s[0] == negativeSign) {\r\n            if (hadParentheses) {\r\n                return {\r\n                    p3: 0,\r\n                    ret: false\r\n                };\r\n            }\r\n            if (s[0] == negativeSign) {\r\n                multiplier *= -1;\r\n            }\r\n            s = s.slice(1);\r\n        }\r\n    }\r\n    if (style & 8 /* AllowTrailingSign */) {\r\n        // TODO\r\n    }\r\n    if (style & 32 /* AllowDecimalPoint */) {\r\n        if (style & 128 /* AllowExponent */) {\r\n            // TODO\r\n        }\r\n        if (style & 64 /* AllowThousands */) {\r\n            var decimalSeparator = numberFormat.numberDecimalSeparator;\r\n            var groupSeparator = numberFormat.numberGroupSeparator;\r\n            var hitDecimalSeparator = false;\r\n            for (i = 0; i < s.length; i++) {\r\n                switch (s[i]) {\r\n                    case groupSeparator:\r\n                        if (hitDecimalSeparator) {\r\n                            return {\r\n                                p3: 0,\r\n                                ret: false\r\n                            };\r\n                        }\r\n                        s = s.slice(0, i) + s.slice(i + 1);\r\n                        i--;\r\n                        break;\r\n                    case decimalSeparator:\r\n                        hitDecimalSeparator = true;\r\n                        if (decimalSeparator != \".\") {\r\n                            s = s.slice(0, i) + \".\" + s.slice(i + 1);\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        value = Number(s);\r\n        if (value !== null && isFinite(value) && s.trim().length !== 0) {\r\n            return {\r\n                p3: value * multiplier,\r\n                ret: true\r\n            };\r\n        }\r\n    }\r\n    else {\r\n        var zeroCharCode = \"0\".charCodeAt(0);\r\n        var nineCharCode = \"9\".charCodeAt(0);\r\n        value = 0;\r\n        if (style & 512 /* AllowHexSpecifier */) {\r\n            var aCharCode = \"a\".charCodeAt(0);\r\n            var fCharCode = \"f\".charCodeAt(0);\r\n            var ACharCode = \"A\".charCodeAt(0);\r\n            var FCharCode = \"F\".charCodeAt(0);\r\n            for (i = 0; i < s.length; i++) {\r\n                value *= 16;\r\n                currentCharCode = s[i].charCodeAt(0);\r\n                if (zeroCharCode <= currentCharCode && currentCharCode <= nineCharCode) {\r\n                    value += (currentCharCode - zeroCharCode);\r\n                }\r\n                else if (aCharCode <= currentCharCode && currentCharCode <= fCharCode) {\r\n                    value += (currentCharCode - aCharCode) + 10;\r\n                }\r\n                else if (ACharCode <= currentCharCode && currentCharCode <= FCharCode) {\r\n                    value += (currentCharCode - ACharCode) + 10;\r\n                }\r\n                else {\r\n                    return {\r\n                        p3: 0,\r\n                        ret: false\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (i = 0; i < s.length; i++) {\r\n                value *= 10;\r\n                currentCharCode = s[i].charCodeAt(0);\r\n                if (zeroCharCode <= currentCharCode && currentCharCode <= nineCharCode) {\r\n                    value += (currentCharCode - zeroCharCode);\r\n                }\r\n                else {\r\n                    return {\r\n                        p3: 0,\r\n                        ret: false\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            p3: value * multiplier,\r\n            ret: true\r\n        };\r\n    }\r\n    return {\r\n        p3: 0,\r\n        ret: false\r\n    };\r\n}\r\nexport function parseNumber(s, provider) {\r\n    return parseNumber1(s, 231, provider);\r\n}\r\nexport function parseNumber1(s, style, provider) {\r\n    var r = tryParseNumber1(s, style, provider);\r\n    if (!r.ret) {\r\n        throw new FormatException(1, \"Incorrect number format\");\r\n    }\r\n    return r.p3;\r\n}\r\nexport function parseInt8_1(s, provider) {\r\n    return parseIntCore(s, provider, -128, 127);\r\n}\r\n;\r\nexport function parseInt8_2(s, style, provider) {\r\n    return parseIntCore(s, provider, -128, 127, style);\r\n}\r\n;\r\nexport function parseInt16_1(s, provider) {\r\n    return parseIntCore(s, provider, -32768, 32767);\r\n}\r\n;\r\nexport function parseInt16_2(s, style, provider) {\r\n    return parseIntCore(s, provider, -32768, 32767, style);\r\n}\r\n;\r\nexport function parseInt32_1(s, provider) {\r\n    return parseIntCore(s, provider, -2147483648, 2147483647);\r\n}\r\n;\r\nexport function parseInt32_2(s, style, provider) {\r\n    return parseIntCore(s, provider, -2147483648, 2147483647, style);\r\n}\r\n;\r\nexport function parseInt64_1(s, provider) {\r\n    return parseIntCore(s, provider, -9223372036854775808, 9223372036854775807);\r\n}\r\n;\r\nexport function parseInt64_2(s, style, provider) {\r\n    return parseIntCore(s, provider, -9223372036854775808, 9223372036854775807, style);\r\n}\r\n;\r\nexport function parseUInt8_1(s, provider) {\r\n    return parseIntCore(s, provider, 0, 255);\r\n}\r\n;\r\nexport function parseUInt8_2(s, style, provider) {\r\n    return parseIntCore(s, provider, 0, 255, style);\r\n}\r\n;\r\nexport function parseUInt16_1(s, provider) {\r\n    return parseIntCore(s, provider, 0, 65535);\r\n}\r\n;\r\nexport function parseUInt16_2(s, style, provider) {\r\n    return parseIntCore(s, provider, 0, 65535, style);\r\n}\r\n;\r\nexport function parseUInt32_1(s, provider) {\r\n    return parseIntCore(s, provider, 0, 4294967295);\r\n}\r\n;\r\nexport function parseUInt32_2(s, style, provider) {\r\n    return parseIntCore(s, provider, 0, 4294967295, style);\r\n}\r\n;\r\nexport function parseUInt64_1(s, provider) {\r\n    return parseIntCore(s, provider, 0, 18446744073709551615);\r\n}\r\n;\r\nexport function parseUInt64_2(s, style, provider) {\r\n    return parseIntCore(s, provider, 0, 18446744073709551615, style);\r\n}\r\n;\r\nexport function parseIntCore(s, provider, min, max, style) {\r\n    if (style === void 0) {\r\n        style = 7 /* Integer */;\r\n    }\r\n    var r = tryParseIntCore(s, provider, min, max, style);\r\n    if (!r.ret) {\r\n        throw new FormatException(1, \"Incorrect number format\");\r\n    }\r\n    return r.p3;\r\n}\r\n;\r\nexport function tryParseInt8_1(s, value) {\r\n    return tryParseIntCore(s, null, -128, 127);\r\n}\r\n;\r\nexport function tryParseInt8_2(s, style, provider, value) {\r\n    return tryParseIntCore(s, provider, -128, 127, style);\r\n}\r\n;\r\nexport function tryParseInt16_1(s, value) {\r\n    return tryParseIntCore(s, null, -32768, 32767);\r\n}\r\n;\r\nexport function tryParseInt16_2(s, style, provider, value) {\r\n    return tryParseIntCore(s, provider, -32768, 32767, style);\r\n}\r\n;\r\nexport function tryParseInt32_1(s, value) {\r\n    return tryParseIntCore(s, null, -2147483648, 2147483647);\r\n}\r\n;\r\nexport function tryParseInt32_2(s, style, provider, value) {\r\n    return tryParseIntCore(s, provider, -2147483648, 2147483647, style);\r\n}\r\n;\r\nexport function tryParseInt64_1(s, value) {\r\n    return tryParseIntCore(s, null, -9223372036854775808, 9223372036854775807);\r\n}\r\n;\r\nexport function tryParseInt64_2(s, style, provider, value) {\r\n    return tryParseIntCore(s, provider, -9223372036854775808, 9223372036854775807, style);\r\n}\r\n;\r\nexport function tryParseUInt8_1(s, value) {\r\n    return tryParseIntCore(s, null, 0, 255);\r\n}\r\n;\r\nexport function tryParseUInt8_2(s, style, provider, value) {\r\n    return tryParseIntCore(s, provider, 0, 255, style);\r\n}\r\n;\r\nexport function tryParseUInt16_1(s, value) {\r\n    return tryParseIntCore(s, null, 0, 65535);\r\n}\r\n;\r\nexport function tryParseUInt16_2(s, style, provider, value) {\r\n    return tryParseIntCore(s, provider, 0, 65535, style);\r\n}\r\n;\r\nexport function tryParseUInt32_1(s, value) {\r\n    return tryParseIntCore(s, null, 0, 4294967295);\r\n}\r\n;\r\nexport function tryParseUInt32_2(s, style, provider, value) {\r\n    return tryParseIntCore(s, provider, 0, 4294967295, style);\r\n}\r\n;\r\nexport function tryParseUInt64_1(s, value) {\r\n    return tryParseIntCore(s, null, 0, 18446744073709551615);\r\n}\r\n;\r\nexport function tryParseUInt64_2(s, style, provider, value) {\r\n    return tryParseIntCore(s, provider, 0, 18446744073709551615, style);\r\n}\r\n;\r\nexport function tryParseIntCore(s, provider, min, max, style) {\r\n    if (style === void 0) {\r\n        style = 7 /* Integer */;\r\n    }\r\n    /*jshint eqnull:true */\r\n    /*jslint bitwise: true */\r\n    //style = style != null ? style : NumberStyles.integer; // Don't use || here, because 0 could be a valid style\r\n    provider = provider || CultureInfo.currentCulture;\r\n    var r = tryParseNumber1(s, style, provider);\r\n    if ((style & 512 /* AllowHexSpecifier */) && max < r.p3) {\r\n        r.p3 -= (-min * 2);\r\n    }\r\n    if (!r.ret || r.p3 < min || max < r.p3 || r.p3 % 1 !== 0) {\r\n        return {\r\n            p1: 0,\r\n            p3: 0,\r\n            ret: false\r\n        };\r\n    }\r\n    var ret = {\r\n        p1: r.p3,\r\n        p3: r.p3,\r\n        ret: r.ret\r\n    };\r\n    return ret;\r\n}\r\nexport function numberToString(number, provider) {\r\n    return numberToString2(number, \"G\", provider);\r\n}\r\n;\r\nvar gFormatOptions = { useGrouping: false, maximumSignificantDigits: 15 };\r\nvar zeroFormatOptions = {\r\n    useGrouping: false,\r\n    maximumSignificantDigits: 15,\r\n    maximumFractionDigits: 0\r\n};\r\nexport function numberToString2(number, format, provider) {\r\n    // TODO: had to change the provider from CultureInfo to any but that's not ideal. see what we should do here\r\n    provider = provider || CultureInfo.currentCulture;\r\n    switch (format) {\r\n        case \"G\":\r\n            return number.toLocaleString(provider.name, gFormatOptions);\r\n        case \"R\":\r\n        case \"r\":\r\n            return number.toString()\r\n                .replace(\".\", provider.numberFormat.numberDecimalSeparator);\r\n    }\r\n    if (format.match(/[0\\#\\.]+/)) {\r\n        var isValid = true;\r\n        var formatIndexOfDecimalSeparator = format.indexOf(\".\");\r\n        var decimalFormat = formatIndexOfDecimalSeparator == -1 ? \"\" :\r\n            format.substring(formatIndexOfDecimalSeparator + 1);\r\n        var numberString = number.toFixed(decimalFormat.length).toString();\r\n        var numberIndexOfDecimalSeparator = numberString.indexOf(\".\");\r\n        var integralPart = numberIndexOfDecimalSeparator == -1 ? numberString :\r\n            numberString.substring(0, numberIndexOfDecimalSeparator);\r\n        var integralFormat = formatIndexOfDecimalSeparator == -1 ? format :\r\n            format.substring(0, formatIndexOfDecimalSeparator);\r\n        while (integralFormat.length < integralPart.length) {\r\n            integralFormat = \"0\" + integralFormat;\r\n        }\r\n        while (integralPart.length < integralFormat.length) {\r\n            integralPart = \"0\" + integralPart;\r\n        }\r\n        var formattedIntegralPart = \"\";\r\n        var digit;\r\n        for (var ii = integralFormat.length - 1; ii >= 0; ii--) {\r\n            if (integralFormat[ii] == \"0\") {\r\n                formattedIntegralPart = integralPart[ii] + formattedIntegralPart;\r\n            }\r\n            else if (integralFormat[ii] == \"#\") {\r\n                digit = integralPart.substring(0, ii + 1).match(/[1-9]/) ?\r\n                    integralPart[ii] : \"\";\r\n                formattedIntegralPart = digit + formattedIntegralPart;\r\n            }\r\n            else {\r\n                isValid = false;\r\n            }\r\n        }\r\n        var decimalPart = numberIndexOfDecimalSeparator == -1 ? \"\" :\r\n            numberString.substring(numberIndexOfDecimalSeparator + 1);\r\n        var formattedDecimalPart = \"\";\r\n        for (var jj = 0; jj < decimalFormat.length; jj++) {\r\n            if (decimalFormat[jj] == \"0\") {\r\n                formattedDecimalPart += decimalPart[jj];\r\n            }\r\n            else if (decimalFormat[jj] == \"#\") {\r\n                digit = decimalPart.length > jj && (decimalPart[jj] != \"0\" || decimalPart.substring(jj).match(/[1-9]/)) ?\r\n                    decimalPart[jj] : \"\";\r\n                formattedDecimalPart += digit;\r\n            }\r\n            else {\r\n                isValid = false;\r\n            }\r\n        }\r\n        if (isValid) {\r\n            return formattedIntegralPart +\r\n                (formattedDecimalPart.length > 0 ? \".\" + formattedDecimalPart : \"\");\r\n        }\r\n    }\r\n    throw new FormatException(1, \"Unsupported format code: \" + format);\r\n}\r\nexport function intToString(number, provider) {\r\n    return intToString1(number, \"G\", provider);\r\n}\r\n;\r\nexport function intToString1(number, format, provider) {\r\n    provider = provider || CultureInfo.currentCulture;\r\n    if (format && format.length) {\r\n        if (format[0] == \"X\") {\r\n            number = intSToU(number);\r\n            var result = number.toString(16).toUpperCase();\r\n            if (format.length !== 1) {\r\n                var digits = +format.substr(1);\r\n                if (!isFinite(digits)) {\r\n                    throw new Error(\"Unsupported format code: \" + format);\r\n                }\r\n                while (result.length < digits) {\r\n                    result = \"0\" + result;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n    switch (format) {\r\n        case \"G\":\r\n            return number.toLocaleString(provider.name, gFormatOptions);\r\n    }\r\n    throw new Error(\"Unsupported format code: \" + format);\r\n}\r\nexport function intSToU(number) {\r\n    if (number < 0) {\r\n        number = number + 1 + 0xFFFFFFFF;\r\n    }\r\n    return number;\r\n}\r\nexport function u32BitwiseAnd(a, b) {\r\n    var r = a & b;\r\n    if (r < 0) {\r\n        r += 4294967296;\r\n    }\r\n    return r;\r\n}\r\nexport function u32BitwiseOr(a, b) {\r\n    var r = a | b;\r\n    if (r < 0) {\r\n        r += 4294967296;\r\n    }\r\n    return r;\r\n}\r\nexport function u32BitwiseXor(a, b) {\r\n    var r = a ^ b;\r\n    if (r < 0) {\r\n        r += 4294967296;\r\n    }\r\n    return r;\r\n}\r\nexport function u32LS(a, b) {\r\n    var r = a << b;\r\n    if (r < 0) {\r\n        r += 4294967296;\r\n    }\r\n    return r;\r\n}\r\nexport function decimalAdjust(type, value, exp) {\r\n    // If the exp is undefined or zero...\r\n    if (typeof exp === \"undefined\" || +exp === 0) {\r\n        return Math[type](value);\r\n    }\r\n    value = +value;\r\n    exp = +exp;\r\n    // If the value is not a number or the exp is not an integer...\r\n    if (isNaN(value) || !(typeof exp === \"number\" && exp % 1 === 0)) {\r\n        return NaN;\r\n    }\r\n    // Shift\r\n    value = value.toString().split(\"e\");\r\n    value = Math[type](+(value[0] + \"e\" + (value[1] ? (+value[1] - exp) : -exp)));\r\n    // Shift back\r\n    value = value.toString().split(\"e\");\r\n    return +(value[0] + \"e\" + (value[1] ? (+value[1] + exp) : exp));\r\n}\r\nexport function round10(value, exp) {\r\n    return decimalAdjust(\"round\", value, exp);\r\n}\r\nexport function round10N(value, exp) {\r\n    return decimalAdjust(\"round\", value, -exp);\r\n}\r\nexport function floor10(value, exp) {\r\n    return decimalAdjust(\"floor\", value, exp);\r\n}\r\nexport function ceil10(value, exp) {\r\n    return decimalAdjust(\"ceil\", value, exp);\r\n}\r\n//# sourceMappingURL=numberExtended.js.map\r\n"]},"metadata":{},"sourceType":"module"}