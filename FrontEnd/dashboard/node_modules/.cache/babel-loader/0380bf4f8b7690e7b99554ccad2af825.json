{"ast":null,"code":"/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, String_$type, runOn, fromEnum, markType } from \"./type\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { AnimationState } from \"./AnimationState\";\nimport { List$1 } from \"./List$1\";\nimport { dateNow } from \"./date\";\n/**\r\n * @hidden\r\n */\n\nvar AnimationManager =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(AnimationManager, _super);\n\n  function AnimationManager(a) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.c = new Dictionary$2(String_$type, AnimationState.$, 0);\n    _this.b = false;\n    _this.e = -1;\n    _this.a = a;\n    return _this;\n  }\n\n  AnimationManager.prototype.d = function () {\n    return dateNow();\n  };\n\n  AnimationManager.prototype.h = function (a, b, c, d, e, f, g) {\n    var h = new AnimationState();\n    h.d = f;\n    h.e = g;\n    h.i = b;\n    h.g = c;\n    h.c = this.d();\n    h.a = d;\n    h.f = e;\n    this.f(h);\n  };\n\n  AnimationManager.prototype.g = function (a, b, c, d, e) {\n    var f = new AnimationState();\n    f.j = a;\n    f.i = b;\n    f.g = c;\n    f.c = this.d();\n    f.a = d;\n    f.f = e;\n    this.f(f);\n  };\n\n  AnimationManager.prototype.f = function (a) {\n    if (this.c.containsKey(a.j)) {\n      this.i(a.j, 0);\n    }\n\n    this.c.addItem(a.j, a);\n    this.j();\n    this.a.requestFrame(this.e);\n  };\n\n  AnimationManager.prototype.i = function (a, b) {\n    if (!this.c.containsKey(a)) {\n      return;\n    }\n\n    var c = this.c.item(a);\n    var d = c.a;\n\n    if (b == 2) {\n      c.a(c.f(0), c);\n    }\n\n    if (b == 1) {\n      c.a(c.f(1), c);\n    }\n\n    this.c.removeItem(a);\n    this.j();\n  };\n\n  AnimationManager.prototype.j = function () {\n    if (this.c.count == 0) {\n      this.m();\n    } else {\n      this.l();\n    }\n  };\n\n  AnimationManager.prototype.l = function () {\n    if (this.b) {\n      return;\n    }\n\n    this.b = true;\n    this.e = this.a.setupTicking(runOn(this, this.n));\n  };\n\n  AnimationManager.prototype.m = function () {\n    if (this.b) {\n      this.a.teardownTicking(this.e);\n      this.e = -1;\n    }\n\n    this.b = false;\n  };\n\n  AnimationManager.prototype.n = function () {\n    var e_1, _a, e_2, _b;\n\n    var a = dateNow();\n    var b = new List$1(String_$type, 0);\n\n    try {\n      for (var _c = tslib_1.__values(fromEnum(this.c.values)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var c = _d.value;\n        var d = false;\n        var e = a.getTime() - c.c.getTime();\n\n        if (e >= c.g) {\n          e = c.g;\n          d = true;\n        }\n\n        if (e - c.h < 16 && e != c.g) {\n          continue;\n        }\n\n        c.h = e;\n        c.b = d;\n        var f = e / c.g;\n        f = c.f(f);\n        c.a(f, c);\n\n        if (d) {\n          b.add(c.j);\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    try {\n      for (var _e = tslib_1.__values(fromEnum(b)), _f = _e.next(); !_f.done; _f = _e.next()) {\n        var g = _f.value;\n        this.c.removeItem(g);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    this.j();\n\n    if (this.b) {\n      this.a.requestFrame(this.e);\n    }\n  };\n\n  AnimationManager.prototype.k = function () {\n    this.c.clear();\n    this.m();\n  };\n\n  AnimationManager.$t = markType(AnimationManager, 'AnimationManager');\n  return AnimationManager;\n}(Base);\n\nexport { AnimationManager };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/AnimationManager.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Base, String_$type, runOn, fromEnum, markType } from \"./type\";\r\nimport { Dictionary$2 } from \"./Dictionary$2\";\r\nimport { AnimationState } from \"./AnimationState\";\r\nimport { List$1 } from \"./List$1\";\r\nimport { dateNow } from \"./date\";\r\n/**\r\n * @hidden\r\n */\r\nvar AnimationManager = /** @class */ /*@__PURE__*/ (function (_super) {\r\n    tslib_1.__extends(AnimationManager, _super);\r\n    function AnimationManager(a) {\r\n        var _this = _super.call(this) || this;\r\n        _this.a = null;\r\n        _this.c = new Dictionary$2(String_$type, AnimationState.$, 0);\r\n        _this.b = false;\r\n        _this.e = -1;\r\n        _this.a = a;\r\n        return _this;\r\n    }\r\n    AnimationManager.prototype.d = function () {\r\n        return dateNow();\r\n    };\r\n    AnimationManager.prototype.h = function (a, b, c, d, e, f, g) {\r\n        var h = new AnimationState();\r\n        h.d = f;\r\n        h.e = g;\r\n        h.i = b;\r\n        h.g = c;\r\n        h.c = this.d();\r\n        h.a = d;\r\n        h.f = e;\r\n        this.f(h);\r\n    };\r\n    AnimationManager.prototype.g = function (a, b, c, d, e) {\r\n        var f = new AnimationState();\r\n        f.j = a;\r\n        f.i = b;\r\n        f.g = c;\r\n        f.c = this.d();\r\n        f.a = d;\r\n        f.f = e;\r\n        this.f(f);\r\n    };\r\n    AnimationManager.prototype.f = function (a) {\r\n        if (this.c.containsKey(a.j)) {\r\n            this.i(a.j, 0);\r\n        }\r\n        this.c.addItem(a.j, a);\r\n        this.j();\r\n        this.a.requestFrame(this.e);\r\n    };\r\n    AnimationManager.prototype.i = function (a, b) {\r\n        if (!this.c.containsKey(a)) {\r\n            return;\r\n        }\r\n        var c = this.c.item(a);\r\n        var d = c.a;\r\n        if (b == 2) {\r\n            c.a(c.f(0), c);\r\n        }\r\n        if (b == 1) {\r\n            c.a(c.f(1), c);\r\n        }\r\n        this.c.removeItem(a);\r\n        this.j();\r\n    };\r\n    AnimationManager.prototype.j = function () {\r\n        if (this.c.count == 0) {\r\n            this.m();\r\n        }\r\n        else {\r\n            this.l();\r\n        }\r\n    };\r\n    AnimationManager.prototype.l = function () {\r\n        if (this.b) {\r\n            return;\r\n        }\r\n        this.b = true;\r\n        this.e = this.a.setupTicking(runOn(this, this.n));\r\n    };\r\n    AnimationManager.prototype.m = function () {\r\n        if (this.b) {\r\n            this.a.teardownTicking(this.e);\r\n            this.e = -1;\r\n        }\r\n        this.b = false;\r\n    };\r\n    AnimationManager.prototype.n = function () {\r\n        var e_1, _a, e_2, _b;\r\n        var a = dateNow();\r\n        var b = new List$1(String_$type, 0);\r\n        try {\r\n            for (var _c = tslib_1.__values(fromEnum(this.c.values)), _d = _c.next(); !_d.done; _d = _c.next()) {\r\n                var c = _d.value;\r\n                var d = false;\r\n                var e = (a.getTime() - c.c.getTime());\r\n                if (e >= c.g) {\r\n                    e = c.g;\r\n                    d = true;\r\n                }\r\n                if ((e - c.h < 16 && e != c.g)) {\r\n                    continue;\r\n                }\r\n                c.h = e;\r\n                c.b = d;\r\n                var f = (e / c.g);\r\n                f = c.f(f);\r\n                c.a(f, c);\r\n                if (d) {\r\n                    b.add(c.j);\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) {\r\n            e_1 = { error: e_1_1 };\r\n        }\r\n        finally {\r\n            try {\r\n                if (_d && !_d.done && (_a = _c.return))\r\n                    _a.call(_c);\r\n            }\r\n            finally {\r\n                if (e_1)\r\n                    throw e_1.error;\r\n            }\r\n        }\r\n        try {\r\n            for (var _e = tslib_1.__values(fromEnum(b)), _f = _e.next(); !_f.done; _f = _e.next()) {\r\n                var g = _f.value;\r\n                this.c.removeItem(g);\r\n            }\r\n        }\r\n        catch (e_2_1) {\r\n            e_2 = { error: e_2_1 };\r\n        }\r\n        finally {\r\n            try {\r\n                if (_f && !_f.done && (_b = _e.return))\r\n                    _b.call(_e);\r\n            }\r\n            finally {\r\n                if (e_2)\r\n                    throw e_2.error;\r\n            }\r\n        }\r\n        this.j();\r\n        if (this.b) {\r\n            this.a.requestFrame(this.e);\r\n        }\r\n    };\r\n    AnimationManager.prototype.k = function () {\r\n        this.c.clear();\r\n        this.m();\r\n    };\r\n    AnimationManager.$t = markType(AnimationManager, 'AnimationManager');\r\n    return AnimationManager;\r\n}(Base));\r\nexport { AnimationManager };\r\n//# sourceMappingURL=AnimationManager.js.map\r\n"]},"metadata":{},"sourceType":"module"}