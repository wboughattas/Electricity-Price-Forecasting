{"ast":null,"code":"/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, Point_$type, runOn, markType } from \"./type\";\nimport { TouchVelocityTracker } from \"./TouchVelocityTracker\";\nimport { TouchPointInfo } from \"./TouchPointInfo\";\nimport { TouchGestureEventArgs } from \"./TouchGestureEventArgs\";\nimport { isNaN_ } from \"./number\";\n/**\r\n * @hidden\r\n */\n\nvar TouchGestureRecognizer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(TouchGestureRecognizer, _super);\n\n  function TouchGestureRecognizer(a) {\n    var _this = _super.call(this) || this;\n\n    _this.n = 0;\n    _this.p = new TouchVelocityTracker();\n    _this.t = 0;\n    _this.u = 0;\n    _this.aa = 0;\n    _this.ab = 0;\n    _this.v = 0;\n    _this.w = 0;\n    _this.am = NaN;\n    _this.an = NaN;\n    _this.al = NaN;\n    _this.aj = 1;\n    _this.ak = 1;\n    _this.y = 1;\n    _this.x = 10;\n    _this.ay = -1;\n    _this.ao = 0;\n    _this.ap = 0;\n    _this.af = 1;\n    _this.ag = 1;\n    _this.ac = 1;\n    _this.ad = NaN;\n    _this.ae = NaN;\n    _this.o = null;\n    _this.au = 800;\n    _this.aw = -1;\n    _this.b = null;\n    _this.q = false;\n    _this.ax = -1;\n    _this.holdStarting = null;\n    _this.holdEnding = null;\n    _this.panStarting = null;\n    _this.manipulationStarting = null;\n    _this.manipulationChanging = null;\n    _this.manipulationEnding = null;\n    _this.panEnding = null;\n    _this.zoomStarting = null;\n    _this.zoomEnding = null;\n    _this.flingStarting = null;\n    _this.doubleTapped = null;\n    _this.ah = 0;\n    _this.ai = 0;\n    _this.z = 0;\n    _this.aq = 0;\n    _this.ar = 0;\n    _this.b = a;\n    return _this;\n  }\n\n  Object.defineProperty(TouchGestureRecognizer.prototype, \"av\", {\n    get: function () {\n      return this.x;\n    },\n    set: function (a) {\n      this.x = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TouchGestureRecognizer.prototype, \"as\", {\n    get: function () {\n      return this.t;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TouchGestureRecognizer.prototype, \"at\", {\n    get: function () {\n      return this.u;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  TouchGestureRecognizer.prototype.bf = function () {\n    return {\n      $type: Point_$type,\n      x: Math.abs(this.v - this.aa),\n      y: Math.abs(this.w - this.ab)\n    };\n  };\n\n  TouchGestureRecognizer.prototype.bd = function (a) {\n    var b = false;\n\n    if (!isNaN_(this.aa) && !isNaN_(this.ab)) {\n      this.v = a._inner[0].a;\n      this.w = a._inner[0].b;\n\n      if (Math.abs(a._inner[0].a - this.aa) > this.x || Math.abs(a._inner[0].b - this.ab) > this.x) {\n        b = true;\n      }\n    }\n\n    if (b) {\n      this.bc();\n    }\n  };\n\n  TouchGestureRecognizer.prototype.a6 = function (a) {\n    var b = a.count;\n    var c = this.n;\n    var d = false;\n    var e = false;\n    var f = false;\n    var g = false;\n    var h = false;\n    var i = false;\n    var j = false;\n    var k = false;\n    var l = 0;\n    var m = 0;\n    var n = 0;\n    var o = this.n;\n\n    if (b > 0 && b < 2) {\n      switch (this.n) {\n        case 5:\n          c = 4;\n          e = true;\n          j = true;\n          break;\n\n        case 0:\n          c = 4;\n          e = true;\n          break;\n\n        case 2:\n          c = 1;\n          j = true;\n          g = true;\n          break;\n      }\n    }\n\n    if (b > 1) {\n      switch (this.n) {\n        case 5:\n          c = 2;\n          h = true;\n          k = true;\n          break;\n\n        case 4:\n          f = true;\n          c = 2;\n          h = true;\n          break;\n\n        case 0:\n          c = 2;\n          h = true;\n          break;\n\n        case 1:\n          c = 2;\n          i = true;\n          h = true;\n          break;\n      }\n    }\n\n    if (b == 0) {\n      switch (this.n) {\n        case 4:\n          if (this.r(new TouchPointInfo(0, this.t, this.u))) {\n            c = 0;\n            f = true;\n\n            if (this.doubleTapped != null) {\n              this.doubleTapped(this, this.c());\n            }\n          } else {\n            f = true;\n            c = 0;\n          }\n\n          break;\n\n        case 1:\n          c = 0;\n          i = true;\n          break;\n\n        case 2:\n          c = 0;\n          g = true;\n          break;\n\n        case 3:\n          c = 0;\n          d = true;\n          break;\n      }\n    }\n\n    if (k) {\n      if (j) {\n        if (this.panEnding != null) {\n          this.panEnding(this, this.c());\n        }\n\n        if (this.manipulationEnding != null) {\n          this.manipulationEnding(this, this.c());\n        }\n      }\n\n      this.a1();\n    }\n\n    if (e) {\n      this.aa = a._inner[0].a;\n      this.ab = a._inner[0].b;\n    }\n\n    if (c == 4) {\n      if (!isNaN_(this.aa) && !isNaN_(this.ab)) {\n        this.v = a._inner[0].a;\n        this.w = a._inner[0].b;\n\n        if (Math.abs(a._inner[0].a - this.aa) > this.x || Math.abs(a._inner[0].b - this.ab) > this.x) {\n          f = true;\n          j = true;\n          c = 1;\n        }\n      }\n    }\n\n    var p = 0;\n    var q = 0;\n\n    for (var r = 0; r < b; r++) {\n      p += a._inner[r].a;\n      q += a._inner[r].b;\n    }\n\n    p /= b;\n    q /= b;\n\n    if (b == 0) {\n      p = this.ad;\n      q = this.ae;\n    }\n\n    this.t = p;\n    this.u = q;\n    this.p.g(this.t, this.u, this.a0());\n\n    if (h) {\n      var s = a._inner[0].a - a._inner[1].a;\n      var t = a._inner[0].b - a._inner[1].b;\n      this.am = Math.abs(s);\n      this.an = Math.abs(t);\n      this.al = Math.sqrt(s * s + t * t);\n\n      if (this.am < 1) {\n        this.am = 1;\n      }\n\n      if (this.an < 1) {\n        this.an = 1;\n      }\n\n      if (this.al < 1) {\n        this.al = 1;\n      }\n    }\n\n    if (c == 2) {\n      var u = a._inner[0].a - a._inner[1].a;\n      var v = a._inner[0].b - a._inner[1].b;\n      l = Math.abs(u);\n      m = Math.abs(v);\n      n = Math.sqrt(u * u + v * v);\n\n      if (l < 1) {\n        l = 1;\n      }\n\n      if (m < 1) {\n        m = 1;\n      }\n\n      if (n < 1) {\n        n = 1;\n      }\n\n      this.aj = l / this.am;\n      this.ak = m / this.an;\n      this.y = n / this.al;\n    } else {\n      this.am = NaN;\n      this.an = NaN;\n      this.aj = 1;\n      this.ak = 1;\n      this.ah = 1;\n      this.ai = 1;\n      this.z = 1;\n    }\n\n    this.n = c;\n\n    if (o == 0 && this.n == 1 || this.n == 2) {\n      if (this.manipulationStarting != null) {\n        this.manipulationStarting(this, this.c());\n      }\n    }\n\n    if (g) {\n      this.a5();\n    }\n\n    if (i) {\n      this.a4();\n    }\n\n    if (d) {\n      this.a3();\n    }\n\n    if (f) {\n      this.bc();\n    }\n\n    if (j) {\n      this.ba();\n    }\n\n    if (e) {\n      this.a9();\n    }\n\n    if (h) {\n      this.bb();\n    }\n\n    if (this.n == 2) {\n      this.ah = this.aj / this.af;\n      this.ai = this.ak / this.ag;\n      this.z = this.y / this.ac;\n      this.aq = this.t - this.ad;\n      this.ar = this.u - this.ae;\n      this.af = this.af * this.ah;\n      this.ag = this.ag * this.ai;\n      this.ac = this.ac * this.z;\n      this.ad = this.t;\n      this.ae = this.u;\n\n      if (this.manipulationChanging != null) {\n        this.manipulationChanging(this, this.c());\n      }\n    }\n\n    if (this.n == 1) {\n      this.aq = this.t - this.ad;\n      this.ar = this.u - this.ae;\n      this.ad = this.t;\n      this.ae = this.u;\n\n      if (this.manipulationChanging != null) {\n        this.manipulationChanging(this, this.c());\n      }\n    }\n\n    this.ad = this.t;\n    this.ae = this.u;\n\n    if ((i || g) && this.n == 0) {\n      if (this.manipulationEnding != null) {\n        this.manipulationEnding(this, this.c());\n      }\n    }\n  };\n\n  TouchGestureRecognizer.prototype.r = function (a) {\n    var b = this.a0();\n\n    if (b - this.ay < 500) {\n      if (Math.abs(a.a - this.ao) < 50 && Math.abs(a.b - this.ap) < 50) {\n        return true;\n      }\n    }\n\n    this.ao = a.a;\n    this.ap = a.b;\n    this.ay = b;\n    return false;\n  };\n\n  TouchGestureRecognizer.prototype.a9 = function () {\n    this.ax = this.a0();\n\n    if (!this.q) {\n      this.q = true;\n      this.b.executeDelayed(runOn(this, this.a2), 1000);\n    }\n  };\n\n  TouchGestureRecognizer.prototype.a2 = function () {\n    if (!this.q) {\n      return;\n    }\n\n    var a = this.a0();\n\n    if (a - this.ax >= 1000) {\n      this.a8();\n    } else {\n      this.b.executeDelayed(runOn(this, this.a2), 1000 - (a - this.ax));\n    }\n  };\n\n  TouchGestureRecognizer.prototype.bc = function () {\n    this.q = false;\n  };\n\n  TouchGestureRecognizer.prototype.a5 = function () {\n    this.p.f();\n\n    if (this.zoomEnding != null) {\n      this.zoomEnding(this, this.c());\n    }\n  };\n\n  TouchGestureRecognizer.prototype.a8 = function () {\n    if (this.holdStarting != null) {\n      this.holdStarting(this, this.c());\n    }\n  };\n\n  TouchGestureRecognizer.prototype.bb = function () {\n    this.p.f();\n    this.a1();\n    this.af = 1;\n    this.ag = 1;\n    this.ac = 1;\n    this.ad = this.t;\n    this.ae = this.u;\n\n    if (this.zoomStarting != null) {\n      this.zoomStarting(this, this.c());\n    }\n  };\n\n  TouchGestureRecognizer.prototype.a3 = function () {\n    if (this.holdEnding != null) {\n      this.holdEnding(this, this.c());\n    }\n  };\n\n  TouchGestureRecognizer.prototype.ba = function () {\n    this.p.f();\n    this.a1();\n    this.ad = this.t;\n    this.ae = this.u;\n\n    if (this.panStarting != null) {\n      this.panStarting(this, this.c());\n    }\n  };\n\n  TouchGestureRecognizer.prototype.a1 = function () {\n    if (this.n == 5) {\n      this.n = 0;\n    }\n  };\n\n  TouchGestureRecognizer.prototype.be = function () {\n    if (this.n != 5) {\n      return;\n    }\n\n    if (this.o == null || this.aw == -1) {\n      this.a1();\n      return;\n    }\n\n    var a = this.a0();\n    var b = a - this.aw;\n\n    if (b < 16) {\n      this.a7(runOn(this, this.be));\n      return;\n    }\n\n    this.aw = a;\n    var c = b / 1000;\n    var d = this.au * c;\n    var e = this.o;\n\n    if (e.a > 0) {\n      e.a -= d;\n\n      if (e.a < 0) {\n        e.a = 0;\n      }\n    }\n\n    if (e.a < 0) {\n      e.a += d;\n\n      if (e.a > 0) {\n        e.a = 0;\n      }\n    }\n\n    if (e.b > 0) {\n      e.b -= d;\n\n      if (e.b < 0) {\n        e.b = 0;\n      }\n    }\n\n    if (e.b < 0) {\n      e.b += d;\n\n      if (e.b > 0) {\n        e.b = 0;\n      }\n    }\n\n    if (e.a == 0 && e.b == 0) {\n      this.n = 0;\n\n      if (this.panEnding != null) {\n        this.panEnding(this, this.c());\n      }\n\n      if (this.manipulationEnding != null) {\n        this.manipulationEnding(this, this.c());\n      }\n\n      this.a1();\n      return;\n    }\n\n    this.t += e.a * c;\n    this.u += e.b * c;\n    this.aq = this.t - this.ad;\n    this.ar = this.u - this.ae;\n    this.ad = this.t;\n    this.ae = this.u;\n\n    if (this.manipulationChanging != null) {\n      this.manipulationChanging(this, this.c());\n    }\n\n    this.a7(runOn(this, this.be));\n  };\n\n  TouchGestureRecognizer.prototype.s = function (a) {\n    if (this.n == 5) {\n      this.a1();\n    }\n\n    this.aw = this.a0();\n    this.o = a;\n    this.n = 5;\n    this.a7(runOn(this, this.be));\n\n    if (this.flingStarting != null) {\n      if (!this.flingStarting(this, this.c())) {\n        this.a1();\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  TouchGestureRecognizer.prototype.a7 = function (a) {\n    this.b.enqueueAnimationAction(a);\n  };\n\n  TouchGestureRecognizer.prototype.a4 = function () {\n    var a = this.p.b(this.a0());\n\n    if ((a.a > 5 || a.a < -5 || a.b > 5 || a.b < -5) && this.n == 0) {\n      this.n = 1;\n\n      if (!this.s(a)) {\n        if (this.n == 0) {\n          if (this.panEnding != null) {\n            this.panEnding(this, this.c());\n          }\n\n          if (this.manipulationEnding != null) {\n            this.manipulationEnding(this, this.c());\n          }\n        }\n      }\n    } else {\n      if (this.panEnding != null) {\n        this.panEnding(this, this.c());\n      }\n\n      if (this.n == 0) {\n        if (this.manipulationEnding != null) {\n          this.manipulationEnding(this, this.c());\n        }\n      }\n    }\n  };\n\n  TouchGestureRecognizer.prototype.c = function () {\n    var a = new TouchGestureEventArgs();\n    a.a = this.t;\n    a.b = this.u;\n    a.d = this.ah;\n    a.e = this.ai;\n    a.c = this.z;\n    a.f = this.aq;\n    a.g = this.ar;\n    a.h = this.o != null ? this.o.a : this.p.b(this.a0()).a;\n    a.i = this.o != null ? this.o.b : this.p.b(this.a0()).b;\n    return a;\n  };\n\n  TouchGestureRecognizer.prototype.a0 = function () {\n    return this.b.getCurrentRelativeTime();\n  };\n\n  TouchGestureRecognizer.$t = markType(TouchGestureRecognizer, 'TouchGestureRecognizer');\n  return TouchGestureRecognizer;\n}(Base);\n\nexport { TouchGestureRecognizer };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/TouchGestureRecognizer.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Base, Point_$type, runOn, markType } from \"./type\";\r\nimport { TouchVelocityTracker } from \"./TouchVelocityTracker\";\r\nimport { TouchPointInfo } from \"./TouchPointInfo\";\r\nimport { TouchGestureEventArgs } from \"./TouchGestureEventArgs\";\r\nimport { isNaN_ } from \"./number\";\r\n/**\r\n * @hidden\r\n */\r\nvar TouchGestureRecognizer = /** @class */ /*@__PURE__*/ (function (_super) {\r\n    tslib_1.__extends(TouchGestureRecognizer, _super);\r\n    function TouchGestureRecognizer(a) {\r\n        var _this = _super.call(this) || this;\r\n        _this.n = 0;\r\n        _this.p = new TouchVelocityTracker();\r\n        _this.t = 0;\r\n        _this.u = 0;\r\n        _this.aa = 0;\r\n        _this.ab = 0;\r\n        _this.v = 0;\r\n        _this.w = 0;\r\n        _this.am = NaN;\r\n        _this.an = NaN;\r\n        _this.al = NaN;\r\n        _this.aj = 1;\r\n        _this.ak = 1;\r\n        _this.y = 1;\r\n        _this.x = 10;\r\n        _this.ay = -1;\r\n        _this.ao = 0;\r\n        _this.ap = 0;\r\n        _this.af = 1;\r\n        _this.ag = 1;\r\n        _this.ac = 1;\r\n        _this.ad = NaN;\r\n        _this.ae = NaN;\r\n        _this.o = null;\r\n        _this.au = 800;\r\n        _this.aw = -1;\r\n        _this.b = null;\r\n        _this.q = false;\r\n        _this.ax = -1;\r\n        _this.holdStarting = null;\r\n        _this.holdEnding = null;\r\n        _this.panStarting = null;\r\n        _this.manipulationStarting = null;\r\n        _this.manipulationChanging = null;\r\n        _this.manipulationEnding = null;\r\n        _this.panEnding = null;\r\n        _this.zoomStarting = null;\r\n        _this.zoomEnding = null;\r\n        _this.flingStarting = null;\r\n        _this.doubleTapped = null;\r\n        _this.ah = 0;\r\n        _this.ai = 0;\r\n        _this.z = 0;\r\n        _this.aq = 0;\r\n        _this.ar = 0;\r\n        _this.b = a;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(TouchGestureRecognizer.prototype, \"av\", {\r\n        get: function () {\r\n            return this.x;\r\n        },\r\n        set: function (a) {\r\n            this.x = a;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TouchGestureRecognizer.prototype, \"as\", {\r\n        get: function () {\r\n            return this.t;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TouchGestureRecognizer.prototype, \"at\", {\r\n        get: function () {\r\n            return this.u;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TouchGestureRecognizer.prototype.bf = function () {\r\n        return { $type: Point_$type, x: Math.abs(this.v - this.aa), y: Math.abs(this.w - this.ab) };\r\n    };\r\n    TouchGestureRecognizer.prototype.bd = function (a) {\r\n        var b = false;\r\n        if (!isNaN_(this.aa) && !isNaN_(this.ab)) {\r\n            this.v = a._inner[0].a;\r\n            this.w = a._inner[0].b;\r\n            if (Math.abs(a._inner[0].a - this.aa) > this.x || Math.abs(a._inner[0].b - this.ab) > this.x) {\r\n                b = true;\r\n            }\r\n        }\r\n        if (b) {\r\n            this.bc();\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.a6 = function (a) {\r\n        var b = a.count;\r\n        var c = this.n;\r\n        var d = false;\r\n        var e = false;\r\n        var f = false;\r\n        var g = false;\r\n        var h = false;\r\n        var i = false;\r\n        var j = false;\r\n        var k = false;\r\n        var l = 0;\r\n        var m = 0;\r\n        var n = 0;\r\n        var o = this.n;\r\n        if (b > 0 && b < 2) {\r\n            switch (this.n) {\r\n                case 5:\r\n                    c = 4;\r\n                    e = true;\r\n                    j = true;\r\n                    break;\r\n                case 0:\r\n                    c = 4;\r\n                    e = true;\r\n                    break;\r\n                case 2:\r\n                    c = 1;\r\n                    j = true;\r\n                    g = true;\r\n                    break;\r\n            }\r\n        }\r\n        if (b > 1) {\r\n            switch (this.n) {\r\n                case 5:\r\n                    c = 2;\r\n                    h = true;\r\n                    k = true;\r\n                    break;\r\n                case 4:\r\n                    f = true;\r\n                    c = 2;\r\n                    h = true;\r\n                    break;\r\n                case 0:\r\n                    c = 2;\r\n                    h = true;\r\n                    break;\r\n                case 1:\r\n                    c = 2;\r\n                    i = true;\r\n                    h = true;\r\n                    break;\r\n            }\r\n        }\r\n        if (b == 0) {\r\n            switch (this.n) {\r\n                case 4:\r\n                    if (this.r(new TouchPointInfo(0, this.t, this.u))) {\r\n                        c = 0;\r\n                        f = true;\r\n                        if (this.doubleTapped != null) {\r\n                            this.doubleTapped(this, this.c());\r\n                        }\r\n                    }\r\n                    else {\r\n                        f = true;\r\n                        c = 0;\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    c = 0;\r\n                    i = true;\r\n                    break;\r\n                case 2:\r\n                    c = 0;\r\n                    g = true;\r\n                    break;\r\n                case 3:\r\n                    c = 0;\r\n                    d = true;\r\n                    break;\r\n            }\r\n        }\r\n        if (k) {\r\n            if (j) {\r\n                if (this.panEnding != null) {\r\n                    this.panEnding(this, this.c());\r\n                }\r\n                if (this.manipulationEnding != null) {\r\n                    this.manipulationEnding(this, this.c());\r\n                }\r\n            }\r\n            this.a1();\r\n        }\r\n        if (e) {\r\n            this.aa = a._inner[0].a;\r\n            this.ab = a._inner[0].b;\r\n        }\r\n        if (c == 4) {\r\n            if (!isNaN_(this.aa) && !isNaN_(this.ab)) {\r\n                this.v = a._inner[0].a;\r\n                this.w = a._inner[0].b;\r\n                if (Math.abs(a._inner[0].a - this.aa) > this.x || Math.abs(a._inner[0].b - this.ab) > this.x) {\r\n                    f = true;\r\n                    j = true;\r\n                    c = 1;\r\n                }\r\n            }\r\n        }\r\n        var p = 0;\r\n        var q = 0;\r\n        for (var r = 0; r < b; r++) {\r\n            p += a._inner[r].a;\r\n            q += a._inner[r].b;\r\n        }\r\n        p /= b;\r\n        q /= b;\r\n        if (b == 0) {\r\n            p = this.ad;\r\n            q = this.ae;\r\n        }\r\n        this.t = p;\r\n        this.u = q;\r\n        this.p.g(this.t, this.u, this.a0());\r\n        if (h) {\r\n            var s = a._inner[0].a - a._inner[1].a;\r\n            var t = a._inner[0].b - a._inner[1].b;\r\n            this.am = Math.abs(s);\r\n            this.an = Math.abs(t);\r\n            this.al = Math.sqrt(s * s + t * t);\r\n            if (this.am < 1) {\r\n                this.am = 1;\r\n            }\r\n            if (this.an < 1) {\r\n                this.an = 1;\r\n            }\r\n            if (this.al < 1) {\r\n                this.al = 1;\r\n            }\r\n        }\r\n        if (c == 2) {\r\n            var u = a._inner[0].a - a._inner[1].a;\r\n            var v = a._inner[0].b - a._inner[1].b;\r\n            l = Math.abs(u);\r\n            m = Math.abs(v);\r\n            n = Math.sqrt(u * u + v * v);\r\n            if (l < 1) {\r\n                l = 1;\r\n            }\r\n            if (m < 1) {\r\n                m = 1;\r\n            }\r\n            if (n < 1) {\r\n                n = 1;\r\n            }\r\n            this.aj = l / this.am;\r\n            this.ak = m / this.an;\r\n            this.y = n / this.al;\r\n        }\r\n        else {\r\n            this.am = NaN;\r\n            this.an = NaN;\r\n            this.aj = 1;\r\n            this.ak = 1;\r\n            this.ah = 1;\r\n            this.ai = 1;\r\n            this.z = 1;\r\n        }\r\n        this.n = c;\r\n        if (o == 0 && this.n == 1 || this.n == 2) {\r\n            if (this.manipulationStarting != null) {\r\n                this.manipulationStarting(this, this.c());\r\n            }\r\n        }\r\n        if (g) {\r\n            this.a5();\r\n        }\r\n        if (i) {\r\n            this.a4();\r\n        }\r\n        if (d) {\r\n            this.a3();\r\n        }\r\n        if (f) {\r\n            this.bc();\r\n        }\r\n        if (j) {\r\n            this.ba();\r\n        }\r\n        if (e) {\r\n            this.a9();\r\n        }\r\n        if (h) {\r\n            this.bb();\r\n        }\r\n        if (this.n == 2) {\r\n            this.ah = this.aj / this.af;\r\n            this.ai = this.ak / this.ag;\r\n            this.z = this.y / this.ac;\r\n            this.aq = this.t - this.ad;\r\n            this.ar = this.u - this.ae;\r\n            this.af = this.af * this.ah;\r\n            this.ag = this.ag * this.ai;\r\n            this.ac = this.ac * this.z;\r\n            this.ad = this.t;\r\n            this.ae = this.u;\r\n            if (this.manipulationChanging != null) {\r\n                this.manipulationChanging(this, this.c());\r\n            }\r\n        }\r\n        if (this.n == 1) {\r\n            this.aq = this.t - this.ad;\r\n            this.ar = this.u - this.ae;\r\n            this.ad = this.t;\r\n            this.ae = this.u;\r\n            if (this.manipulationChanging != null) {\r\n                this.manipulationChanging(this, this.c());\r\n            }\r\n        }\r\n        this.ad = this.t;\r\n        this.ae = this.u;\r\n        if ((i || g) && this.n == 0) {\r\n            if (this.manipulationEnding != null) {\r\n                this.manipulationEnding(this, this.c());\r\n            }\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.r = function (a) {\r\n        var b = this.a0();\r\n        if ((b - this.ay) < 500) {\r\n            if (Math.abs(a.a - this.ao) < 50 && Math.abs(a.b - this.ap) < 50) {\r\n                return true;\r\n            }\r\n        }\r\n        this.ao = a.a;\r\n        this.ap = a.b;\r\n        this.ay = b;\r\n        return false;\r\n    };\r\n    TouchGestureRecognizer.prototype.a9 = function () {\r\n        this.ax = this.a0();\r\n        if (!this.q) {\r\n            this.q = true;\r\n            this.b.executeDelayed(runOn(this, this.a2), 1000);\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.a2 = function () {\r\n        if (!this.q) {\r\n            return;\r\n        }\r\n        var a = this.a0();\r\n        if (a - this.ax >= 1000) {\r\n            this.a8();\r\n        }\r\n        else {\r\n            this.b.executeDelayed(runOn(this, this.a2), (1000 - (a - this.ax)));\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.bc = function () {\r\n        this.q = false;\r\n    };\r\n    TouchGestureRecognizer.prototype.a5 = function () {\r\n        this.p.f();\r\n        if (this.zoomEnding != null) {\r\n            this.zoomEnding(this, this.c());\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.a8 = function () {\r\n        if (this.holdStarting != null) {\r\n            this.holdStarting(this, this.c());\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.bb = function () {\r\n        this.p.f();\r\n        this.a1();\r\n        this.af = 1;\r\n        this.ag = 1;\r\n        this.ac = 1;\r\n        this.ad = this.t;\r\n        this.ae = this.u;\r\n        if (this.zoomStarting != null) {\r\n            this.zoomStarting(this, this.c());\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.a3 = function () {\r\n        if (this.holdEnding != null) {\r\n            this.holdEnding(this, this.c());\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.ba = function () {\r\n        this.p.f();\r\n        this.a1();\r\n        this.ad = this.t;\r\n        this.ae = this.u;\r\n        if (this.panStarting != null) {\r\n            this.panStarting(this, this.c());\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.a1 = function () {\r\n        if (this.n == 5) {\r\n            this.n = 0;\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.be = function () {\r\n        if (this.n != 5) {\r\n            return;\r\n        }\r\n        if (this.o == null || this.aw == -1) {\r\n            this.a1();\r\n            return;\r\n        }\r\n        var a = this.a0();\r\n        var b = a - this.aw;\r\n        if (b < 16) {\r\n            this.a7(runOn(this, this.be));\r\n            return;\r\n        }\r\n        this.aw = a;\r\n        var c = b / 1000;\r\n        var d = this.au * c;\r\n        var e = this.o;\r\n        if (e.a > 0) {\r\n            e.a -= d;\r\n            if (e.a < 0) {\r\n                e.a = 0;\r\n            }\r\n        }\r\n        if (e.a < 0) {\r\n            e.a += d;\r\n            if (e.a > 0) {\r\n                e.a = 0;\r\n            }\r\n        }\r\n        if (e.b > 0) {\r\n            e.b -= d;\r\n            if (e.b < 0) {\r\n                e.b = 0;\r\n            }\r\n        }\r\n        if (e.b < 0) {\r\n            e.b += d;\r\n            if (e.b > 0) {\r\n                e.b = 0;\r\n            }\r\n        }\r\n        if (e.a == 0 && e.b == 0) {\r\n            this.n = 0;\r\n            if (this.panEnding != null) {\r\n                this.panEnding(this, this.c());\r\n            }\r\n            if (this.manipulationEnding != null) {\r\n                this.manipulationEnding(this, this.c());\r\n            }\r\n            this.a1();\r\n            return;\r\n        }\r\n        this.t += e.a * c;\r\n        this.u += e.b * c;\r\n        this.aq = this.t - this.ad;\r\n        this.ar = this.u - this.ae;\r\n        this.ad = this.t;\r\n        this.ae = this.u;\r\n        if (this.manipulationChanging != null) {\r\n            this.manipulationChanging(this, this.c());\r\n        }\r\n        this.a7(runOn(this, this.be));\r\n    };\r\n    TouchGestureRecognizer.prototype.s = function (a) {\r\n        if (this.n == 5) {\r\n            this.a1();\r\n        }\r\n        this.aw = this.a0();\r\n        this.o = a;\r\n        this.n = 5;\r\n        this.a7(runOn(this, this.be));\r\n        if (this.flingStarting != null) {\r\n            if (!this.flingStarting(this, this.c())) {\r\n                this.a1();\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    TouchGestureRecognizer.prototype.a7 = function (a) {\r\n        this.b.enqueueAnimationAction(a);\r\n    };\r\n    TouchGestureRecognizer.prototype.a4 = function () {\r\n        var a = this.p.b(this.a0());\r\n        if ((a.a > 5 || a.a < -5 || a.b > 5 || a.b < -5) && this.n == 0) {\r\n            this.n = 1;\r\n            if (!this.s(a)) {\r\n                if (this.n == 0) {\r\n                    if (this.panEnding != null) {\r\n                        this.panEnding(this, this.c());\r\n                    }\r\n                    if (this.manipulationEnding != null) {\r\n                        this.manipulationEnding(this, this.c());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (this.panEnding != null) {\r\n                this.panEnding(this, this.c());\r\n            }\r\n            if (this.n == 0) {\r\n                if (this.manipulationEnding != null) {\r\n                    this.manipulationEnding(this, this.c());\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TouchGestureRecognizer.prototype.c = function () {\r\n        var a = new TouchGestureEventArgs();\r\n        a.a = this.t;\r\n        a.b = this.u;\r\n        a.d = this.ah;\r\n        a.e = this.ai;\r\n        a.c = this.z;\r\n        a.f = this.aq;\r\n        a.g = this.ar;\r\n        a.h = this.o != null ? this.o.a : this.p.b(this.a0()).a;\r\n        a.i = this.o != null ? this.o.b : this.p.b(this.a0()).b;\r\n        return a;\r\n    };\r\n    TouchGestureRecognizer.prototype.a0 = function () {\r\n        return this.b.getCurrentRelativeTime();\r\n    };\r\n    TouchGestureRecognizer.$t = markType(TouchGestureRecognizer, 'TouchGestureRecognizer');\r\n    return TouchGestureRecognizer;\r\n}(Base));\r\nexport { TouchGestureRecognizer };\r\n//# sourceMappingURL=TouchGestureRecognizer.js.map\r\n"]},"metadata":{},"sourceType":"module"}