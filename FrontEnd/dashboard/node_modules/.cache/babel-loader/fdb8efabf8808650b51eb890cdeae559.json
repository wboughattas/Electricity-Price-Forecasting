{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { DependencyObject } from \"./DependencyObject\";\nimport { TriangulatorContext } from \"./TriangulatorContext\";\nimport { Number_$type, Point_$type, fromEnum, runOn, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { Triangle } from \"./Triangle\";\nimport { HashSet$1 } from \"./HashSet$1\";\nimport { LinkedList$1 } from \"./LinkedList$1\";\nimport { HalfEdgeSet } from \"./HalfEdgeSet\";\nimport { PointTester } from \"./PointTester\";\nimport { PointComparer } from \"./PointComparer\";\nimport { TriangulationStatusEventArgs } from \"./TriangulationStatusEventArgs\";\nimport { HalfEdge } from \"./HalfEdge\";\nimport { truncate, isNaN_, isInfinity } from \"./number\";\n/**\n * @hidden\n */\n\nvar Triangulator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(Triangulator, _super);\n\n  function Triangulator(a, b, c) {\n    var _this = _super.call(this) || this;\n\n    _this.o = 0;\n    _this.l = null;\n    _this.m = null;\n    _this.k = null;\n    _this.p = 0;\n    _this.triangulationStatusChanged = null;\n    _this.o = a;\n    _this.l = b;\n    _this.m = c;\n    return _this;\n  }\n\n  Triangulator.prototype.y = function () {\n    {\n      this.v();\n\n      if (this.k != null) {\n        this.k.c = true;\n      }\n\n      this.u();\n    }\n  };\n\n  Triangulator.prototype.x = function () {\n    {\n      this.v();\n\n      if (this.k != null) {\n        this.k.c = false;\n      }\n\n      this.u();\n    }\n  };\n\n  Triangulator.prototype.v = function () {\n    var a = this.o;\n    var b = this.l;\n    var c = this.m;\n    var d = new List$1(Triangle.$, 0);\n\n    var e = function () {\n      var $ret = new List$1(Number_$type, 0);\n      $ret.h = a;\n      return $ret;\n    }();\n\n    var f = new HashSet$1(Point_$type, 2, new PointComparer());\n\n    for (var g = 0; g < a; ++g) {\n      var h = b.item(g),\n          i = c.item(g);\n\n      if (isNaN_(h) || isNaN_(i) || isInfinity(h) || isInfinity(i)) {\n        continue;\n      }\n\n      var j = {\n        $type: Point_$type,\n        x: h,\n        y: i\n      };\n\n      if (f.contains(j)) {\n        continue;\n      }\n\n      f.add_1(j);\n      e.add(g);\n    }\n\n    a = e.count;\n\n    if (a >= 3) {\n      var k = function (l, m) {\n        if (b.item(l) < b.item(m)) {\n          return -1;\n        } else if (b.item(l) > b.item(m)) {\n          return 1;\n        }\n\n        if (c.item(l) < c.item(m)) {\n          return -1;\n        } else if (c.item(l) > c.item(m)) {\n          return 1;\n        }\n\n        return 0;\n      };\n\n      e.aa(k);\n      var l = b.item(e._inner[0]);\n      var m = b.item(e._inner[a - 1]);\n      var n = c.item(e._inner[0]);\n      var o = n;\n\n      for (var p = 1; p < a; p++) {\n        var q = c.item(e._inner[p]);\n\n        if (isNaN_(q)) {\n          continue;\n        }\n\n        n = Math.min(n, q);\n        o = Math.max(o, q);\n      }\n\n      var r = m - l;\n      var s = o - n;\n      var t = Math.max(r, s);\n      var u = (m + l) / 2;\n      var v = (o + n) / 2;\n      var w = {\n        $type: Point_$type,\n        x: u - 20 * t,\n        y: v - t\n      };\n      var x = {\n        $type: Point_$type,\n        x: u,\n        y: v + 20 * t\n      };\n      var y = {\n        $type: Point_$type,\n        x: u + 20 * t,\n        y: v - t\n      };\n      var z = new LinkedList$1(Triangle.$);\n      var aa = new LinkedList$1(Triangle.$);\n      var ab = new HalfEdgeSet();\n      var ac = new PointTester();\n      z.e(function () {\n        var $ret = new Triangle();\n        $ret.v1 = a;\n        $ret.v2 = a + 1;\n        $ret.v3 = a + 2;\n        return $ret;\n      }());\n      var ad = new TriangulatorContext();\n      ad.j = a;\n      ad.n = w;\n      ad.o = x;\n      ad.p = y;\n      ad.f = aa;\n      ad.a = ab;\n      ad.h = e;\n      ad.b = ac;\n      ad.i = d;\n      ad.g = z;\n      ad.d = b;\n      ad.e = c;\n      var ae = 1;\n\n      if (a > 3000) {\n        ae = 20;\n      }\n\n      ad.m = truncate(Math.ceil(a / ae));\n      ad.l = 0;\n      ad.k = ad.m;\n      this.p = 0;\n      this.t();\n      this.k = ad;\n    }\n  };\n\n  Triangulator.prototype.t = function () {\n    this.s();\n  };\n\n  Triangulator.prototype.s = function () {\n    if (this.triangulationStatusChanged != null) {\n      this.triangulationStatusChanged(this, new TriangulationStatusEventArgs(this.p));\n    }\n  };\n\n  Triangulator.prototype.n = function () {\n    if (this.k == null) {\n      return null;\n    }\n\n    return this.k.i;\n  };\n\n  Triangulator.prototype.w = function () {\n    var e_1, _a;\n\n    {\n      if (this.k == null) {\n        return;\n      }\n\n      var a = this.k;\n      var b = this.k.j;\n      var c = this.k.d;\n      var d = this.k.e;\n      var e_2 = this.k.h;\n      var f = this.k.n;\n      var g = this.k.o;\n      var h = this.k.p;\n      var i = this.k.i;\n      var j = this.k.g;\n      var k = this.k.f;\n      var l = this.k.b;\n      var m = this.k.a;\n      var n = this.k.l;\n      var o = this.k.k;\n      var p = void 0;\n      var q = void 0;\n      var r = void 0;\n      var s = void 0;\n      var t = void 0;\n      var u = void 0;\n      var v = void 0;\n      var w = void 0;\n      var x = void 0;\n      var y = void 0;\n      var z = void 0;\n      var aa_1;\n\n      for (var ab = n; ab < o; ++ab) {\n        m.e();\n\n        if (ab < b) {\n          p = c.item(e_2._inner[ab]);\n          q = d.item(e_2._inner[ab]);\n        } else if (ab == b) {\n          p = f.x;\n          q = f.y;\n        } else if (ab == b + 1) {\n          p = g.x;\n          q = g.y;\n        } else {\n          p = h.x;\n          q = h.y;\n        }\n\n        var ac = null;\n\n        for (var ad = j.c; ad != null; ad = ac) {\n          ac = ad.a;\n          aa_1 = ad.c;\n          r = aa_1.v1;\n          u = aa_1.v2;\n          x = aa_1.v3;\n\n          if (r < b) {\n            s = c.item(e_2._inner[r]);\n            t = d.item(e_2._inner[r]);\n          } else if (r == b) {\n            s = f.x;\n            t = f.y;\n          } else if (r == b + 1) {\n            s = g.x;\n            t = g.y;\n          } else {\n            s = h.x;\n            t = h.y;\n          }\n\n          if (u < b) {\n            v = c.item(e_2._inner[u]);\n            w = d.item(e_2._inner[u]);\n          } else if (u == b) {\n            v = f.x;\n            w = f.y;\n          } else if (u == b + 1) {\n            v = g.x;\n            w = g.y;\n          } else {\n            v = h.x;\n            w = h.y;\n          }\n\n          if (x < b) {\n            y = c.item(e_2._inner[x]);\n            z = d.item(e_2._inner[x]);\n          } else if (x == b) {\n            y = f.x;\n            z = f.y;\n          } else if (x == b + 1) {\n            y = g.x;\n            z = g.y;\n          } else {\n            y = h.x;\n            z = h.y;\n          }\n\n          l.c(p, q, s, t, v, w, y, z);\n\n          if (l.a) {\n            k.f(aa_1);\n            j.h(ad);\n          }\n\n          if (l.b) {\n            var ae = void 0;\n            ae = new HalfEdge(r, u);\n\n            if (m.a(ae)) {\n              m.f(ae);\n            } else {\n              m.d(ae);\n            }\n\n            ae = new HalfEdge(u, x);\n\n            if (m.a(ae)) {\n              m.f(ae);\n            } else {\n              m.d(ae);\n            }\n\n            ae = new HalfEdge(x, r);\n\n            if (m.a(ae)) {\n              m.f(ae);\n            } else {\n              m.d(ae);\n            }\n\n            j.h(ad);\n          }\n        }\n\n        try {\n          for (var _b = (e_1 = void 0, tslib_1.__values(fromEnum(m))), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var af = _c.value;\n            var ag = new Triangle();\n            ag.v1 = af.a;\n            ag.v2 = af.b;\n            ag.v3 = ab;\n            j.f(ag);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n\n      if (o == b) {\n        for (var ah = k.c; ah != null; ah = ah.a) {\n          aa_1 = ah.c;\n\n          if (aa_1.v1 < b && aa_1.v2 < b && aa_1.v3 < b) {\n            i.add(function () {\n              var $ret = new Triangle();\n              $ret.v1 = e_2._inner[aa_1.v1];\n              $ret.v2 = e_2._inner[aa_1.v2];\n              $ret.v3 = e_2._inner[aa_1.v3];\n              return $ret;\n            }());\n          }\n        }\n\n        for (var ai = j.c; ai != null; ai = ai.a) {\n          aa_1 = ai.c;\n\n          if (aa_1.v1 < b && aa_1.v2 < b && aa_1.v3 < b) {\n            i.add(function () {\n              var $ret = new Triangle();\n              $ret.v1 = e_2._inner[aa_1.v1];\n              $ret.v2 = e_2._inner[aa_1.v2];\n              $ret.v3 = e_2._inner[aa_1.v3];\n              return $ret;\n            }());\n          }\n        }\n\n        this.p = 100;\n        this.t();\n      } else {\n        n = o;\n        o += a.m;\n\n        if (o > b) {\n          o = b;\n        }\n\n        a.l = n;\n        a.k = o;\n        this.p += truncate(Math.floor(100 / 20));\n        this.t();\n        this.u();\n      }\n    }\n  };\n\n  Triangulator.prototype.r = function () {\n    {\n      this.k = null;\n    }\n  };\n\n  Triangulator.prototype.u = function () {\n    {\n      if (this.k != null && this.k.c) {\n        window.setTimeout(runOn(this, this.w), 0);\n      } else {\n        this.w();\n      }\n    }\n  };\n\n  Object.defineProperty(Triangulator.prototype, \"q\", {\n    get: function () {\n      return this.p;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Triangulator.$t = markType(Triangulator, 'Triangulator', DependencyObject.$);\n  return Triangulator;\n}(DependencyObject);\n\nexport { Triangulator };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/Triangulator.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { DependencyObject } from \"./DependencyObject\";\nimport { TriangulatorContext } from \"./TriangulatorContext\";\nimport { Number_$type, Point_$type, fromEnum, runOn, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { Triangle } from \"./Triangle\";\nimport { HashSet$1 } from \"./HashSet$1\";\nimport { LinkedList$1 } from \"./LinkedList$1\";\nimport { HalfEdgeSet } from \"./HalfEdgeSet\";\nimport { PointTester } from \"./PointTester\";\nimport { PointComparer } from \"./PointComparer\";\nimport { TriangulationStatusEventArgs } from \"./TriangulationStatusEventArgs\";\nimport { HalfEdge } from \"./HalfEdge\";\nimport { truncate, isNaN_, isInfinity } from \"./number\";\n/**\n * @hidden\n */\nvar Triangulator = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Triangulator, _super);\n    function Triangulator(a, b, c) {\n        var _this = _super.call(this) || this;\n        _this.o = 0;\n        _this.l = null;\n        _this.m = null;\n        _this.k = null;\n        _this.p = 0;\n        _this.triangulationStatusChanged = null;\n        _this.o = a;\n        _this.l = b;\n        _this.m = c;\n        return _this;\n    }\n    Triangulator.prototype.y = function () {\n        {\n            this.v();\n            if (this.k != null) {\n                this.k.c = true;\n            }\n            this.u();\n        }\n    };\n    Triangulator.prototype.x = function () {\n        {\n            this.v();\n            if (this.k != null) {\n                this.k.c = false;\n            }\n            this.u();\n        }\n    };\n    Triangulator.prototype.v = function () {\n        var a = this.o;\n        var b = this.l;\n        var c = this.m;\n        var d = new List$1(Triangle.$, 0);\n        var e = ((function () {\n            var $ret = new List$1(Number_$type, 0);\n            $ret.h = a;\n            return $ret;\n        })());\n        var f = new HashSet$1(Point_$type, 2, new PointComparer());\n        for (var g = 0; g < a; ++g) {\n            var h = b.item(g), i = c.item(g);\n            if (isNaN_(h) || isNaN_(i) || isInfinity(h) || isInfinity(i)) {\n                continue;\n            }\n            var j = { $type: Point_$type, x: h, y: i };\n            if (f.contains(j)) {\n                continue;\n            }\n            f.add_1(j);\n            e.add(g);\n        }\n        a = e.count;\n        if (a >= 3) {\n            var k = function (l, m) {\n                if (b.item(l) < b.item(m)) {\n                    return -1;\n                }\n                else if (b.item(l) > b.item(m)) {\n                    return 1;\n                }\n                if (c.item(l) < c.item(m)) {\n                    return -1;\n                }\n                else if (c.item(l) > c.item(m)) {\n                    return 1;\n                }\n                return 0;\n            };\n            e.aa(k);\n            var l = b.item(e._inner[0]);\n            var m = b.item(e._inner[a - 1]);\n            var n = c.item(e._inner[0]);\n            var o = n;\n            for (var p = 1; p < a; p++) {\n                var q = c.item(e._inner[p]);\n                if (isNaN_(q)) {\n                    continue;\n                }\n                n = Math.min(n, q);\n                o = Math.max(o, q);\n            }\n            var r = m - l;\n            var s = o - n;\n            var t = Math.max(r, s);\n            var u = (m + l) / 2;\n            var v = (o + n) / 2;\n            var w = { $type: Point_$type, x: u - 20 * t, y: v - t };\n            var x = { $type: Point_$type, x: u, y: v + 20 * t };\n            var y = { $type: Point_$type, x: u + 20 * t, y: v - t };\n            var z = new LinkedList$1(Triangle.$);\n            var aa = new LinkedList$1(Triangle.$);\n            var ab = new HalfEdgeSet();\n            var ac = new PointTester();\n            z.e(((function () {\n                var $ret = new Triangle();\n                $ret.v1 = a;\n                $ret.v2 = a + 1;\n                $ret.v3 = a + 2;\n                return $ret;\n            })()));\n            var ad = new TriangulatorContext();\n            ad.j = a;\n            ad.n = w;\n            ad.o = x;\n            ad.p = y;\n            ad.f = aa;\n            ad.a = ab;\n            ad.h = e;\n            ad.b = ac;\n            ad.i = d;\n            ad.g = z;\n            ad.d = b;\n            ad.e = c;\n            var ae = 1;\n            if (a > 3000) {\n                ae = 20;\n            }\n            ad.m = truncate(Math.ceil(a / ae));\n            ad.l = 0;\n            ad.k = ad.m;\n            this.p = 0;\n            this.t();\n            this.k = ad;\n        }\n    };\n    Triangulator.prototype.t = function () {\n        this.s();\n    };\n    Triangulator.prototype.s = function () {\n        if (this.triangulationStatusChanged != null) {\n            this.triangulationStatusChanged(this, new TriangulationStatusEventArgs(this.p));\n        }\n    };\n    Triangulator.prototype.n = function () {\n        if (this.k == null) {\n            return null;\n        }\n        return this.k.i;\n    };\n    Triangulator.prototype.w = function () {\n        var e_1, _a;\n        {\n            if (this.k == null) {\n                return;\n            }\n            var a = this.k;\n            var b = this.k.j;\n            var c = this.k.d;\n            var d = this.k.e;\n            var e_2 = this.k.h;\n            var f = this.k.n;\n            var g = this.k.o;\n            var h = this.k.p;\n            var i = this.k.i;\n            var j = this.k.g;\n            var k = this.k.f;\n            var l = this.k.b;\n            var m = this.k.a;\n            var n = this.k.l;\n            var o = this.k.k;\n            var p = void 0;\n            var q = void 0;\n            var r = void 0;\n            var s = void 0;\n            var t = void 0;\n            var u = void 0;\n            var v = void 0;\n            var w = void 0;\n            var x = void 0;\n            var y = void 0;\n            var z = void 0;\n            var aa_1;\n            for (var ab = n; ab < o; ++ab) {\n                m.e();\n                if (ab < b) {\n                    p = c.item(e_2._inner[ab]);\n                    q = d.item(e_2._inner[ab]);\n                }\n                else if (ab == b) {\n                    p = f.x;\n                    q = f.y;\n                }\n                else if (ab == b + 1) {\n                    p = g.x;\n                    q = g.y;\n                }\n                else {\n                    p = h.x;\n                    q = h.y;\n                }\n                var ac = null;\n                for (var ad = j.c; ad != null; ad = ac) {\n                    ac = ad.a;\n                    aa_1 = ad.c;\n                    r = aa_1.v1;\n                    u = aa_1.v2;\n                    x = aa_1.v3;\n                    if (r < b) {\n                        s = c.item(e_2._inner[r]);\n                        t = d.item(e_2._inner[r]);\n                    }\n                    else if (r == b) {\n                        s = f.x;\n                        t = f.y;\n                    }\n                    else if (r == b + 1) {\n                        s = g.x;\n                        t = g.y;\n                    }\n                    else {\n                        s = h.x;\n                        t = h.y;\n                    }\n                    if (u < b) {\n                        v = c.item(e_2._inner[u]);\n                        w = d.item(e_2._inner[u]);\n                    }\n                    else if (u == b) {\n                        v = f.x;\n                        w = f.y;\n                    }\n                    else if (u == b + 1) {\n                        v = g.x;\n                        w = g.y;\n                    }\n                    else {\n                        v = h.x;\n                        w = h.y;\n                    }\n                    if (x < b) {\n                        y = c.item(e_2._inner[x]);\n                        z = d.item(e_2._inner[x]);\n                    }\n                    else if (x == b) {\n                        y = f.x;\n                        z = f.y;\n                    }\n                    else if (x == b + 1) {\n                        y = g.x;\n                        z = g.y;\n                    }\n                    else {\n                        y = h.x;\n                        z = h.y;\n                    }\n                    l.c(p, q, s, t, v, w, y, z);\n                    if (l.a) {\n                        k.f(aa_1);\n                        j.h(ad);\n                    }\n                    if (l.b) {\n                        var ae = void 0;\n                        ae = new HalfEdge(r, u);\n                        if (m.a(ae)) {\n                            m.f(ae);\n                        }\n                        else {\n                            m.d(ae);\n                        }\n                        ae = new HalfEdge(u, x);\n                        if (m.a(ae)) {\n                            m.f(ae);\n                        }\n                        else {\n                            m.d(ae);\n                        }\n                        ae = new HalfEdge(x, r);\n                        if (m.a(ae)) {\n                            m.f(ae);\n                        }\n                        else {\n                            m.d(ae);\n                        }\n                        j.h(ad);\n                    }\n                }\n                try {\n                    for (var _b = (e_1 = void 0, tslib_1.__values(fromEnum(m))), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var af = _c.value;\n                        var ag = new Triangle();\n                        ag.v1 = af.a;\n                        ag.v2 = af.b;\n                        ag.v3 = ab;\n                        j.f(ag);\n                    }\n                }\n                catch (e_1_1) {\n                    e_1 = { error: e_1_1 };\n                }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return))\n                            _a.call(_b);\n                    }\n                    finally {\n                        if (e_1)\n                            throw e_1.error;\n                    }\n                }\n            }\n            if (o == b) {\n                for (var ah = k.c; ah != null; ah = ah.a) {\n                    aa_1 = ah.c;\n                    if (aa_1.v1 < b && aa_1.v2 < b && aa_1.v3 < b) {\n                        i.add(((function () {\n                            var $ret = new Triangle();\n                            $ret.v1 = e_2._inner[aa_1.v1];\n                            $ret.v2 = e_2._inner[aa_1.v2];\n                            $ret.v3 = e_2._inner[aa_1.v3];\n                            return $ret;\n                        })()));\n                    }\n                }\n                for (var ai = j.c; ai != null; ai = ai.a) {\n                    aa_1 = ai.c;\n                    if (aa_1.v1 < b && aa_1.v2 < b && aa_1.v3 < b) {\n                        i.add(((function () {\n                            var $ret = new Triangle();\n                            $ret.v1 = e_2._inner[aa_1.v1];\n                            $ret.v2 = e_2._inner[aa_1.v2];\n                            $ret.v3 = e_2._inner[aa_1.v3];\n                            return $ret;\n                        })()));\n                    }\n                }\n                this.p = 100;\n                this.t();\n            }\n            else {\n                n = o;\n                o += a.m;\n                if (o > b) {\n                    o = b;\n                }\n                a.l = n;\n                a.k = o;\n                this.p += truncate(Math.floor(100 / 20));\n                this.t();\n                this.u();\n            }\n        }\n    };\n    Triangulator.prototype.r = function () {\n        {\n            this.k = null;\n        }\n    };\n    Triangulator.prototype.u = function () {\n        {\n            if (this.k != null && this.k.c) {\n                window.setTimeout(runOn(this, this.w), 0);\n            }\n            else {\n                this.w();\n            }\n        }\n    };\n    Object.defineProperty(Triangulator.prototype, \"q\", {\n        get: function () {\n            return this.p;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Triangulator.$t = markType(Triangulator, 'Triangulator', DependencyObject.$);\n    return Triangulator;\n}(DependencyObject));\nexport { Triangulator };\n//# sourceMappingURL=Triangulator.js.map\n"]},"metadata":{},"sourceType":"module"}