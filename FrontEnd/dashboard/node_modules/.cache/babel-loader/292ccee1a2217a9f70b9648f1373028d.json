{"ast":null,"code":"/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Brush } from './Brush';\nimport { Size } from './Size';\nimport { Rect } from './Rect';\nimport { BrushCollection } from './BrushCollection';\nimport { PointUtil } from './type';\nimport { EnumUtil, typeGetValue } from './type';\nimport { stringEndsWith, stringStartsWith } from './string';\nimport { ObservableColorCollection } from './ObservableColorCollection';\nexport function brushToString(v) {\n  if (v == null) {\n    return null;\n  }\n\n  return v.fill;\n}\nexport function stringToBrush(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var brush = Brush.create(v);\n  return brush;\n}\nexport function ensureEnum($t, v) {\n  if (v == null) {\n    return 0;\n  }\n\n  if (typeof v == \"number\") {\n    var n = v;\n\n    if (EnumUtil.getName($t, n) == undefined) {\n      return 0;\n    }\n\n    return v;\n  }\n\n  var ret = typeGetValue(EnumUtil.parse($t, v, true));\n  return ret;\n}\nexport function enumToString($t, v) {\n  return EnumUtil.toString($t, v);\n}\nexport function ensureBool(v) {\n  if (v == null) {\n    return false;\n  }\n\n  if (typeof v == \"boolean\") {\n    return v;\n  }\n\n  return v.toString().toLowerCase() == \"true\";\n}\nexport function colorToString(v) {\n  if (v == null) {\n    return null;\n  }\n\n  return v.colorString;\n}\nexport function stringToColor(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var brush = Brush.create(v);\n  return brush.color;\n}\nexport function fromSize(v) {\n  if (v == null) {\n    return null;\n  }\n\n  return {\n    width: v.width,\n    height: v.height\n  };\n}\nexport function sizeToString(v) {\n  if (!v) {\n    return null;\n  }\n\n  return v.width + \" \" + v.height;\n}\nexport function toSize(v) {\n  if (v == null) {\n    return Size.empty;\n  }\n\n  var size = null;\n\n  if (typeof v == \"string\") {\n    v = v.trim();\n    var parts = v.split(\" \");\n\n    if (parts.length != 2) {\n      parts = v.split(\",\");\n    }\n\n    if (parts.length != 2) {\n      return Size.empty;\n    }\n\n    parts[0] = parts[0].trim();\n    parts[1] = parts[1].trim();\n    var width = parseFloat(parts[0]);\n    var height = parseFloat(parts[1]);\n    return new Size(0, width, height);\n  } else {\n    if (v != null) {\n      size = new Size(0, v.width, v.height);\n    }\n  }\n\n  return size;\n}\nexport function fromPoint(v) {\n  return v;\n}\nexport function pointToString(v) {\n  if (!v) {\n    return null;\n  }\n\n  return v.x + \" \" + v.y;\n}\nexport function toPoint(v) {\n  if (v == null) {\n    return PointUtil.createXY(NaN, NaN);\n  }\n\n  var point = null;\n\n  if (typeof v == \"string\") {\n    v = v.trim();\n    var parts = v.split(\" \");\n\n    if (parts.length != 2) {\n      parts = v.split(\",\");\n    }\n\n    if (parts.length != 2) {\n      return PointUtil.createXY(NaN, NaN);\n    }\n\n    parts[0] = parts[0].trim();\n    parts[1] = parts[1].trim();\n    var x = parseFloat(parts[0]);\n    var y = parseFloat(parts[1]);\n    return PointUtil.createXY(x, y);\n  } else {\n    if (v != null) {\n      point = PointUtil.createXY(v.x, v.y);\n    }\n  }\n\n  return point;\n}\nexport function fromRect(v) {\n  if (v == null) {\n    return null;\n  }\n\n  return {\n    top: v.top,\n    left: v.left,\n    width: v.width,\n    height: v.height\n  };\n}\nexport function rectToString(v) {\n  if (!v) {\n    return null;\n  }\n\n  return v.left + \" \" + v.top + \" \" + v.width + \" \" + v.height;\n}\nexport function toRect(v) {\n  if (v == null) {\n    return Rect.empty;\n  }\n\n  var size = null;\n\n  if (typeof v == \"string\") {\n    var parts = v.split(\" \");\n\n    if (parts.length != 4) {\n      parts = v.split(\",\");\n    }\n\n    if (parts.length != 4) {\n      return Rect.empty;\n    }\n\n    parts[0] = parts[0].trim();\n    parts[1] = parts[1].trim();\n    parts[2] = parts[2].trim();\n    parts[3] = parts[3].trim();\n    var left = parseFloat(parts[0]);\n    var top_1 = parseFloat(parts[1]);\n    var width = parseFloat(parts[2]);\n    var height = parseFloat(parts[3]);\n    return new Rect(0, left, top_1, width, height);\n  } else {\n    if (v != null) {\n      size = new Rect(0, v.left, v.top, v.width, v.height);\n    }\n  }\n\n  return size;\n}\nexport function brushCollectionToString(v) {\n  var bArray = fromBrushCollection(v);\n\n  if (bArray == null) {\n    return null;\n  }\n\n  return bArray.join(\" \");\n}\nexport function toBrushCollection(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var isRGB = true;\n\n  if (typeof v == \"string\") {\n    v = v.trim();\n    v = v.split(/[\\s,]+(?![^(]*\\))/gm);\n\n    for (var i_1 = 0; i_1 < v.length; i_1++) {\n      v[i_1] = v[i_1].trim();\n    }\n  }\n\n  var val = v ? v[0] : null;\n\n  if (typeof val == 'string' && val == 'HSV' || val == 'RGB') {\n    if (v[0] == 'HSV') {\n      isRGB = false;\n    }\n\n    v = v.slice(1);\n  }\n\n  var brushCollection = new BrushCollection();\n\n  for (var i = 0; v && i < v.length; i++) {\n    var brush = Brush.create(v[i]);\n    brushCollection.add(brush);\n  }\n\n  return brushCollection;\n}\nexport function fromBrushCollection(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var internalCollection = v;\n  var ret = [];\n\n  for (var i = 0; i < internalCollection.count; i++) {\n    ret.push(internalCollection.item(i).fill);\n  }\n\n  return ret;\n}\nexport function colorCollectionToString(v) {\n  var bArray = fromColorCollection(v);\n\n  if (bArray == null) {\n    return null;\n  }\n\n  return bArray.join(\" \");\n}\nexport function toColorCollection(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var isRGB = true;\n\n  if (typeof v == \"string\") {\n    v = v.trim();\n    v = v.split(/[\\s,]+(?![^(]*\\))/gm);\n\n    for (var i_2 = 0; i_2 < v.length; i_2++) {\n      v[i_2] = v[i_2].trim();\n    }\n  }\n\n  var val = v ? v[0] : null;\n\n  if (typeof val == 'string' && val == 'HSV' || val == 'RGB') {\n    if (v[0] == 'HSV') {\n      isRGB = false;\n    }\n\n    v = v.slice(1);\n  }\n\n  var colorCollection = new ObservableColorCollection();\n\n  for (var i = 0; v && i < v.length; i++) {\n    var color = stringToColor(v[i]);\n    colorCollection.add(color);\n  }\n\n  return colorCollection;\n}\nexport function fromColorCollection(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var internalCollection = v;\n  var ret = [];\n\n  for (var i = 0; i < internalCollection.count; i++) {\n    ret.push(internalCollection.item(i).colorString);\n  }\n\n  return ret;\n}\nexport function arrayFindByName(arr, name) {\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i].findByName && arr[i].findByName(name)) {\n      return arr[i].findByName(name);\n    }\n  }\n}\n\nvar CollectionAdapter =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function CollectionAdapter(query, target, allList, toTarget, onItemAdded, onItemRemoved, collisionChecker) {\n    var _this = this;\n\n    this._manualItems = [];\n    this._collisionChecker = null;\n    this.actualContent = [];\n    this._removedManualKeys = new Set();\n\n    if (collisionChecker) {\n      this._collisionChecker = collisionChecker;\n    }\n\n    this._query = query;\n    this._target = target;\n    this._toTarget = toTarget;\n    this._allList = allList;\n    this._onItemAdded = onItemAdded;\n    this._onItemRemoved = onItemRemoved;\n    this.syncItems();\n\n    if (this._query.changes) {\n      this._query.changes.subscribe(function (v) {\n        return _this.onQueryChanged(v);\n      });\n    }\n  }\n\n  Object.defineProperty(CollectionAdapter.prototype, \"collisionChecker\", {\n    get: function () {\n      return this._collisionChecker;\n    },\n    set: function (v) {\n      this._collisionChecker = v;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  CollectionAdapter.prototype.updateQuery = function (q) {\n    var _this = this;\n\n    this._query = q;\n\n    if (this._query.changes) {\n      this._query.changes.subscribe(function (v) {\n        return _this.onQueryChanged(v);\n      });\n    }\n\n    this.notifyContentChanged();\n  };\n\n  CollectionAdapter.prototype.shiftContentToManual = function (manualCollection, onMoving) {\n    var queryArray = null;\n\n    if (this._query.toArray) {\n      queryArray = this._query.toArray();\n    } else {\n      queryArray = this._query;\n    }\n\n    var item = null;\n    var manualSet = new Set();\n\n    if (this.collisionChecker) {\n      for (var i = 0; i < this._manualItems.length; i++) {\n        item = this._manualItems[i];\n\n        if (item) {\n          var key = this.collisionChecker(item);\n\n          if (key) {\n            if (!manualSet.has(key)) {\n              manualSet.add(key);\n            }\n          }\n        }\n      }\n    }\n\n    var mapWasEmpty = manualSet.size == 0;\n\n    for (var i = 0; i < queryArray.length; i++) {\n      item = queryArray[i];\n\n      if (!this._hasShiftedOnceAlready) {\n        this._manualItems.splice(i, 0, item);\n\n        manualCollection.insert(i, item);\n        onMoving(item);\n      } else {\n        var key = this.collisionChecker(item);\n\n        if (!key) {\n          this._manualItems.splice(i, 0, item);\n\n          manualCollection.insert(i, item);\n          onMoving(item);\n        } else {\n          if (!manualSet.has(key)) {\n            this._manualItems.splice(manualCollection.count, 0, item);\n\n            manualCollection.insert(manualCollection.count, item);\n            onMoving(item);\n          }\n        }\n      }\n    }\n\n    this.syncItems();\n    this._hasShiftedOnceAlready = true;\n  };\n\n  CollectionAdapter.prototype.syncItems = function () {\n    var targetMap = new Map();\n    var queryMap = new Map();\n    var manualMap = new Map();\n    var item = null;\n\n    for (var i = 0; i < this._allList.length; i++) {\n      item = this._allList[i];\n      targetMap.set(item, true);\n    }\n\n    var queryArray = null;\n\n    if (this._query.toArray) {\n      queryArray = this._query.toArray();\n    } else {\n      queryArray = this._query;\n    }\n\n    this.actualContent = queryArray;\n\n    if (this.collisionChecker) {\n      queryArray = queryArray.slice(0);\n      this.actualContent = queryArray;\n      var manualKeySet = new Set();\n\n      for (var i_3 = 0; i_3 < this._manualItems.length; i_3++) {\n        item = this._manualItems[i_3];\n\n        if (item) {\n          var key = this.collisionChecker(item);\n\n          if (key) {\n            if (!manualKeySet.has(key)) {\n              manualKeySet.add(key);\n            }\n          }\n        }\n      }\n\n      for (var i_4 = queryArray.length - 1; i_4 >= 0; i_4--) {\n        item = queryArray[i_4];\n\n        if (!item) {\n          queryArray.splice(i_4, 1);\n        } else {\n          var key = this.collisionChecker(item);\n\n          if (key && (manualKeySet.has(key) || this._removedManualKeys.has(key))) {\n            queryArray.splice(i_4, 1);\n          }\n        }\n      }\n    }\n\n    for (var i = 0; i < queryArray.length; i++) {\n      item = queryArray[i];\n      queryMap.set(item, true);\n    }\n\n    for (var i = 0; i < this._manualItems.length; i++) {\n      item = this._manualItems[i];\n      manualMap.set(item, true);\n    }\n\n    for (var i = this._allList.length - 1; i >= 0; i--) {\n      item = this._allList[i];\n\n      if (!queryMap.has(item) && !manualMap.has(item)) {\n        this._allList.splice(i, 1);\n\n        this._target.removeAt(i);\n\n        this._onItemRemoved(item);\n      }\n    }\n\n    var ind = 0;\n    var ins = 0;\n    var insItem = null;\n    var maxLen = queryArray.length + this._manualItems.length;\n\n    while (ind < maxLen) {\n      if (ind < queryArray.length) {\n        insItem = queryArray[ind];\n      } else if (ind - queryArray.length < this._manualItems.length) {\n        insItem = this._manualItems[ind - queryArray.length];\n      } else {\n        break;\n      }\n\n      if (ins < this._allList.length) {\n        item = this._allList[ins];\n\n        if (item === insItem) {\n          ins++;\n          ind++;\n        } else {\n          this._allList.splice(ins, 0, insItem);\n\n          this._target.insert(ins, this._toTarget(insItem));\n\n          this._onItemAdded(insItem);\n\n          ind++;\n          ins++;\n        }\n      } else {\n        this._allList.push(insItem);\n\n        this._target.add(this._toTarget(insItem));\n\n        this._onItemAdded(insItem);\n\n        ind++;\n        ins++;\n      }\n    }\n  };\n\n  CollectionAdapter.prototype.notifyContentChanged = function () {\n    this.onQueryChanged(this._query);\n  };\n\n  CollectionAdapter.prototype.onQueryChanged = function (currentItems) {\n    this.syncItems();\n  };\n\n  CollectionAdapter.prototype.addManualItem = function (item) {\n    if (this.collisionChecker) {\n      var key = this.collisionChecker(item);\n\n      if (key) {\n        if (this._removedManualKeys.has(key)) {\n          this._removedManualKeys.delete(key);\n        }\n      }\n    }\n\n    this._manualItems.push(item);\n\n    this.syncItems();\n  };\n\n  CollectionAdapter.prototype.removeManualItem = function (item) {\n    var ind = this._manualItems.indexOf(item);\n\n    if (ind >= 0) {\n      if (this.collisionChecker) {\n        var key = this.collisionChecker(item);\n\n        if (key) {\n          if (!this._removedManualKeys.has(key)) {\n            this._removedManualKeys.add(key);\n          }\n        }\n      }\n\n      this._manualItems.splice(ind, 1);\n\n      this.syncItems();\n      return true;\n    }\n\n    return false;\n  };\n\n  CollectionAdapter.prototype.removeManualItemAt = function (index) {\n    if (index < this._manualItems.length) {\n      var item = this._manualItems[index];\n\n      if (this.collisionChecker) {\n        var key = this.collisionChecker(item);\n\n        if (key) {\n          if (!this._removedManualKeys.has(key)) {\n            this._removedManualKeys.add(key);\n          }\n        }\n      }\n    }\n\n    this._manualItems.splice(index, 1);\n\n    this.syncItems();\n  };\n\n  CollectionAdapter.prototype.clearManualItems = function () {\n    if (this.collisionChecker) {\n      this._removedManualKeys.clear();\n    }\n\n    this._manualItems.length = 0;\n    this.syncItems();\n  };\n\n  CollectionAdapter.prototype.insertManualItem = function (index, item) {\n    if (this.collisionChecker) {\n      var key = this.collisionChecker(item);\n\n      if (key) {\n        if (this._removedManualKeys.has(key)) {\n          this._removedManualKeys.delete(key);\n        }\n      }\n    }\n\n    this._manualItems.splice(index, 0, item);\n\n    this.syncItems();\n  };\n\n  return CollectionAdapter;\n}();\n\nexport { CollectionAdapter };\nexport function addPaletteThemeEntry(theme, clss, background, border, foreground) {\n  if (theme[clss] === undefined) {\n    theme[clss] = {};\n  }\n\n  if (background !== null) {\n    theme[clss][\"background-color\"] = background;\n  }\n\n  if (border !== null && border !== undefined) {\n    theme[clss][\"border-top-color\"] = border;\n    theme[clss][\"border-left-color\"] = border;\n    theme[clss][\"border-right-color\"] = border;\n    theme[clss][\"border-bottom-color\"] = border;\n  }\n\n  if (foreground !== null && foreground !== undefined) {\n    theme[clss][\"color\"] = foreground;\n  }\n}\nexport function addTextThemeEntry(theme, clss, fontFamily, fontSize, textColor, leftMargin, topMargin, rightMargin, bottomMargin, horizontalAlignment, verticalAlignment) {\n  if (theme[clss] === undefined) {\n    theme[clss] = {};\n  }\n\n  var t = theme[clss];\n\n  if (fontFamily !== null && fontFamily !== undefined) {\n    t[\"font-family\"] = fontFamily;\n    t[\"font-weight\"] = \"\";\n    t[\"font-style\"] = \"\";\n    t[\"font-variant\"] = \"\";\n    t[\"line-height\"] = \"\";\n  }\n\n  if (fontSize !== null && fontSize !== undefined) {\n    t[\"font-size\"] = fontSize;\n    t[\"font-weight\"] = \"\";\n    t[\"font-style\"] = \"\";\n    t[\"font-variant\"] = \"\";\n    t[\"line-height\"] = \"\";\n  }\n\n  if (textColor !== null && textColor !== undefined) {\n    t[\"color\"] = textColor;\n  }\n\n  if (leftMargin !== null && leftMargin !== undefined) {\n    t[\"margin-left\"] = leftMargin;\n  }\n\n  if (topMargin !== null && topMargin !== undefined) {\n    t[\"margin-top\"] = topMargin;\n  }\n\n  if (rightMargin !== null && rightMargin !== undefined) {\n    t[\"margin-right\"] = rightMargin;\n  }\n\n  if (bottomMargin !== null && bottomMargin !== undefined) {\n    t[\"margin-bottom\"] = bottomMargin;\n  }\n\n  if (horizontalAlignment !== null && horizontalAlignment !== undefined) {\n    t[\"text-align\"] = horizontalAlignment;\n  }\n\n  if (verticalAlignment !== null && verticalAlignment !== undefined) {\n    t[\"vertical-align\"] = verticalAlignment;\n  }\n}\n\nfunction isStylableProperty(name) {\n  // using lower case to prevent issGrues with matching case of properties (e.g. chart.brushes)\n  var propName = name.toLowerCase(); // skip non-stylable properties\n\n  if (propName == \"height\" || propName == \"width\") {\n    return false;\n  } // check for all stylable properties\n\n\n  if (stringEndsWith(propName, \"height\") || // grid.rowHeight\n  stringEndsWith(propName, \"width\") || // zoomSlider.HigherThumbWidth\n  stringEndsWith(propName, \"width\") || // zoomSlider.HigherCalloutOutline\n  stringEndsWith(propName, \"inset\") || // zoomSlider.EndInset\n  stringEndsWith(propName, \"orientation\") || // zoomSlider.Orientation\n  stringEndsWith(propName, \"duration\") || // zoomSlider.PanTransitionDuration\n  stringEndsWith(propName, \"outline\") || // zoomSlider.BarOutline\n  stringEndsWith(propName, \"brush\") || stringEndsWith(propName, \"background\") || stringEndsWith(propName, \"opacity\") || stringEndsWith(propName, \"textstyle\") || stringEndsWith(propName, \"brushes\") || // chart.brushes  || chart.negativeBrushes\n  stringEndsWith(propName, \"outlines\") || // chart.outlines || chart.negativeOutlines\n  stringEndsWith(propName, \"thickness\") || // chart.AxisStrokeThickness\n  stringEndsWith(propName, \"colors\") || //\n  stringEndsWith(propName, \"color\") || // chart.AxisLabelTextColor\n  stringEndsWith(propName, \"margin\") || // chart.AxisLabelTopMargin\n  stringEndsWith(propName, \"location\") || // chart.AxisLabelLocation\n  stringEndsWith(propName, \"style\") || // chart.AxisLabelTextStyle\n  stringEndsWith(propName, \"alignment\") || // chart.AxisLabelHorizontalAlignment\n  stringEndsWith(propName, \"visibility\") || // chart.AxisLabelVisibility\n  stringEndsWith(propName, \"extent\") || // chart.AxisExtent\n  stringEndsWith(propName, \"length\") || // chart.AxisTickLength\n  stringEndsWith(propName, \"strip\") || // chart.AxisStrip\n  stringEndsWith(propName, \"stroke\") || // chart.AxisStroke\n  stringEndsWith(propName, \"fill\") || // piechart.OthersCategoryFill\n  stringEndsWith(propName, \"visible\") || stringEndsWith(propName, \"radius\") || stringStartsWith(propName, \"padding\") || propName === \"usecanvas\" || propName === \"useaccessibility\") {\n    // chart.isToolbarVisible\n    return true;\n  }\n\n  return false;\n}\n\nfunction resolveUnits(val) {\n  // TODO convert \"em, px, pt, cm, in\" units to \"px\"?\n  // https://www.w3.org/Style/Examples/007/units.en.html\n  var value = val.toLowerCase();\n\n  if (stringEndsWith(value, \"px\")) {\n    // 20px\n    value = value.replace(\"px\", \"\");\n    value = value.replace(\" \", \"\");\n  }\n\n  return value;\n}\n\nexport function toSpinal(value) {\n  if (value == null) {\n    return null;\n  }\n\n  var output = [];\n  var upperRun = 0;\n\n  for (var i = 0; i < value.length; i++) {\n    var curr = value[i];\n    var upperChar = curr.toUpperCase();\n    var lowerChar = curr.toLowerCase();\n    var charIsNewWord = upperRun == 0 && output.length > 0;\n    var previousCharWasNewWord = upperRun > 1;\n\n    if (upperChar == curr) {\n      if (charIsNewWord) {\n        output.push('-');\n      }\n\n      upperRun++;\n    } else if (lowerChar == curr) {\n      if (previousCharWasNewWord) {\n        output.splice(output.length - 1, 0, '-');\n      }\n\n      upperRun = 0;\n    } else {\n      upperRun = 0;\n    }\n\n    output.push(lowerChar);\n  }\n\n  var sb = \"\";\n\n  for (var i = 0; i < output.length; i++) {\n    sb += output[i];\n  }\n\n  return sb;\n}\nexport function fromSpinal(value) {\n  if (value == null) {\n    return value;\n  }\n\n  var parts = value.split('-');\n\n  for (var j = 1; j < parts.length; j++) {\n    parts[j] = parts[j].substr(0, 1).toUpperCase() + parts[j].substr(1);\n  }\n\n  var ret = \"\";\n\n  for (var j = 0; j < parts.length; j++) {\n    ret += parts[j];\n  }\n\n  return ret;\n}\n\nfunction toCssPropertyName(value) {\n  var sb = toSpinal(value);\n  return sb;\n} // get all property names for specified component and its base classes\n\n\nexport function getAllPropertyNames(comp) {\n  var members = [];\n\n  while (comp = comp.prototype || Object.getPrototypeOf(comp)) {\n    if (comp == HTMLElement.prototype) {\n      break;\n    }\n\n    var props = Object.getOwnPropertyNames(comp.constructor.prototype);\n\n    for (var i = 0; i < props.length; i++) {\n      members.push(props[i]);\n    }\n  }\n\n  return members;\n}\nvar stylableMap = /*@__PURE__*/new Map();\nexport function initializePropertiesFromCss(ele, comp, cssPrefix, ignoredProperties, prefixRequired, additionalPrefixes) {\n  var e_1, _a;\n\n  var styles = getComputedStyle(ele);\n  var props = getAllPropertyNames(comp);\n  var filtered = false;\n  var stylableProperties = [];\n\n  if (stylableMap.has(comp.prototype || Object.getPrototypeOf(comp))) {\n    stylableProperties = stylableMap.get(comp.prototype || Object.getPrototypeOf(comp));\n    props = stylableProperties;\n    filtered = true;\n  }\n\n  var compName = comp.constructor.name;\n\n  try {\n    for (var props_1 = tslib_1.__values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n      var prop = props_1_1.value;\n      var cssPropName = null;\n\n      if (filtered) {\n        cssPropName = prop[1];\n        prop = prop[0];\n      }\n\n      if (ignoredProperties && ignoredProperties.has(prop)) {\n        if (!filtered && isStylableProperty(prop)) {\n          var cssName = toCssPropertyName(prop);\n          stylableProperties.push([prop, cssName]);\n        }\n\n        continue;\n      }\n\n      if (filtered || isStylableProperty(prop)) {\n        var cssName = \"\";\n\n        if (cssPropName) {\n          cssName = cssPropName;\n        } else {\n          cssName = toCssPropertyName(prop);\n        } // check if custom property is set with a prefix\n\n\n        var cssValue = styles.getPropertyValue(\"--\" + cssPrefix + cssName);\n\n        if (cssValue && cssValue.length && cssValue.length > 0) {\n          comp[prop] = resolveUnits(cssValue.trim());\n        }\n\n        if (additionalPrefixes) {\n          for (var i = 0; i < additionalPrefixes.length; i++) {\n            var p = additionalPrefixes[i];\n            cssValue = styles.getPropertyValue(\"--\" + p + cssName);\n\n            if (cssValue && cssValue.length && cssValue.length > 0) {\n              comp[prop] = resolveUnits(cssValue.trim());\n            }\n          }\n        }\n\n        if (!prefixRequired) {\n          // check if custom property is set without a prefix\n          cssValue = styles.getPropertyValue(\"--\" + cssName);\n\n          if (cssValue && cssValue.length && cssValue.length > 0) {\n            comp[prop] = resolveUnits(cssValue.trim());\n          }\n        }\n\n        if (!filtered) {\n          stylableProperties.push([prop, cssName]);\n        }\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  if (!filtered) {\n    stylableMap.set(comp.prototype || Object.getPrototypeOf(comp), stylableProperties);\n  }\n}\nexport function addBrushPaletteThemeEntry(theme, clss, backgrounds, outlines) {\n  if (outlines == null) {\n    outlines = backgrounds;\n  }\n\n  var t = theme;\n\n  for (var i = 0; i < Math.max(backgrounds.length, outlines.length); i++) {\n    var pName = clss + \"-\" + (i + 1);\n\n    if (t[pName] === undefined) {\n      t[pName] = {};\n    }\n\n    if (backgrounds[i] !== undefined) {\n      t[pName][\"background-color\"] = backgrounds[i];\n    }\n\n    if (outlines[i] !== undefined) {\n      t[pName][\"border-top-color\"] = outlines[i];\n      t[pName][\"border-left-color\"] = outlines[i];\n      t[pName][\"border-right-color\"] = outlines[i];\n      t[pName][\"border-bottom-color\"] = outlines[i];\n    }\n  }\n}\nexport function getModifiedProps(prevProps, nextProps) {\n  var e_2, _a;\n\n  var mod = {};\n\n  try {\n    for (var _b = tslib_1.__values(Object.keys(nextProps)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var p = _c.value;\n\n      if (prevProps[p] == undefined || prevProps[p] !== nextProps[p]) {\n        mod[p] = nextProps[p];\n      }\n    }\n  } catch (e_2_1) {\n    e_2 = {\n      error: e_2_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_2) throw e_2.error;\n    }\n  }\n\n  return mod;\n}\nexport function isValidProp(owner, prop) {\n  while (owner = owner.prototype || Object.getPrototypeOf(owner)) {\n    if (owner == HTMLElement.prototype) {\n      break;\n    }\n\n    if (owner.hasOwnProperty(prop)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar NamePatcher =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function NamePatcher() {}\n\n  NamePatcher.ensureStylablePatched = function (prot) {\n    this.ensurePatched(prot, isStylableProperty);\n  };\n\n  NamePatcher.ensurePatched = function (prot, nameFilter) {\n    var e_3, _a;\n\n    if (!prot) {\n      return;\n    }\n\n    if (prot === Object.prototype || prot === HTMLElement.prototype) {\n      return;\n    }\n\n    if (this._patched.has(prot)) {\n      return;\n    }\n\n    this._patched.add(prot);\n\n    var _loop_1 = function (key) {\n      if (nameFilter && !nameFilter(key)) {\n        return \"continue\";\n      }\n\n      var p = Object.getOwnPropertyDescriptor(prot, key);\n\n      if (!p) {\n        return \"continue\";\n      }\n\n      var set = p.set;\n      var name_1 = key;\n\n      if (set !== undefined) {\n        var newSet = function (v) {\n          this.__p = name_1;\n\n          if (this.__m) {\n            this.__m(name_1);\n          }\n\n          set.call(this, v);\n        };\n\n        Object.defineProperty(prot, key, tslib_1.__assign({}, p, {\n          set: newSet\n        }));\n      }\n    };\n\n    try {\n      for (var _b = tslib_1.__values(Object.keys(prot)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var key = _c.value;\n\n        _loop_1(key);\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    var base = Object.getPrototypeOf(prot);\n\n    if (base) {\n      this.ensurePatched(base, nameFilter);\n    }\n  };\n\n  NamePatcher._patched = new Set();\n  return NamePatcher;\n}();\n\nexport { NamePatcher };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/componentUtil.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Brush } from './Brush';\r\nimport { Size } from './Size';\r\nimport { Rect } from './Rect';\r\nimport { BrushCollection } from './BrushCollection';\r\nimport { PointUtil } from './type';\r\nimport { EnumUtil, typeGetValue } from './type';\r\nimport { stringEndsWith, stringStartsWith } from './string';\r\nimport { ObservableColorCollection } from './ObservableColorCollection';\r\nexport function brushToString(v) {\r\n    if (v == null) {\r\n        return null;\r\n    }\r\n    return v.fill;\r\n}\r\nexport function stringToBrush(v) {\r\n    if (v == null) {\r\n        return null;\r\n    }\r\n    var brush = Brush.create(v);\r\n    return brush;\r\n}\r\nexport function ensureEnum($t, v) {\r\n    if (v == null) {\r\n        return 0;\r\n    }\r\n    if (typeof v == \"number\") {\r\n        var n = v;\r\n        if (EnumUtil.getName($t, n) == undefined) {\r\n            return 0;\r\n        }\r\n        return v;\r\n    }\r\n    var ret = typeGetValue(EnumUtil.parse($t, v, true));\r\n    return ret;\r\n}\r\nexport function enumToString($t, v) {\r\n    return EnumUtil.toString($t, v);\r\n}\r\nexport function ensureBool(v) {\r\n    if (v == null) {\r\n        return false;\r\n    }\r\n    if (typeof v == \"boolean\") {\r\n        return v;\r\n    }\r\n    return v.toString().toLowerCase() == \"true\";\r\n}\r\nexport function colorToString(v) {\r\n    if (v == null) {\r\n        return null;\r\n    }\r\n    return v.colorString;\r\n}\r\nexport function stringToColor(v) {\r\n    if (v == null) {\r\n        return null;\r\n    }\r\n    var brush = Brush.create(v);\r\n    return brush.color;\r\n}\r\nexport function fromSize(v) {\r\n    if (v == null) {\r\n        return null;\r\n    }\r\n    return {\r\n        width: v.width,\r\n        height: v.height\r\n    };\r\n}\r\nexport function sizeToString(v) {\r\n    if (!v) {\r\n        return null;\r\n    }\r\n    return v.width + \" \" + v.height;\r\n}\r\nexport function toSize(v) {\r\n    if (v == null) {\r\n        return Size.empty;\r\n    }\r\n    var size = null;\r\n    if (typeof v == \"string\") {\r\n        v = v.trim();\r\n        var parts = v.split(\" \");\r\n        if (parts.length != 2) {\r\n            parts = v.split(\",\");\r\n        }\r\n        if (parts.length != 2) {\r\n            return Size.empty;\r\n        }\r\n        parts[0] = parts[0].trim();\r\n        parts[1] = parts[1].trim();\r\n        var width = parseFloat(parts[0]);\r\n        var height = parseFloat(parts[1]);\r\n        return new Size(0, width, height);\r\n    }\r\n    else {\r\n        if (v != null) {\r\n            size = new Size(0, v.width, v.height);\r\n        }\r\n    }\r\n    return size;\r\n}\r\nexport function fromPoint(v) {\r\n    return v;\r\n}\r\nexport function pointToString(v) {\r\n    if (!v) {\r\n        return null;\r\n    }\r\n    return v.x + \" \" + v.y;\r\n}\r\nexport function toPoint(v) {\r\n    if (v == null) {\r\n        return PointUtil.createXY(NaN, NaN);\r\n    }\r\n    var point = null;\r\n    if (typeof v == \"string\") {\r\n        v = v.trim();\r\n        var parts = v.split(\" \");\r\n        if (parts.length != 2) {\r\n            parts = v.split(\",\");\r\n        }\r\n        if (parts.length != 2) {\r\n            return PointUtil.createXY(NaN, NaN);\r\n        }\r\n        parts[0] = parts[0].trim();\r\n        parts[1] = parts[1].trim();\r\n        var x = parseFloat(parts[0]);\r\n        var y = parseFloat(parts[1]);\r\n        return PointUtil.createXY(x, y);\r\n    }\r\n    else {\r\n        if (v != null) {\r\n            point = PointUtil.createXY(v.x, v.y);\r\n        }\r\n    }\r\n    return point;\r\n}\r\nexport function fromRect(v) {\r\n    if (v == null) {\r\n        return null;\r\n    }\r\n    return {\r\n        top: v.top,\r\n        left: v.left,\r\n        width: v.width,\r\n        height: v.height\r\n    };\r\n}\r\nexport function rectToString(v) {\r\n    if (!v) {\r\n        return null;\r\n    }\r\n    return v.left + \" \" + v.top + \" \" + v.width + \" \" + v.height;\r\n}\r\nexport function toRect(v) {\r\n    if (v == null) {\r\n        return Rect.empty;\r\n    }\r\n    var size = null;\r\n    if (typeof v == \"string\") {\r\n        var parts = v.split(\" \");\r\n        if (parts.length != 4) {\r\n            parts = v.split(\",\");\r\n        }\r\n        if (parts.length != 4) {\r\n            return Rect.empty;\r\n        }\r\n        parts[0] = parts[0].trim();\r\n        parts[1] = parts[1].trim();\r\n        parts[2] = parts[2].trim();\r\n        parts[3] = parts[3].trim();\r\n        var left = parseFloat(parts[0]);\r\n        var top_1 = parseFloat(parts[1]);\r\n        var width = parseFloat(parts[2]);\r\n        var height = parseFloat(parts[3]);\r\n        return new Rect(0, left, top_1, width, height);\r\n    }\r\n    else {\r\n        if (v != null) {\r\n            size = new Rect(0, v.left, v.top, v.width, v.height);\r\n        }\r\n    }\r\n    return size;\r\n}\r\nexport function brushCollectionToString(v) {\r\n    var bArray = fromBrushCollection(v);\r\n    if (bArray == null) {\r\n        return null;\r\n    }\r\n    return bArray.join(\" \");\r\n}\r\nexport function toBrushCollection(v) {\r\n    if (v == null) {\r\n        return null;\r\n    }\r\n    var isRGB = true;\r\n    if (typeof v == \"string\") {\r\n        v = v.trim();\r\n        v = v.split(/[\\s,]+(?![^(]*\\))/gm);\r\n        for (var i_1 = 0; i_1 < v.length; i_1++) {\r\n            v[i_1] = v[i_1].trim();\r\n        }\r\n    }\r\n    var val = v ? v[0] : null;\r\n    if (typeof val == 'string' && val == 'HSV' || val == 'RGB') {\r\n        if (v[0] == 'HSV') {\r\n            isRGB = false;\r\n        }\r\n        v = v.slice(1);\r\n    }\r\n    var brushCollection = new BrushCollection();\r\n    for (var i = 0; v && i < v.length; i++) {\r\n        var brush = Brush.create(v[i]);\r\n        brushCollection.add(brush);\r\n    }\r\n    return brushCollection;\r\n}\r\nexport function fromBrushCollection(v) {\r\n    if (v == null) {\r\n        return null;\r\n    }\r\n    var internalCollection = v;\r\n    var ret = [];\r\n    for (var i = 0; i < internalCollection.count; i++) {\r\n        ret.push(internalCollection.item(i).fill);\r\n    }\r\n    return ret;\r\n}\r\nexport function colorCollectionToString(v) {\r\n    var bArray = fromColorCollection(v);\r\n    if (bArray == null) {\r\n        return null;\r\n    }\r\n    return bArray.join(\" \");\r\n}\r\nexport function toColorCollection(v) {\r\n    if (v == null) {\r\n        return null;\r\n    }\r\n    var isRGB = true;\r\n    if (typeof v == \"string\") {\r\n        v = v.trim();\r\n        v = v.split(/[\\s,]+(?![^(]*\\))/gm);\r\n        for (var i_2 = 0; i_2 < v.length; i_2++) {\r\n            v[i_2] = v[i_2].trim();\r\n        }\r\n    }\r\n    var val = v ? v[0] : null;\r\n    if (typeof val == 'string' && val == 'HSV' || val == 'RGB') {\r\n        if (v[0] == 'HSV') {\r\n            isRGB = false;\r\n        }\r\n        v = v.slice(1);\r\n    }\r\n    var colorCollection = new ObservableColorCollection();\r\n    for (var i = 0; v && i < v.length; i++) {\r\n        var color = stringToColor(v[i]);\r\n        colorCollection.add(color);\r\n    }\r\n    return colorCollection;\r\n}\r\nexport function fromColorCollection(v) {\r\n    if (v == null) {\r\n        return null;\r\n    }\r\n    var internalCollection = v;\r\n    var ret = [];\r\n    for (var i = 0; i < internalCollection.count; i++) {\r\n        ret.push(internalCollection.item(i).colorString);\r\n    }\r\n    return ret;\r\n}\r\nexport function arrayFindByName(arr, name) {\r\n    for (var i = 0; i < arr.length; i++) {\r\n        if (arr[i].findByName && arr[i].findByName(name)) {\r\n            return arr[i].findByName(name);\r\n        }\r\n    }\r\n}\r\nvar CollectionAdapter = /** @class */ /*@__PURE__*/ (function () {\r\n    function CollectionAdapter(query, target, allList, toTarget, onItemAdded, onItemRemoved, collisionChecker) {\r\n        var _this = this;\r\n        this._manualItems = [];\r\n        this._collisionChecker = null;\r\n        this.actualContent = [];\r\n        this._removedManualKeys = new Set();\r\n        if (collisionChecker) {\r\n            this._collisionChecker = collisionChecker;\r\n        }\r\n        this._query = query;\r\n        this._target = target;\r\n        this._toTarget = toTarget;\r\n        this._allList = allList;\r\n        this._onItemAdded = onItemAdded;\r\n        this._onItemRemoved = onItemRemoved;\r\n        this.syncItems();\r\n        if (this._query.changes) {\r\n            this._query.changes.subscribe(function (v) { return _this.onQueryChanged(v); });\r\n        }\r\n    }\r\n    Object.defineProperty(CollectionAdapter.prototype, \"collisionChecker\", {\r\n        get: function () {\r\n            return this._collisionChecker;\r\n        },\r\n        set: function (v) {\r\n            this._collisionChecker = v;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CollectionAdapter.prototype.updateQuery = function (q) {\r\n        var _this = this;\r\n        this._query = q;\r\n        if (this._query.changes) {\r\n            this._query.changes.subscribe(function (v) { return _this.onQueryChanged(v); });\r\n        }\r\n        this.notifyContentChanged();\r\n    };\r\n    CollectionAdapter.prototype.shiftContentToManual = function (manualCollection, onMoving) {\r\n        var queryArray = null;\r\n        if (this._query.toArray) {\r\n            queryArray = this._query.toArray();\r\n        }\r\n        else {\r\n            queryArray = this._query;\r\n        }\r\n        var item = null;\r\n        var manualSet = new Set();\r\n        if (this.collisionChecker) {\r\n            for (var i = 0; i < this._manualItems.length; i++) {\r\n                item = this._manualItems[i];\r\n                if (item) {\r\n                    var key = this.collisionChecker(item);\r\n                    if (key) {\r\n                        if (!manualSet.has(key)) {\r\n                            manualSet.add(key);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var mapWasEmpty = manualSet.size == 0;\r\n        for (var i = 0; i < queryArray.length; i++) {\r\n            item = queryArray[i];\r\n            if (!this._hasShiftedOnceAlready) {\r\n                this._manualItems.splice(i, 0, item);\r\n                manualCollection.insert(i, item);\r\n                onMoving(item);\r\n            }\r\n            else {\r\n                var key = this.collisionChecker(item);\r\n                if (!key) {\r\n                    this._manualItems.splice(i, 0, item);\r\n                    manualCollection.insert(i, item);\r\n                    onMoving(item);\r\n                }\r\n                else {\r\n                    if (!manualSet.has(key)) {\r\n                        this._manualItems.splice(manualCollection.count, 0, item);\r\n                        manualCollection.insert(manualCollection.count, item);\r\n                        onMoving(item);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.syncItems();\r\n        this._hasShiftedOnceAlready = true;\r\n    };\r\n    CollectionAdapter.prototype.syncItems = function () {\r\n        var targetMap = new Map();\r\n        var queryMap = new Map();\r\n        var manualMap = new Map();\r\n        var item = null;\r\n        for (var i = 0; i < this._allList.length; i++) {\r\n            item = this._allList[i];\r\n            targetMap.set(item, true);\r\n        }\r\n        var queryArray = null;\r\n        if (this._query.toArray) {\r\n            queryArray = this._query.toArray();\r\n        }\r\n        else {\r\n            queryArray = this._query;\r\n        }\r\n        this.actualContent = queryArray;\r\n        if (this.collisionChecker) {\r\n            queryArray = queryArray.slice(0);\r\n            this.actualContent = queryArray;\r\n            var manualKeySet = new Set();\r\n            for (var i_3 = 0; i_3 < this._manualItems.length; i_3++) {\r\n                item = this._manualItems[i_3];\r\n                if (item) {\r\n                    var key = this.collisionChecker(item);\r\n                    if (key) {\r\n                        if (!manualKeySet.has(key)) {\r\n                            manualKeySet.add(key);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (var i_4 = queryArray.length - 1; i_4 >= 0; i_4--) {\r\n                item = queryArray[i_4];\r\n                if (!item) {\r\n                    queryArray.splice(i_4, 1);\r\n                }\r\n                else {\r\n                    var key = this.collisionChecker(item);\r\n                    if (key && (manualKeySet.has(key) || this._removedManualKeys.has(key))) {\r\n                        queryArray.splice(i_4, 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (var i = 0; i < queryArray.length; i++) {\r\n            item = queryArray[i];\r\n            queryMap.set(item, true);\r\n        }\r\n        for (var i = 0; i < this._manualItems.length; i++) {\r\n            item = this._manualItems[i];\r\n            manualMap.set(item, true);\r\n        }\r\n        for (var i = this._allList.length - 1; i >= 0; i--) {\r\n            item = this._allList[i];\r\n            if (!queryMap.has(item) && !manualMap.has(item)) {\r\n                this._allList.splice(i, 1);\r\n                this._target.removeAt(i);\r\n                this._onItemRemoved(item);\r\n            }\r\n        }\r\n        var ind = 0;\r\n        var ins = 0;\r\n        var insItem = null;\r\n        var maxLen = queryArray.length + this._manualItems.length;\r\n        while (ind < maxLen) {\r\n            if (ind < queryArray.length) {\r\n                insItem = queryArray[ind];\r\n            }\r\n            else if ((ind - queryArray.length) < this._manualItems.length) {\r\n                insItem = this._manualItems[ind - queryArray.length];\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n            if (ins < this._allList.length) {\r\n                item = this._allList[ins];\r\n                if (item === insItem) {\r\n                    ins++;\r\n                    ind++;\r\n                }\r\n                else {\r\n                    this._allList.splice(ins, 0, insItem);\r\n                    this._target.insert(ins, this._toTarget(insItem));\r\n                    this._onItemAdded(insItem);\r\n                    ind++;\r\n                    ins++;\r\n                }\r\n            }\r\n            else {\r\n                this._allList.push(insItem);\r\n                this._target.add(this._toTarget(insItem));\r\n                this._onItemAdded(insItem);\r\n                ind++;\r\n                ins++;\r\n            }\r\n        }\r\n    };\r\n    CollectionAdapter.prototype.notifyContentChanged = function () {\r\n        this.onQueryChanged(this._query);\r\n    };\r\n    CollectionAdapter.prototype.onQueryChanged = function (currentItems) {\r\n        this.syncItems();\r\n    };\r\n    CollectionAdapter.prototype.addManualItem = function (item) {\r\n        if (this.collisionChecker) {\r\n            var key = this.collisionChecker(item);\r\n            if (key) {\r\n                if (this._removedManualKeys.has(key)) {\r\n                    this._removedManualKeys.delete(key);\r\n                }\r\n            }\r\n        }\r\n        this._manualItems.push(item);\r\n        this.syncItems();\r\n    };\r\n    CollectionAdapter.prototype.removeManualItem = function (item) {\r\n        var ind = this._manualItems.indexOf(item);\r\n        if (ind >= 0) {\r\n            if (this.collisionChecker) {\r\n                var key = this.collisionChecker(item);\r\n                if (key) {\r\n                    if (!this._removedManualKeys.has(key)) {\r\n                        this._removedManualKeys.add(key);\r\n                    }\r\n                }\r\n            }\r\n            this._manualItems.splice(ind, 1);\r\n            this.syncItems();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CollectionAdapter.prototype.removeManualItemAt = function (index) {\r\n        if (index < this._manualItems.length) {\r\n            var item = this._manualItems[index];\r\n            if (this.collisionChecker) {\r\n                var key = this.collisionChecker(item);\r\n                if (key) {\r\n                    if (!this._removedManualKeys.has(key)) {\r\n                        this._removedManualKeys.add(key);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._manualItems.splice(index, 1);\r\n        this.syncItems();\r\n    };\r\n    CollectionAdapter.prototype.clearManualItems = function () {\r\n        if (this.collisionChecker) {\r\n            this._removedManualKeys.clear();\r\n        }\r\n        this._manualItems.length = 0;\r\n        this.syncItems();\r\n    };\r\n    CollectionAdapter.prototype.insertManualItem = function (index, item) {\r\n        if (this.collisionChecker) {\r\n            var key = this.collisionChecker(item);\r\n            if (key) {\r\n                if (this._removedManualKeys.has(key)) {\r\n                    this._removedManualKeys.delete(key);\r\n                }\r\n            }\r\n        }\r\n        this._manualItems.splice(index, 0, item);\r\n        this.syncItems();\r\n    };\r\n    return CollectionAdapter;\r\n}());\r\nexport { CollectionAdapter };\r\nexport function addPaletteThemeEntry(theme, clss, background, border, foreground) {\r\n    if (theme[clss] === undefined) {\r\n        theme[clss] = {};\r\n    }\r\n    if (background !== null) {\r\n        theme[clss][\"background-color\"] = background;\r\n    }\r\n    if (border !== null && border !== undefined) {\r\n        theme[clss][\"border-top-color\"] = border;\r\n        theme[clss][\"border-left-color\"] = border;\r\n        theme[clss][\"border-right-color\"] = border;\r\n        theme[clss][\"border-bottom-color\"] = border;\r\n    }\r\n    if (foreground !== null && foreground !== undefined) {\r\n        theme[clss][\"color\"] = foreground;\r\n    }\r\n}\r\nexport function addTextThemeEntry(theme, clss, fontFamily, fontSize, textColor, leftMargin, topMargin, rightMargin, bottomMargin, horizontalAlignment, verticalAlignment) {\r\n    if (theme[clss] === undefined) {\r\n        theme[clss] = {};\r\n    }\r\n    var t = theme[clss];\r\n    if (fontFamily !== null && fontFamily !== undefined) {\r\n        t[\"font-family\"] = fontFamily;\r\n        t[\"font-weight\"] = \"\";\r\n        t[\"font-style\"] = \"\";\r\n        t[\"font-variant\"] = \"\";\r\n        t[\"line-height\"] = \"\";\r\n    }\r\n    if (fontSize !== null && fontSize !== undefined) {\r\n        t[\"font-size\"] = fontSize;\r\n        t[\"font-weight\"] = \"\";\r\n        t[\"font-style\"] = \"\";\r\n        t[\"font-variant\"] = \"\";\r\n        t[\"line-height\"] = \"\";\r\n    }\r\n    if (textColor !== null && textColor !== undefined) {\r\n        t[\"color\"] = textColor;\r\n    }\r\n    if (leftMargin !== null && leftMargin !== undefined) {\r\n        t[\"margin-left\"] = leftMargin;\r\n    }\r\n    if (topMargin !== null && topMargin !== undefined) {\r\n        t[\"margin-top\"] = topMargin;\r\n    }\r\n    if (rightMargin !== null && rightMargin !== undefined) {\r\n        t[\"margin-right\"] = rightMargin;\r\n    }\r\n    if (bottomMargin !== null && bottomMargin !== undefined) {\r\n        t[\"margin-bottom\"] = bottomMargin;\r\n    }\r\n    if (horizontalAlignment !== null && horizontalAlignment !== undefined) {\r\n        t[\"text-align\"] = horizontalAlignment;\r\n    }\r\n    if (verticalAlignment !== null && verticalAlignment !== undefined) {\r\n        t[\"vertical-align\"] = verticalAlignment;\r\n    }\r\n}\r\nfunction isStylableProperty(name) {\r\n    // using lower case to prevent issGrues with matching case of properties (e.g. chart.brushes)\r\n    var propName = name.toLowerCase();\r\n    // skip non-stylable properties\r\n    if (propName == \"height\" ||\r\n        propName == \"width\") {\r\n        return false;\r\n    }\r\n    // check for all stylable properties\r\n    if (stringEndsWith(propName, \"height\") || // grid.rowHeight\r\n        stringEndsWith(propName, \"width\") || // zoomSlider.HigherThumbWidth\r\n        stringEndsWith(propName, \"width\") || // zoomSlider.HigherCalloutOutline\r\n        stringEndsWith(propName, \"inset\") || // zoomSlider.EndInset\r\n        stringEndsWith(propName, \"orientation\") || // zoomSlider.Orientation\r\n        stringEndsWith(propName, \"duration\") || // zoomSlider.PanTransitionDuration\r\n        stringEndsWith(propName, \"outline\") || // zoomSlider.BarOutline\r\n        stringEndsWith(propName, \"brush\") ||\r\n        stringEndsWith(propName, \"background\") ||\r\n        stringEndsWith(propName, \"opacity\") ||\r\n        stringEndsWith(propName, \"textstyle\") ||\r\n        stringEndsWith(propName, \"brushes\") || // chart.brushes  || chart.negativeBrushes\r\n        stringEndsWith(propName, \"outlines\") || // chart.outlines || chart.negativeOutlines\r\n        stringEndsWith(propName, \"thickness\") || // chart.AxisStrokeThickness\r\n        stringEndsWith(propName, \"colors\") || //\r\n        stringEndsWith(propName, \"color\") || // chart.AxisLabelTextColor\r\n        stringEndsWith(propName, \"margin\") || // chart.AxisLabelTopMargin\r\n        stringEndsWith(propName, \"location\") || // chart.AxisLabelLocation\r\n        stringEndsWith(propName, \"style\") || // chart.AxisLabelTextStyle\r\n        stringEndsWith(propName, \"alignment\") || // chart.AxisLabelHorizontalAlignment\r\n        stringEndsWith(propName, \"visibility\") || // chart.AxisLabelVisibility\r\n        stringEndsWith(propName, \"extent\") || // chart.AxisExtent\r\n        stringEndsWith(propName, \"length\") || // chart.AxisTickLength\r\n        stringEndsWith(propName, \"strip\") || // chart.AxisStrip\r\n        stringEndsWith(propName, \"stroke\") || // chart.AxisStroke\r\n        stringEndsWith(propName, \"fill\") || // piechart.OthersCategoryFill\r\n        stringEndsWith(propName, \"visible\") ||\r\n        stringEndsWith(propName, \"radius\") ||\r\n        stringStartsWith(propName, \"padding\") ||\r\n        propName === \"usecanvas\" ||\r\n        propName === \"useaccessibility\") { // chart.isToolbarVisible\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction resolveUnits(val) {\r\n    // TODO convert \"em, px, pt, cm, in\" units to \"px\"?\r\n    // https://www.w3.org/Style/Examples/007/units.en.html\r\n    var value = val.toLowerCase();\r\n    if (stringEndsWith(value, \"px\")) { // 20px\r\n        value = value.replace(\"px\", \"\");\r\n        value = value.replace(\" \", \"\");\r\n    }\r\n    return value;\r\n}\r\nexport function toSpinal(value) {\r\n    if (value == null) {\r\n        return null;\r\n    }\r\n    var output = [];\r\n    var upperRun = 0;\r\n    for (var i = 0; i < value.length; i++) {\r\n        var curr = value[i];\r\n        var upperChar = curr.toUpperCase();\r\n        var lowerChar = curr.toLowerCase();\r\n        var charIsNewWord = (upperRun == 0 && output.length > 0);\r\n        var previousCharWasNewWord = (upperRun > 1);\r\n        if (upperChar == curr) {\r\n            if (charIsNewWord) {\r\n                output.push('-');\r\n            }\r\n            upperRun++;\r\n        }\r\n        else if (lowerChar == curr) {\r\n            if (previousCharWasNewWord) {\r\n                output.splice(output.length - 1, 0, '-');\r\n            }\r\n            upperRun = 0;\r\n        }\r\n        else {\r\n            upperRun = 0;\r\n        }\r\n        output.push(lowerChar);\r\n    }\r\n    var sb = \"\";\r\n    for (var i = 0; i < output.length; i++) {\r\n        sb += output[i];\r\n    }\r\n    return sb;\r\n}\r\nexport function fromSpinal(value) {\r\n    if (value == null) {\r\n        return value;\r\n    }\r\n    var parts = value.split('-');\r\n    for (var j = 1; j < parts.length; j++) {\r\n        parts[j] = parts[j].substr(0, 1).toUpperCase() + parts[j].substr(1);\r\n    }\r\n    var ret = \"\";\r\n    for (var j = 0; j < parts.length; j++) {\r\n        ret += parts[j];\r\n    }\r\n    return ret;\r\n}\r\nfunction toCssPropertyName(value) {\r\n    var sb = toSpinal(value);\r\n    return sb;\r\n}\r\n// get all property names for specified component and its base classes\r\nexport function getAllPropertyNames(comp) {\r\n    var members = [];\r\n    while (comp = (comp.prototype || Object.getPrototypeOf(comp))) {\r\n        if (comp == HTMLElement.prototype) {\r\n            break;\r\n        }\r\n        var props = Object.getOwnPropertyNames(comp.constructor.prototype);\r\n        for (var i = 0; i < props.length; i++) {\r\n            members.push(props[i]);\r\n        }\r\n    }\r\n    return members;\r\n}\r\nvar stylableMap = /*@__PURE__*/ new Map();\r\nexport function initializePropertiesFromCss(ele, comp, cssPrefix, ignoredProperties, prefixRequired, additionalPrefixes) {\r\n    var e_1, _a;\r\n    var styles = getComputedStyle(ele);\r\n    var props = getAllPropertyNames(comp);\r\n    var filtered = false;\r\n    var stylableProperties = [];\r\n    if (stylableMap.has(comp.prototype || Object.getPrototypeOf(comp))) {\r\n        stylableProperties = stylableMap.get(comp.prototype || Object.getPrototypeOf(comp));\r\n        props = stylableProperties;\r\n        filtered = true;\r\n    }\r\n    var compName = comp.constructor.name;\r\n    try {\r\n        for (var props_1 = tslib_1.__values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\r\n            var prop = props_1_1.value;\r\n            var cssPropName = null;\r\n            if (filtered) {\r\n                cssPropName = prop[1];\r\n                prop = prop[0];\r\n            }\r\n            if (ignoredProperties && ignoredProperties.has(prop)) {\r\n                if (!filtered && isStylableProperty(prop)) {\r\n                    var cssName = toCssPropertyName(prop);\r\n                    stylableProperties.push([prop, cssName]);\r\n                }\r\n                continue;\r\n            }\r\n            if (filtered || isStylableProperty(prop)) {\r\n                var cssName = \"\";\r\n                if (cssPropName) {\r\n                    cssName = cssPropName;\r\n                }\r\n                else {\r\n                    cssName = toCssPropertyName(prop);\r\n                }\r\n                // check if custom property is set with a prefix\r\n                var cssValue = styles.getPropertyValue(\"--\" + cssPrefix + cssName);\r\n                if (cssValue && cssValue.length && cssValue.length > 0) {\r\n                    comp[prop] = resolveUnits(cssValue.trim());\r\n                }\r\n                if (additionalPrefixes) {\r\n                    for (var i = 0; i < additionalPrefixes.length; i++) {\r\n                        var p = additionalPrefixes[i];\r\n                        cssValue = styles.getPropertyValue(\"--\" + p + cssName);\r\n                        if (cssValue && cssValue.length && cssValue.length > 0) {\r\n                            comp[prop] = resolveUnits(cssValue.trim());\r\n                        }\r\n                    }\r\n                }\r\n                if (!prefixRequired) {\r\n                    // check if custom property is set without a prefix\r\n                    cssValue = styles.getPropertyValue(\"--\" + cssName);\r\n                    if (cssValue && cssValue.length && cssValue.length > 0) {\r\n                        comp[prop] = resolveUnits(cssValue.trim());\r\n                    }\r\n                }\r\n                if (!filtered) {\r\n                    stylableProperties.push([prop, cssName]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    catch (e_1_1) {\r\n        e_1 = { error: e_1_1 };\r\n    }\r\n    finally {\r\n        try {\r\n            if (props_1_1 && !props_1_1.done && (_a = props_1.return))\r\n                _a.call(props_1);\r\n        }\r\n        finally {\r\n            if (e_1)\r\n                throw e_1.error;\r\n        }\r\n    }\r\n    if (!filtered) {\r\n        stylableMap.set(comp.prototype || Object.getPrototypeOf(comp), stylableProperties);\r\n    }\r\n}\r\nexport function addBrushPaletteThemeEntry(theme, clss, backgrounds, outlines) {\r\n    if (outlines == null) {\r\n        outlines = backgrounds;\r\n    }\r\n    var t = theme;\r\n    for (var i = 0; i < Math.max(backgrounds.length, outlines.length); i++) {\r\n        var pName = clss + \"-\" + (i + 1);\r\n        if (t[pName] === undefined) {\r\n            t[pName] = {};\r\n        }\r\n        if (backgrounds[i] !== undefined) {\r\n            t[pName][\"background-color\"] = backgrounds[i];\r\n        }\r\n        if (outlines[i] !== undefined) {\r\n            t[pName][\"border-top-color\"] = outlines[i];\r\n            t[pName][\"border-left-color\"] = outlines[i];\r\n            t[pName][\"border-right-color\"] = outlines[i];\r\n            t[pName][\"border-bottom-color\"] = outlines[i];\r\n        }\r\n    }\r\n}\r\nexport function getModifiedProps(prevProps, nextProps) {\r\n    var e_2, _a;\r\n    var mod = {};\r\n    try {\r\n        for (var _b = tslib_1.__values(Object.keys(nextProps)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n            var p = _c.value;\r\n            if (prevProps[p] == undefined ||\r\n                prevProps[p] !== nextProps[p]) {\r\n                mod[p] = nextProps[p];\r\n            }\r\n        }\r\n    }\r\n    catch (e_2_1) {\r\n        e_2 = { error: e_2_1 };\r\n    }\r\n    finally {\r\n        try {\r\n            if (_c && !_c.done && (_a = _b.return))\r\n                _a.call(_b);\r\n        }\r\n        finally {\r\n            if (e_2)\r\n                throw e_2.error;\r\n        }\r\n    }\r\n    return mod;\r\n}\r\nexport function isValidProp(owner, prop) {\r\n    while (owner = (owner.prototype || Object.getPrototypeOf(owner))) {\r\n        if (owner == HTMLElement.prototype) {\r\n            break;\r\n        }\r\n        if (owner.hasOwnProperty(prop)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nvar NamePatcher = /** @class */ /*@__PURE__*/ (function () {\r\n    function NamePatcher() {\r\n    }\r\n    NamePatcher.ensureStylablePatched = function (prot) {\r\n        this.ensurePatched(prot, isStylableProperty);\r\n    };\r\n    NamePatcher.ensurePatched = function (prot, nameFilter) {\r\n        var e_3, _a;\r\n        if (!prot) {\r\n            return;\r\n        }\r\n        if (prot === Object.prototype || prot === HTMLElement.prototype) {\r\n            return;\r\n        }\r\n        if (this._patched.has(prot)) {\r\n            return;\r\n        }\r\n        this._patched.add(prot);\r\n        var _loop_1 = function (key) {\r\n            if (nameFilter && !nameFilter(key)) {\r\n                return \"continue\";\r\n            }\r\n            var p = Object.getOwnPropertyDescriptor(prot, key);\r\n            if (!p) {\r\n                return \"continue\";\r\n            }\r\n            var set = p.set;\r\n            var name_1 = key;\r\n            if (set !== undefined) {\r\n                var newSet = function (v) {\r\n                    this.__p = name_1;\r\n                    if (this.__m) {\r\n                        this.__m(name_1);\r\n                    }\r\n                    set.call(this, v);\r\n                };\r\n                Object.defineProperty(prot, key, tslib_1.__assign({}, p, { set: newSet }));\r\n            }\r\n        };\r\n        try {\r\n            for (var _b = tslib_1.__values(Object.keys(prot)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var key = _c.value;\r\n                _loop_1(key);\r\n            }\r\n        }\r\n        catch (e_3_1) {\r\n            e_3 = { error: e_3_1 };\r\n        }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return))\r\n                    _a.call(_b);\r\n            }\r\n            finally {\r\n                if (e_3)\r\n                    throw e_3.error;\r\n            }\r\n        }\r\n        var base = Object.getPrototypeOf(prot);\r\n        if (base) {\r\n            this.ensurePatched(base, nameFilter);\r\n        }\r\n    };\r\n    NamePatcher._patched = new Set();\r\n    return NamePatcher;\r\n}());\r\nexport { NamePatcher };\r\n//# sourceMappingURL=componentUtil.js.map\r\n"]},"metadata":{},"sourceType":"module"}