{"ast":null,"code":"/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, runOn, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { ISchedulableRender_$type } from \"./ISchedulableRender\";\n/**\r\n * @hidden\r\n */\n\nvar CanvasRenderScheduler =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(CanvasRenderScheduler, _super);\n\n  function CanvasRenderScheduler() {\n    var _this = _super.call(this) || this;\n\n    _this.b = true;\n    _this.f = null;\n    _this.e = null;\n    _this.a = false;\n    _this.h = -1;\n    _this.g = null;\n    _this.c = false;\n    _this.f = new List$1(ISchedulableRender_$type, 0);\n    _this.e = new List$1(CanvasRenderScheduler.$, 0);\n    return _this;\n  }\n\n  CanvasRenderScheduler.prototype.l = function (a) {\n    this.b = true;\n    this.f.add(a);\n  };\n\n  CanvasRenderScheduler.prototype.r = function (a) {\n    this.b = true;\n    this.f.remove(a);\n  };\n\n  CanvasRenderScheduler.prototype.p = function () {\n    this.b = true;\n    this.n();\n  };\n\n  Object.defineProperty(CanvasRenderScheduler.prototype, \"d\", {\n    get: function () {\n      return this.a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  CanvasRenderScheduler.prototype.j = function (a) {\n    var b = this.g;\n    this.g = a;\n\n    if (this.a && this.g != null && b == null) {\n      this.g.setTimeout(runOn(this, this.k), 0);\n    }\n  };\n\n  CanvasRenderScheduler.prototype.n = function () {\n    if (!this.a) {\n      this.a = true;\n\n      if (this.g != null) {\n        this.g.setTimeout(runOn(this, this.k), 0);\n      } else {\n        window.setTimeout(runOn(this, this.k), 0);\n      }\n    }\n  };\n\n  CanvasRenderScheduler.prototype.o = function (a, b) {\n    this.n();\n  };\n\n  CanvasRenderScheduler.prototype.i = function () {\n    if (this.h != -1) {\n      window.clearTimeout(this.h);\n      this.h = -1;\n    }\n\n    if (this.a) {\n      this.k();\n    }\n  };\n\n  CanvasRenderScheduler.prototype.k = function () {\n    this.h = -1;\n\n    if (this.a) {\n      this.a = false;\n\n      if (this.e.count > 0) {\n        for (var a = 0; a < this.e.count; a++) {\n          this.e._inner[a].i();\n        }\n      }\n\n      if (this.b) {\n        this.q();\n      }\n\n      this.m();\n    }\n  };\n\n  CanvasRenderScheduler.prototype.m = function () {\n    if (this.c) {\n      return;\n    }\n\n    var a = true;\n\n    for (var b = 0; b < this.f.count; b++) {\n      var c = this.f._inner[b];\n      c.preRender();\n    }\n\n    for (var d = 0; d < this.f.count; d++) {\n      var e = this.f._inner[d];\n      e.undirty(a);\n      a = false;\n    }\n\n    for (var f = 0; f < this.f.count; f++) {\n      var g = this.f._inner[f];\n      g.postRender();\n    }\n  };\n\n  CanvasRenderScheduler.prototype.q = function () {\n    this.f.aa(function (a, b) {\n      var c = a;\n      var d = b;\n\n      if (c.index < d.index) {\n        return -1;\n      }\n\n      if (c.index > d.index) {\n        return 1;\n      }\n\n      return 0;\n    });\n    this.b = false;\n  };\n\n  CanvasRenderScheduler.$t = markType(CanvasRenderScheduler, 'CanvasRenderScheduler');\n  return CanvasRenderScheduler;\n}(Base);\n\nexport { CanvasRenderScheduler };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/CanvasRenderScheduler.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Base, runOn, markType } from \"./type\";\r\nimport { List$1 } from \"./List$1\";\r\nimport { ISchedulableRender_$type } from \"./ISchedulableRender\";\r\n/**\r\n * @hidden\r\n */\r\nvar CanvasRenderScheduler = /** @class */ /*@__PURE__*/ (function (_super) {\r\n    tslib_1.__extends(CanvasRenderScheduler, _super);\r\n    function CanvasRenderScheduler() {\r\n        var _this = _super.call(this) || this;\r\n        _this.b = true;\r\n        _this.f = null;\r\n        _this.e = null;\r\n        _this.a = false;\r\n        _this.h = -1;\r\n        _this.g = null;\r\n        _this.c = false;\r\n        _this.f = new List$1(ISchedulableRender_$type, 0);\r\n        _this.e = new List$1(CanvasRenderScheduler.$, 0);\r\n        return _this;\r\n    }\r\n    CanvasRenderScheduler.prototype.l = function (a) {\r\n        this.b = true;\r\n        this.f.add(a);\r\n    };\r\n    CanvasRenderScheduler.prototype.r = function (a) {\r\n        this.b = true;\r\n        this.f.remove(a);\r\n    };\r\n    CanvasRenderScheduler.prototype.p = function () {\r\n        this.b = true;\r\n        this.n();\r\n    };\r\n    Object.defineProperty(CanvasRenderScheduler.prototype, \"d\", {\r\n        get: function () {\r\n            return this.a;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CanvasRenderScheduler.prototype.j = function (a) {\r\n        var b = this.g;\r\n        this.g = a;\r\n        if (this.a && this.g != null && b == null) {\r\n            this.g.setTimeout(runOn(this, this.k), 0);\r\n        }\r\n    };\r\n    CanvasRenderScheduler.prototype.n = function () {\r\n        if (!this.a) {\r\n            this.a = true;\r\n            if (this.g != null) {\r\n                this.g.setTimeout(runOn(this, this.k), 0);\r\n            }\r\n            else {\r\n                window.setTimeout(runOn(this, this.k), 0);\r\n            }\r\n        }\r\n    };\r\n    CanvasRenderScheduler.prototype.o = function (a, b) {\r\n        this.n();\r\n    };\r\n    CanvasRenderScheduler.prototype.i = function () {\r\n        if (this.h != -1) {\r\n            window.clearTimeout(this.h);\r\n            this.h = -1;\r\n        }\r\n        if (this.a) {\r\n            this.k();\r\n        }\r\n    };\r\n    CanvasRenderScheduler.prototype.k = function () {\r\n        this.h = -1;\r\n        if (this.a) {\r\n            this.a = false;\r\n            if (this.e.count > 0) {\r\n                for (var a = 0; a < this.e.count; a++) {\r\n                    this.e._inner[a].i();\r\n                }\r\n            }\r\n            if (this.b) {\r\n                this.q();\r\n            }\r\n            this.m();\r\n        }\r\n    };\r\n    CanvasRenderScheduler.prototype.m = function () {\r\n        if (this.c) {\r\n            return;\r\n        }\r\n        var a = true;\r\n        for (var b = 0; b < this.f.count; b++) {\r\n            var c = this.f._inner[b];\r\n            c.preRender();\r\n        }\r\n        for (var d = 0; d < this.f.count; d++) {\r\n            var e = this.f._inner[d];\r\n            e.undirty(a);\r\n            a = false;\r\n        }\r\n        for (var f = 0; f < this.f.count; f++) {\r\n            var g = this.f._inner[f];\r\n            g.postRender();\r\n        }\r\n    };\r\n    CanvasRenderScheduler.prototype.q = function () {\r\n        this.f.aa(function (a, b) {\r\n            var c = a;\r\n            var d = b;\r\n            if (c.index < d.index) {\r\n                return -1;\r\n            }\r\n            if (c.index > d.index) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        });\r\n        this.b = false;\r\n    };\r\n    CanvasRenderScheduler.$t = markType(CanvasRenderScheduler, 'CanvasRenderScheduler');\r\n    return CanvasRenderScheduler;\r\n}(Base));\r\nexport { CanvasRenderScheduler };\r\n//# sourceMappingURL=CanvasRenderScheduler.js.map\r\n"]},"metadata":{},"sourceType":"module"}