{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\mlockhead\\\\dev\\\\Hackaton\\\\headsinthecloud\\\\FrontEnd\\\\dashboard\\\\src\\\\component\\\\Form.js\";\nimport React, { Component } from 'react';\nimport ConsumptionGraph from \"./ConsumptionGraph\";\nimport \"./Form.css\";\nimport axios from \"axios\";\nconst region = [\"Alberta\", \"Montreal\", \"British Columbia\", \"New Brunswick\", \"Northwest Territories\", \"Nova Scotia\", \"Ontario\", \"Quebec\"]; // const testGraphData = [\n//   { label: \"Jan\",  y: 10  },\n//   { label: \"Feb\", y: 15  },\n//   { label: \"Mar\", y: 25  },\n//   { label: \"Apr\",  y: 30  },\n//   { label: \"May\",  y: 28  },\n//   { label: \"Jun\",  y: 10  },\n//   { label: \"Jul\", y: 15  },\n//   { label: \"Aug\", y: 25  },\n//   { label: \"Sep\",  y: 30  },\n//   { label: \"Oct\",  y: 28  },\n//   { label: \"Nov\",  y: 56  },\n//   { label: \"Dec\",  y: 28  }\n// ]\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      if (event.target.tagName.toUpperCase() === \"SELECT\") {\n        const city = event.target.value;\n        this.setState({\n          city\n        });\n      } else {\n        const {\n          name,\n          value\n        } = event.target;\n        this.setState({\n          [name]: value\n        });\n      }\n    };\n\n    this.formSubmit = event => {\n      event.preventDefault();\n      const {\n        city,\n        start_date,\n        end_date\n      } = this.state;\n      const formData = {\n        city: city,\n        start_date: start_date,\n        end_date: end_date\n      };\n      const header = {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      };\n\n      if (city.length > 0 && start_date.length > 0 && end_date.length > 0) {\n        axios.post(\"http://127.0.0.1:5000/reserve\", formData, {\n          headers: header\n        }).then(res => {\n          if (res) {\n            const {\n              data,\n              reserving_value\n            } = res[\"data\"];\n            this.setState({\n              \"testGraphData\": data,\n              reserving_value,\n              isGraphVisible: true\n            });\n          }\n        });\n      } else {\n        alert(\"Please enter all the fields\");\n      }\n    };\n\n    this.state = {\n      city: '',\n      start_date: '',\n      end_date: '',\n      isGraphVisible: false,\n      testGraphData: [],\n      reserving_value: 0\n    };\n  }\n\n  render() {\n    const {\n      start_date,\n      end_date,\n      city,\n      isGraphVisible\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-4\",\n          children: \"How much electricity should you buy?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4 float-left\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.formSubmit,\n            noValidate: true,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-control col-10\",\n                value: city,\n                onChange: this.handleChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Choose your region\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 19\n                }, this), region.map(ele => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: ele,\n                  children: ele\n                }, ele, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 38\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                className: \"form-control col-10\",\n                name: \"start_date\",\n                value: start_date,\n                placeholder: \"start date\",\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                className: \"form-control col-10\",\n                name: \"end_date\",\n                value: end_date,\n                placeholder: \"start date\",\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-10 d-flex justify-content-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-info btn-75\",\n                  children: \"Check\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-8 float-left\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"watt-value\",\n            children: [this.state.reserving_value, \" MW\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), isGraphVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 pb-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 graph mx-auto graphContainer\",\n          children: /*#__PURE__*/_jsxDEV(ConsumptionGraph, {\n            dataPoints: this.state.testGraphData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Form;","map":{"version":3,"sources":["C:/Users/mlockhead/dev/Hackaton/headsinthecloud/FrontEnd/dashboard/src/component/Form.js"],"names":["React","Component","ConsumptionGraph","axios","region","Form","constructor","props","handleChange","event","target","tagName","toUpperCase","city","value","setState","name","formSubmit","preventDefault","start_date","end_date","state","formData","header","length","post","headers","then","res","data","reserving_value","isGraphVisible","alert","testGraphData","render","map","ele"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport ConsumptionGraph from \"./ConsumptionGraph\"\r\nimport \"./Form.css\"\r\nimport axios from \"axios\"\r\n\r\nconst region = [\"Alberta\", \"Montreal\", \"British Columbia\", \"New Brunswick\", \"Northwest Territories\", \"Nova Scotia\", \"Ontario\", \"Quebec\"];\r\n// const testGraphData = [\r\n//   { label: \"Jan\",  y: 10  },\r\n//   { label: \"Feb\", y: 15  },\r\n//   { label: \"Mar\", y: 25  },\r\n//   { label: \"Apr\",  y: 30  },\r\n//   { label: \"May\",  y: 28  },\r\n//   { label: \"Jun\",  y: 10  },\r\n//   { label: \"Jul\", y: 15  },\r\n//   { label: \"Aug\", y: 25  },\r\n//   { label: \"Sep\",  y: 30  },\r\n//   { label: \"Oct\",  y: 28  },\r\n//   { label: \"Nov\",  y: 56  },\r\n//   { label: \"Dec\",  y: 28  }\r\n// ]\r\n\r\nclass Form extends Component {\r\n\r\n  constructor(props) {\r\n\r\n    super(props)\r\n    this.state = {\r\n      city: '',\r\n      start_date: '',\r\n      end_date: '',\r\n      isGraphVisible: false,\r\n      testGraphData: [],\r\n      reserving_value: 0\r\n    }\r\n  }\r\n\r\n  handleChange = event => {\r\n\r\n    if (event.target.tagName.toUpperCase() === \"SELECT\") {\r\n      const city = event.target.value;\r\n      this.setState({ city })\r\n    } else {\r\n      const { name, value } = event.target;\r\n      this.setState({ [name]: value })\r\n    }\r\n\r\n  }\r\n\r\n\r\n  formSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { city, start_date, end_date } = this.state;\r\n\r\n    const formData = {\r\n      city: city,\r\n      start_date: start_date,\r\n      end_date: end_date\r\n    }\r\n    const header = {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*'\r\n    }\r\n\r\n    if (city.length > 0 && start_date.length > 0 && end_date.length > 0) {\r\n\r\n\r\n      axios.post(\"http://127.0.0.1:5000/reserve\", formData, { headers: header }).then(res => {\r\n\r\n        if (res) {\r\n          const { data, reserving_value } = res[\"data\"];\r\n          this.setState({ \"testGraphData\": data, reserving_value, isGraphVisible: true })\r\n        }\r\n      });\r\n    }else{\r\n      alert(\"Please enter all the fields\")\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const { start_date, end_date, city, isGraphVisible } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"col-12\">\r\n\r\n          <h5 className=\"mb-4\">How much electricity should you buy?</h5>\r\n\r\n          <div className=\"col-4 float-left\">\r\n            <form onSubmit={this.formSubmit} noValidate>\r\n\r\n              <div className=\"mb-4\">\r\n                <select className=\"form-control col-10\" value={city} onChange={this.handleChange}>\r\n\r\n                  <option value=\"\">Choose your region</option>\r\n                  {region.map(ele => <option key={ele} value={ele}>{ele}</option>)}\r\n                </select>\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <input type=\"date\" className=\"form-control col-10\" name=\"start_date\" value={start_date} placeholder=\"start date\" onChange={this.handleChange} />\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <input type=\"date\" className=\"form-control col-10\" name=\"end_date\" value={end_date} placeholder=\"start date\" onChange={this.handleChange} />\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <div className=\"col-10 d-flex justify-content-center\">\r\n                  <button className=\"btn btn-info btn-75\">Check</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div className=\"col-8 float-left\">\r\n\r\n            <p className=\"watt-value\">{this.state.reserving_value} MW</p>\r\n\r\n          </div>\r\n        </div>\r\n\r\n        {isGraphVisible &&\r\n          <div className=\"col-12 pb-5\">\r\n            <div className=\"col-12 graph mx-auto graphContainer\" >\r\n              <ConsumptionGraph dataPoints={this.state.testGraphData} />\r\n            </div>\r\n          </div>\r\n        }\r\n      </>\r\n    )\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport default Form;"]},"metadata":{},"sourceType":"module"}