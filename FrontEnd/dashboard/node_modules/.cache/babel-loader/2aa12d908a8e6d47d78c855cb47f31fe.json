{"ast":null,"code":"/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\nimport * as tslib_1 from \"tslib\";\nimport { GradientStop } from \"./GradientStop\";\nimport { Base, toNullable, markType, typeCast, PointUtil } from \"./type\";\nimport { Color } from \"./Color\";\nimport { intDivide, isNaN_, isInfinity } from \"./number\";\nimport { stringContains } from \"./string\";\n/**\r\n * @hidden\r\n */\n\nvar Brush =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(Brush, _super);\n\n  function Brush() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.isGradient = false;\n    _this.isRadialGradient = false;\n    _this.isImageFill = false;\n    _this._fill = null;\n    _this.f = null;\n    _this.k = new Color();\n    return _this;\n  }\n\n  Object.defineProperty(Brush.prototype, \"fill\", {\n    get: function () {\n      return this._fill;\n    },\n    set: function (a) {\n      this._fill = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Brush.prototype, \"color\", {\n    get: function () {\n      if (this._fill == null && (this.isGradient || this.isRadialGradient)) {\n        this._fill = this.i();\n      }\n\n      if (this._fill == this.f) {\n        return this.k;\n      }\n\n      var a = new Color();\n\n      if (this._fill != null) {\n        a.colorString = this._fill;\n        this.k = a;\n        this.f = this._fill;\n\n        if (this._fill.length == 9) {\n          this._fill = this.k.colorString;\n          this.f = this._fill;\n        }\n      }\n\n      return a;\n    },\n    set: function (a) {\n      this.k = a;\n      this.f = this.k.colorString;\n      this._fill = this.f;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Brush.prototype.i = function () {\n    return null;\n  };\n\n  Brush.prototype.equals = function (a) {\n    if (a == null) {\n      return false;\n    }\n\n    var b = a;\n    return Base.equalsStatic(this._fill, b._fill) && this.color.equals(b.color) && this.isGradient == b.isGradient && this.isImageFill == b.isImageFill && this.isRadialGradient == b.isRadialGradient;\n  };\n\n  Brush.prototype.getHashCode = function () {\n    var a = Base.getHashCodeStatic(this.isGradient) ^ Base.getHashCodeStatic(this.isRadialGradient) ^ Base.getHashCodeStatic(this.isImageFill);\n\n    if (this.f != null) {\n      a ^= Base.getHashCodeStatic(this.f);\n    }\n\n    if (Color.e(toNullable(Color.$, this.k), toNullable(Color.$, null))) {\n      a ^= this.k.getHashCode();\n    }\n\n    return a;\n  };\n\n  Brush.create = function (val_) {\n    CssGradientUtil.touch();\n    var b_ = new Brush();\n\n    if (!val_) {\n      return null;\n    }\n\n    if (typeof val_ == 'string') {\n      if (CssGradientUtil.isGradient(val_)) {\n        b_ = CssGradientUtil.brushFromGradientString(val_);\n      } else {\n        b_ = new Brush();\n        b_.fill = val_;\n      }\n    } else if (val_.type == 'linearGradient') {\n      b_ = new LinearGradientBrush();\n\n      if (val_.startPoint && val_.endPoint) {\n        b_.useCustomDirection = true;\n        b_.startX = val_.startPoint.x;\n        b_.startY = val_.startPoint.y;\n        b_.endX = val_.endPoint.x;\n        b_.endY = val_.endPoint.y;\n      }\n\n      if (val_.colorStops) {\n        var stops = [];\n\n        for (var i = 0; i < val_.colorStops.length; i++) {\n          var colorStop = new GradientStop();\n          colorStop.offset = val_.colorStops[i].offset;\n          colorStop.fill = val_.colorStops[i].color;\n          stops.push(colorStop);\n        }\n\n        b_.gradientStops = stops;\n      }\n    }\n\n    ;\n    return b_;\n  };\n\n  Brush.$t = markType(Brush, 'Brush');\n  return Brush;\n}(Base);\n\nexport { Brush };\n/**\r\n * @hidden\r\n */\n\nvar LinearGradientBrush =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(LinearGradientBrush, _super);\n\n  function LinearGradientBrush() {\n    var _this = _super.call(this) || this;\n\n    _this.useCustomDirection = false;\n    _this.startX = 0;\n    _this.startY = 0;\n    _this.endX = 0;\n    _this.endY = 0;\n    _this.isAbsolute = false;\n    _this.gradientStops = null;\n    _this.useCustomDirection = false;\n    _this.startX = 0;\n    _this.startY = 0;\n    _this.endX = 0;\n    _this.endY = 1;\n    _this.isAbsolute = false;\n    _this.gradientStops = new Array(0);\n    _this.isGradient = true;\n    return _this;\n  }\n\n  LinearGradientBrush.prototype.clone = function () {\n    var a = new LinearGradientBrush();\n    a.startX = this.startX;\n    a.startY = this.startY;\n    a.endX = this.endX;\n    a.endY = this.endY;\n    a.useCustomDirection = this.useCustomDirection;\n    a.isAbsolute = this.isAbsolute;\n\n    if (this.gradientStops != null) {\n      a.gradientStops = new Array(this.gradientStops.length);\n\n      for (var b = 0; b < this.gradientStops.length; b++) {\n        a.gradientStops[b] = this.gradientStops[b].clone();\n      }\n    }\n\n    return a;\n  };\n\n  LinearGradientBrush.prototype.equals = function (a) {\n    if (a == null) {\n      return false;\n    }\n\n    var b = typeCast(LinearGradientBrush.$, a);\n\n    if (b == null) {\n      return false;\n    }\n\n    var c = _super.prototype.equals.call(this, a) && this.startX == b.startX && this.startY == b.startY && this.endX == b.endX && this.endY == b.endY && this.isAbsolute == b.isAbsolute && this.useCustomDirection == b.useCustomDirection;\n\n    if (c == false) {\n      return false;\n    }\n\n    if (this.gradientStops.length != b.gradientStops.length) {\n      return false;\n    }\n\n    for (var d = 0, e = this.gradientStops.length; d < e; d++) {\n      if (!this.gradientStops[d].equals(b.gradientStops[d])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  LinearGradientBrush.prototype.getHashCode = function () {\n    return _super.prototype.getHashCode.call(this) ^ this.startX ^ this.startY ^ this.endX ^ this.endY;\n  };\n\n  LinearGradientBrush.prototype.i = function () {\n    if (this.gradientStops != null && this.gradientStops.length > 0) {\n      return this.gradientStops[0].color.colorString;\n    }\n\n    return _super.prototype.i.call(this);\n  };\n\n  LinearGradientBrush.$t = markType(LinearGradientBrush, 'LinearGradientBrush', Brush.$);\n  return LinearGradientBrush;\n}(Brush);\n\nexport { LinearGradientBrush };\n/**\r\n * @hidden\r\n */\n\nvar CssGradientUtil =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(CssGradientUtil, _super);\n\n  function CssGradientUtil() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  CssGradientUtil.touch = function () {};\n\n  CssGradientUtil.isGradient = function (a) {\n    return stringContains(a, \"linear-gradient\") || stringContains(a, \"radial-gradient\");\n  };\n\n  CssGradientUtil.brushFromGradientString = function (a) {\n    var b = /hsl\\([\\s\\S]+?\\)[\\s\\S]*?[,\\)]|rgba?\\([\\s\\S]+?\\)[\\s\\S]*?[,\\)]|[^\\(\\)]*?[,\\)]/gim,\n        c = /\\s*\\d*%\\s*$/,\n        d = /^\\s\\s*/,\n        e = /\\s\\s*$/,\n        f = /[,\\)]?$/;\n    var g;\n    var h,\n        i = 1,\n        j = 0,\n        k,\n        l;\n    var m = false;\n    var n;\n    var o = a.match(b);\n\n    if (o == null || o.length <= 1) {\n      return null;\n    }\n\n    var p = new LinearGradientBrush();\n    k = o.length;\n    g = o[0];\n\n    if (stringContains(g, \"to\") || stringContains(g, \"deg\")) {\n      h = CssGradientUtil.c(g);\n      p.useCustomDirection = true;\n      var q = CssGradientUtil.a(h);\n      p.startX = q[0].x;\n      p.startY = q[0].y;\n      p.endX = q[1].x;\n      p.endY = q[1].y;\n      n = new Array(k - 1);\n    } else {\n      n = new Array(k);\n      i = 0;\n    }\n\n    for (; i < k; i++) {\n      var r = new GradientStop();\n      g = o[i];\n      g = g.replace(d, \"\").replace(e, \"\").replace(f, \"\");\n      l = g.search(c);\n\n      if (l != -1) {\n        r._fill = g.substr(0, l);\n        r.offset = parseFloat(g.substr(l + 1)) / 100;\n      } else {\n        r._fill = g;\n        r.offset = -1;\n        m = true;\n      }\n\n      n[j] = r;\n      j++;\n    }\n\n    if (m) {\n      if (n[0].offset == -1) {\n        n[0].offset = 0;\n      }\n\n      if (n[n.length - 1].offset == -1) {\n        n[n.length - 1].offset = 1;\n      }\n\n      CssGradientUtil.f(n);\n    }\n\n    p.gradientStops = n;\n    return p;\n  };\n\n  CssGradientUtil.f = function (a) {\n    var b,\n        c,\n        d,\n        e,\n        f = -1,\n        g = -1,\n        h = 0;\n    var i = false;\n\n    for (b = g + 1; b < a.length; b++) {\n      var j = a[b];\n\n      if (j.offset != -1) {\n        f = Math.max(f, j.offset);\n        j.offset = f;\n\n        if (i) {\n          d = 1;\n          e = intDivide(f - h, b - g);\n\n          for (c = g + 1; c < b; c++) {\n            a[c].offset = h + e * d;\n            d++;\n          }\n\n          i = false;\n        }\n\n        g = b;\n        h = f;\n      } else {\n        i = true;\n      }\n    }\n  };\n\n  CssGradientUtil.c = function (a) {\n    var b = /to\\s*top\\s*/i,\n        c = /to\\s*right\\s*top\\s*/i,\n        d = /to\\s*right\\s*/i,\n        e = /to\\s*right\\s*bottom\\s*/i,\n        f = /to\\s*bottom\\s*/i,\n        g = /to\\s*left\\s*bottom\\s*/i,\n        h = /to\\s*left\\s*/i,\n        i = /to\\s*left\\s*top\\s*/i;\n\n    if (stringContains(a, \"deg\")) {\n      return parseFloat(a);\n    }\n\n    if (b.test(a)) {\n      return 0;\n    }\n\n    if (c.test(a)) {\n      return 45;\n    }\n\n    if (d.test(a)) {\n      return 90;\n    }\n\n    if (e.test(a)) {\n      return 135;\n    }\n\n    if (f.test(a)) {\n      return 180;\n    }\n\n    if (g.test(a)) {\n      return 225;\n    }\n\n    if (h.test(a)) {\n      return 270;\n    }\n\n    return i.test(a) ? 315 : 180;\n  };\n\n  CssGradientUtil.d = function (a) {\n    return Math.PI * a / 180;\n  };\n\n  CssGradientUtil.e = function (a) {\n    if (isNaN_(a) || isInfinity(a)) {\n      return a;\n    }\n\n    while (a > 360) {\n      a -= 360;\n    }\n\n    while (a < 0) {\n      a += 360;\n    }\n\n    return a;\n  };\n\n  CssGradientUtil.a = function (a) {\n    var b = new Array(2);\n    var c = PointUtil.create();\n    var d = PointUtil.create();\n    var e = CssGradientUtil.e(a);\n\n    if (e >= 0 && e <= 45) {\n      var f = Math.tan(CssGradientUtil.d(e));\n      c.x = 0.5 - 0.5 * f;\n      c.y = 1;\n      d.x = 0.5 + 0.5 * f;\n      d.y = 0;\n    } else if (e > 180 && e <= 225) {\n      var g = Math.tan(CssGradientUtil.d(e - 180));\n      c.x = 0.5 + 0.5 * g;\n      c.y = 0;\n      d.x = 0.5 - 0.5 * g;\n      d.y = 1;\n    } else if (e > 135 && e <= 180) {\n      var h = Math.tan(CssGradientUtil.d(180 - e));\n      c.x = 0.5 - 0.5 * h;\n      c.y = 0;\n      d.x = 0.5 + 0.5 * h;\n      d.y = 1;\n    } else if (e > 315 && e < 360) {\n      var i = Math.tan(CssGradientUtil.d(360 - e));\n      c.x = 0.5 + 0.5 * i;\n      c.y = 1;\n      d.x = 0.5 - 0.5 * i;\n      d.y = 0;\n    } else if (e > 45 && e <= 90) {\n      var j = Math.tan(CssGradientUtil.d(90 - e));\n      d.y = 0.5 - 0.5 * j;\n      d.x = 1;\n      c.y = 0.5 + 0.5 * j;\n      c.x = 0;\n    } else if (e > 90 && e <= 135) {\n      var k = Math.tan(CssGradientUtil.d(e - 90));\n      d.y = 0.5 + 0.5 * k;\n      d.x = 1;\n      c.y = 0.5 - 0.5 * k;\n      c.x = 0;\n    } else if (e > 225 && e <= 270) {\n      var l = Math.tan(CssGradientUtil.d(270 - e));\n      c.y = 0.5 - 0.5 * l;\n      c.x = 1;\n      d.y = 0.5 + 0.5 * l;\n      d.x = 0;\n    } else if (e > 270 && e <= 315) {\n      var m = Math.tan(CssGradientUtil.d(e - 270));\n      c.y = 0.5 + 0.5 * m;\n      c.x = 1;\n      d.y = 0.5 - 0.5 * m;\n      d.x = 0;\n    }\n\n    b[0] = c;\n    b[1] = d;\n    return b;\n  };\n\n  CssGradientUtil.$t = markType(CssGradientUtil, 'CssGradientUtil');\n  return CssGradientUtil;\n}(Base);\n\nexport { CssGradientUtil };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/Brush_combined.ts"],"names":[],"mappings":"AAAA;;;;;AAKE;;AAEF,SAAS,YAAT,QAA6B,gBAA7B;AACA,SAAS,IAAT,EAAe,UAAf,EAAiC,QAAjC,EAA2C,QAA3C,EAA4D,SAA5D,QAA6E,QAA7E;AACA,SAAS,KAAT,QAAsB,SAAtB;AACA,SAAS,SAAT,EAAoB,MAApB,EAA4B,UAA5B,QAA8C,UAA9C;AACA,SAAS,cAAT,QAA+B,UAA/B;AAEA;;AAEG;;AACH,IAAA,KAAA;AAAA;;AAAA;AAAA,UAAA,MAAA,EAAA;AAA2B,EAAA,OAAA,CAAA,SAAA,CAAA,KAAA,EAAA,MAAA;;AAA3B,WAAA,KAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AAEC,IAAA,KAAA,CAAA,UAAA,GAAsB,KAAtB;AACA,IAAA,KAAA,CAAA,gBAAA,GAA4B,KAA5B;AACA,IAAA,KAAA,CAAA,WAAA,GAAuB,KAAvB;AACA,IAAA,KAAA,CAAA,KAAA,GAAgB,IAAhB;AAOQ,IAAA,KAAA,CAAA,CAAA,GAAY,IAAZ;AACA,IAAA,KAAA,CAAA,CAAA,GAAW,IAAI,KAAJ,EAAX;;AAiFR;;AAxFA,EAAA,MAAA,CAAA,cAAA,CAAI,KAAA,CAAA,SAAJ,EAAI,MAAJ,EAAQ;SAAR,YAAA;AACC,aAAO,KAAK,KAAZ;AACA,KAFO;SAGR,UAAS,CAAT,EAAkB;AACjB,WAAK,KAAL,GAAa,CAAb;AACA,KALO;oBAAA;;AAAA,GAAR;AAQA,EAAA,MAAA,CAAA,cAAA,CAAI,KAAA,CAAA,SAAJ,EAAI,OAAJ,EAAS;SAAT,YAAA;AACC,UAAI,KAAK,KAAL,IAAc,IAAd,KAAuB,KAAK,UAAL,IAAmB,KAAK,gBAA/C,CAAJ,EAAsE;AACrE,aAAK,KAAL,GAAa,KAAK,CAAL,EAAb;AACA;;AACD,UAAI,KAAK,KAAL,IAAc,KAAK,CAAvB,EAA0B;AACzB,eAAO,KAAK,CAAZ;AACA;;AACD,UAAI,CAAC,GAAG,IAAI,KAAJ,EAAR;;AACA,UAAI,KAAK,KAAL,IAAc,IAAlB,EAAwB;AACvB,QAAA,CAAC,CAAC,WAAF,GAAgB,KAAK,KAArB;AACA,aAAK,CAAL,GAAS,CAAT;AACA,aAAK,CAAL,GAAS,KAAK,KAAd;;AACA,YAAI,KAAK,KAAL,CAAW,MAAX,IAAqB,CAAzB,EAA4B;AAC3B,eAAK,KAAL,GAAa,KAAK,CAAL,CAAO,WAApB;AACA,eAAK,CAAL,GAAS,KAAK,KAAd;AACA;AACD;;AACD,aAAO,CAAP;AACA,KAlBQ;SAmBT,UAAU,CAAV,EAAkB;AACjB,WAAK,CAAL,GAAS,CAAT;AACA,WAAK,CAAL,GAAS,KAAK,CAAL,CAAO,WAAhB;AACA,WAAK,KAAL,GAAa,KAAK,CAAlB;AACA,KAvBQ;oBAAA;;AAAA,GAAT;;AAwBA,EAAA,KAAA,CAAA,SAAA,CAAA,CAAA,GAAA,YAAA;AACC,WAAO,IAAP;AACA,GAFD;;AAGA,EAAA,KAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,CAAP,EAAa;AACZ,QAAI,CAAC,IAAI,IAAT,EAAe;AACd,aAAO,KAAP;AACA;;AACD,QAAI,CAAC,GAAU,CAAf;AACA,WAAO,IAAI,CAAC,YAAL,CAAkB,KAAK,KAAvB,EAA8B,CAAC,CAAC,KAAhC,KAA0C,KAAK,KAAL,CAAW,MAAX,CAAkB,CAAC,CAAC,KAApB,CAA1C,IAAwE,KAAK,UAAL,IAAmB,CAAC,CAAC,UAA7F,IAA2G,KAAK,WAAL,IAAoB,CAAC,CAAC,WAAjI,IAAgJ,KAAK,gBAAL,IAAyB,CAAC,CAAC,gBAAlL;AACA,GAND;;AAOA,EAAA,KAAA,CAAA,SAAA,CAAA,WAAA,GAAA,YAAA;AACC,QAAI,CAAC,GAAW,IAAI,CAAC,iBAAL,CAAuB,KAAK,UAA5B,IAA0C,IAAI,CAAC,iBAAL,CAAuB,KAAK,gBAA5B,CAA1C,GAA0F,IAAI,CAAC,iBAAL,CAAuB,KAAK,WAA5B,CAA1G;;AACA,QAAI,KAAK,CAAL,IAAU,IAAd,EAAoB;AACnB,MAAA,CAAC,IAAI,IAAI,CAAC,iBAAL,CAAuB,KAAK,CAA5B,CAAL;AACA;;AACD,QAAI,KAAK,CAAC,CAAN,CAAQ,UAAU,CAAc,KAAM,CAAC,CAArB,EAAwB,KAAK,CAA7B,CAAlB,EAAmD,UAAU,CAAc,KAAM,CAAC,CAArB,EAAwB,IAAxB,CAA7D,CAAJ,EAAiG;AAChG,MAAA,CAAC,IAAI,KAAK,CAAL,CAAO,WAAP,EAAL;AACA;;AACD,WAAO,CAAP;AACA,GATD;;AAUO,EAAA,KAAA,CAAA,MAAA,GAAP,UAAc,IAAd,EAAuB;AACtB,IAAA,eAAe,CAAC,KAAhB;AACA,QAAI,EAAE,GAAQ,IAAI,KAAJ,EAAd;;AACA,QAAI,CAAC,IAAL,EAAW;AACV,aAAO,IAAP;AACC;;AAED,QAAI,OAAO,IAAP,IAAe,QAAnB,EAA6B;AAC5B,UAAI,eAAe,CAAC,UAAhB,CAA2B,IAA3B,CAAJ,EAAsC;AACtB,QAAA,EAAE,GAAG,eAAe,CAAC,uBAAhB,CAAwC,IAAxC,CAAL;AACH,OAFb,MAEmB;AACH,QAAA,EAAE,GAAG,IAAI,KAAJ,EAAL;AACA,QAAA,EAAE,CAAC,IAAH,GAAU,IAAV;AACH;AACb,KAPD,MAOO,IAAI,IAAI,CAAC,IAAL,IAAa,gBAAjB,EAAmC;AACzC,MAAA,EAAE,GAAG,IAAI,mBAAJ,EAAL;;AACA,UAAI,IAAI,CAAC,UAAL,IAAmB,IAAI,CAAC,QAA5B,EAAsC;AACrC,QAAA,EAAE,CAAC,kBAAH,GAAwB,IAAxB;AACA,QAAA,EAAE,CAAC,MAAH,GAAY,IAAI,CAAC,UAAL,CAAgB,CAA5B;AACA,QAAA,EAAE,CAAC,MAAH,GAAY,IAAI,CAAC,UAAL,CAAgB,CAA5B;AACA,QAAA,EAAE,CAAC,IAAH,GAAU,IAAI,CAAC,QAAL,CAAc,CAAxB;AACA,QAAA,EAAE,CAAC,IAAH,GAAU,IAAI,CAAC,QAAL,CAAc,CAAxB;AACA;;AAED,UAAI,IAAI,CAAC,UAAT,EAAqB;AACpB,YAAI,KAAK,GAAmB,EAA5B;;AACA,aAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,IAAI,CAAC,UAAL,CAAgB,MAApC,EAA4C,CAAC,EAA7C,EAAiD;AAChD,cAAI,SAAS,GAAG,IAAI,YAAJ,EAAhB;AACA,UAAA,SAAS,CAAC,MAAV,GAAmB,IAAI,CAAC,UAAL,CAAgB,CAAhB,EAAmB,MAAtC;AACA,UAAA,SAAS,CAAC,IAAV,GAAiB,IAAI,CAAC,UAAL,CAAgB,CAAhB,EAAmB,KAApC;AACA,UAAA,KAAK,CAAC,IAAN,CAAW,SAAX;AACA;;AACD,QAAA,EAAE,CAAC,aAAH,GAAmB,KAAnB;AACA;AAAC;;AAAA;AACJ,WAAc,EAAd;AACA,GAnCM;;AAzDA,EAAA,KAAA,CAAA,EAAA,GAAW,QAAQ,CAAC,KAAD,EAAQ,OAAR,CAAnB;AA6FR,SAAA,KAAA;AAAC,CA9FD,CAA2B,IAA3B,CAAA;;SAAa,K;AAgGb;;AAEG;;AACH,IAAA,mBAAA;AAAA;;AAAA;AAAA,UAAA,MAAA,EAAA;AAAyC,EAAA,OAAA,CAAA,SAAA,CAAA,mBAAA,EAAA,MAAA;;AAExC,WAAA,mBAAA,GAAA;AAAA,QAAA,KAAA,GACC,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IADR;;AAWA,IAAA,KAAA,CAAA,kBAAA,GAA8B,KAA9B;AACA,IAAA,KAAA,CAAA,MAAA,GAAiB,CAAjB;AACA,IAAA,KAAA,CAAA,MAAA,GAAiB,CAAjB;AACA,IAAA,KAAA,CAAA,IAAA,GAAe,CAAf;AACA,IAAA,KAAA,CAAA,IAAA,GAAe,CAAf;AACA,IAAA,KAAA,CAAA,UAAA,GAAsB,KAAtB;AACA,IAAA,KAAA,CAAA,aAAA,GAAgC,IAAhC;AAfC,IAAA,KAAI,CAAC,kBAAL,GAA0B,KAA1B;AACA,IAAA,KAAI,CAAC,MAAL,GAAc,CAAd;AACA,IAAA,KAAI,CAAC,MAAL,GAAc,CAAd;AACA,IAAA,KAAI,CAAC,IAAL,GAAY,CAAZ;AACA,IAAA,KAAI,CAAC,IAAL,GAAY,CAAZ;AACA,IAAA,KAAI,CAAC,UAAL,GAAkB,KAAlB;AACA,IAAA,KAAI,CAAC,aAAL,GAAqC,IAAI,KAAJ,CAAU,CAAV,CAArC;AACA,IAAA,KAAI,CAAC,UAAL,GAAkB,IAAlB;;AACA;;AAQD,EAAA,mBAAA,CAAA,SAAA,CAAA,KAAA,GAAA,YAAA;AACC,QAAI,CAAC,GAAG,IAAI,mBAAJ,EAAR;AACA,IAAA,CAAC,CAAC,MAAF,GAAW,KAAK,MAAhB;AACA,IAAA,CAAC,CAAC,MAAF,GAAW,KAAK,MAAhB;AACA,IAAA,CAAC,CAAC,IAAF,GAAS,KAAK,IAAd;AACA,IAAA,CAAC,CAAC,IAAF,GAAS,KAAK,IAAd;AACA,IAAA,CAAC,CAAC,kBAAF,GAAuB,KAAK,kBAA5B;AACA,IAAA,CAAC,CAAC,UAAF,GAAe,KAAK,UAApB;;AACA,QAAI,KAAK,aAAL,IAAsB,IAA1B,EAAgC;AAC/B,MAAA,CAAC,CAAC,aAAF,GAAkC,IAAI,KAAJ,CAAU,KAAK,aAAL,CAAmB,MAA7B,CAAlC;;AACA,WAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,aAAL,CAAmB,MAAvC,EAA+C,CAAC,EAAhD,EAAoD;AACnD,QAAA,CAAC,CAAC,aAAF,CAAgB,CAAhB,IAAqB,KAAK,aAAL,CAAmB,CAAnB,EAAsB,KAAtB,EAArB;AACA;AACD;;AACD,WAAO,CAAP;AACA,GAfD;;AAgBA,EAAA,mBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,CAAP,EAAa;AACZ,QAAI,CAAC,IAAI,IAAT,EAAe;AACd,aAAO,KAAP;AACA;;AACD,QAAI,CAAC,GAAwB,QAAQ,CAA4B,mBAAoB,CAAC,CAAjD,EAAoD,CAApD,CAArC;;AACA,QAAI,CAAC,IAAI,IAAT,EAAe;AACd,aAAO,KAAP;AACA;;AACD,QAAI,CAAC,GAAY,MAAA,CAAA,SAAA,CAAM,MAAN,CAAY,IAAZ,CAAY,IAAZ,EAAa,CAAb,KAAmB,KAAK,MAAL,IAAe,CAAC,CAAC,MAApC,IAA8C,KAAK,MAAL,IAAe,CAAC,CAAC,MAA/D,IAAyE,KAAK,IAAL,IAAa,CAAC,CAAC,IAAxF,IAAgG,KAAK,IAAL,IAAa,CAAC,CAAC,IAA/G,IAAuH,KAAK,UAAL,IAAmB,CAAC,CAAC,UAA5I,IAA0J,KAAK,kBAAL,IAA2B,CAAC,CAAC,kBAAxM;;AACA,QAAI,CAAC,IAAI,KAAT,EAAgB;AACf,aAAO,KAAP;AACA;;AACD,QAAI,KAAK,aAAL,CAAmB,MAAnB,IAA6B,CAAC,CAAC,aAAF,CAAgB,MAAjD,EAAyD;AACxD,aAAO,KAAP;AACA;;AACD,SAAK,IAAI,CAAC,GAAW,CAAhB,EAAmB,CAAC,GAAW,KAAK,aAAL,CAAmB,MAAvD,EAA+D,CAAC,GAAG,CAAnE,EAAsE,CAAC,EAAvE,EAA2E;AAC1E,UAAI,CAAC,KAAK,aAAL,CAAmB,CAAnB,EAAsB,MAAtB,CAA6B,CAAC,CAAC,aAAF,CAAgB,CAAhB,CAA7B,CAAL,EAAuD;AACtD,eAAO,KAAP;AACA;AACD;;AACD,WAAO,IAAP;AACA,GArBD;;AAsBA,EAAA,mBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,YAAA;AACC,WAAO,MAAA,CAAA,SAAA,CAAM,WAAN,CAAiB,IAAjB,CAAiB,IAAjB,IAAuB,KAAK,MAA5B,GAAuC,KAAK,MAA5C,GAAuD,KAAK,IAA5D,GAAqE,KAAK,IAAjF;AACA,GAFD;;AAGA,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAA,YAAA;AACC,QAAI,KAAK,aAAL,IAAsB,IAAtB,IAA8B,KAAK,aAAL,CAAmB,MAAnB,GAA4B,CAA9D,EAAiE;AAChE,aAAO,KAAK,aAAL,CAAmB,CAAnB,EAAsB,KAAtB,CAA4B,WAAnC;AACA;;AACD,WAAO,MAAA,CAAA,SAAA,CAAM,CAAN,CAAO,IAAP,CAAO,IAAP,CAAP;AACA,GALD;;AA5DO,EAAA,mBAAA,CAAA,EAAA,GAAW,QAAQ,CAAC,mBAAD,EAAsB,qBAAtB,EAAmD,KAAM,CAAC,CAA1D,CAAnB;AAkER,SAAA,mBAAA;AAAC,CAnED,CAAyC,KAAzC,CAAA;;SAAa,mB;AAqEb;;AAEG;;AACH,IAAA,eAAA;AAAA;;AAAA;AAAA,UAAA,MAAA,EAAA;AAAqC,EAAA,OAAA,CAAA,SAAA,CAAA,eAAA,EAAA,MAAA;;AAArC,WAAA,eAAA,GAAA;;AA0LC;;AAxLO,EAAA,eAAA,CAAA,KAAA,GAAP,YAAA,CACC,CADM;;AAEA,EAAA,eAAA,CAAA,UAAA,GAAP,UAAkB,CAAlB,EAA2B;AAC1B,WAAO,cAAc,CAAC,CAAD,EAAI,iBAAJ,CAAd,IAAwC,cAAc,CAAC,CAAD,EAAI,iBAAJ,CAA7D;AACA,GAFM;;AAGA,EAAA,eAAA,CAAA,uBAAA,GAAP,UAA+B,CAA/B,EAAwC;AACvC,QAAI,CAAC,GAAoB,+EAAzB;AAAA,QAA2G,CAAC,GAAoB,aAAhI;AAAA,QAAgJ,CAAC,GAAoB,QAArK;AAAA,QAAgL,CAAC,GAAoB,QAArM;AAAA,QAAgN,CAAC,GAAoB,SAArO;AACA,QAAI,CAAJ;AACA,QAAI,CAAJ;AAAA,QAAe,CAAC,GAAW,CAA3B;AAAA,QAA8B,CAAC,GAAW,CAA1C;AAAA,QAA6C,CAA7C;AAAA,QAAwD,CAAxD;AACA,QAAI,CAAC,GAAY,KAAjB;AACA,QAAI,CAAJ;AACA,QAAI,CAAC,GAAG,CAAC,CAAC,KAAF,CAAQ,CAAR,CAAR;;AACA,QAAI,CAAC,IAAI,IAAL,IAAa,CAAC,CAAC,MAAF,IAAY,CAA7B,EAAgC;AAC/B,aAAO,IAAP;AACA;;AACD,QAAI,CAAC,GAAwB,IAAI,mBAAJ,EAA7B;AACA,IAAA,CAAC,GAAG,CAAC,CAAC,MAAN;AACA,IAAA,CAAC,GAAW,CAAC,CAAC,CAAD,CAAb;;AACA,QAAI,cAAc,CAAC,CAAD,EAAI,IAAJ,CAAd,IAA2B,cAAc,CAAC,CAAD,EAAI,KAAJ,CAA7C,EAAyD;AACxD,MAAA,CAAC,GAAG,eAAe,CAAC,CAAhB,CAAkB,CAAlB,CAAJ;AACA,MAAA,CAAC,CAAC,kBAAF,GAAuB,IAAvB;AACA,UAAI,CAAC,GAAY,eAAe,CAAC,CAAhB,CAAkB,CAAlB,CAAjB;AACA,MAAA,CAAC,CAAC,MAAF,GAAW,CAAC,CAAC,CAAD,CAAD,CAAK,CAAhB;AACA,MAAA,CAAC,CAAC,MAAF,GAAW,CAAC,CAAC,CAAD,CAAD,CAAK,CAAhB;AACA,MAAA,CAAC,CAAC,IAAF,GAAS,CAAC,CAAC,CAAD,CAAD,CAAK,CAAd;AACA,MAAA,CAAC,CAAC,IAAF,GAAS,CAAC,CAAC,CAAD,CAAD,CAAK,CAAd;AACA,MAAA,CAAC,GAAmB,IAAI,KAAJ,CAAU,CAAC,GAAG,CAAd,CAApB;AACA,KATD,MASO;AACN,MAAA,CAAC,GAAmB,IAAI,KAAJ,CAAU,CAAV,CAApB;AACA,MAAA,CAAC,GAAG,CAAJ;AACA;;AACD,WAAO,CAAC,GAAG,CAAX,EAAc,CAAC,EAAf,EAAmB;AAClB,UAAI,CAAC,GAAG,IAAI,YAAJ,EAAR;AACA,MAAA,CAAC,GAAW,CAAC,CAAC,CAAD,CAAb;AACA,MAAA,CAAC,GAAG,CAAC,CAAC,OAAF,CAAU,CAAV,EAAa,EAAb,EAAiB,OAAjB,CAAyB,CAAzB,EAA4B,EAA5B,EAAgC,OAAhC,CAAwC,CAAxC,EAA2C,EAA3C,CAAJ;AACA,MAAA,CAAC,GAAG,CAAC,CAAC,MAAF,CAAS,CAAT,CAAJ;;AACA,UAAI,CAAC,IAAI,CAAC,CAAV,EAAa;AACZ,QAAA,CAAC,CAAC,KAAF,GAAU,CAAC,CAAC,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAV;AACA,QAAA,CAAC,CAAC,MAAF,GAAW,UAAU,CAAC,CAAC,CAAC,MAAF,CAAS,CAAC,GAAG,CAAb,CAAD,CAAV,GAA8B,GAAzC;AACA,OAHD,MAGO;AACN,QAAA,CAAC,CAAC,KAAF,GAAU,CAAV;AACA,QAAA,CAAC,CAAC,MAAF,GAAW,CAAC,CAAZ;AACA,QAAA,CAAC,GAAG,IAAJ;AACA;;AACD,MAAA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP;AACA,MAAA,CAAC;AACD;;AACD,QAAI,CAAJ,EAAO;AACN,UAAI,CAAC,CAAC,CAAD,CAAD,CAAK,MAAL,IAAe,CAAC,CAApB,EAAuB;AACtB,QAAA,CAAC,CAAC,CAAD,CAAD,CAAK,MAAL,GAAc,CAAd;AACA;;AACD,UAAI,CAAC,CAAC,CAAC,CAAC,MAAF,GAAW,CAAZ,CAAD,CAAgB,MAAhB,IAA0B,CAAC,CAA/B,EAAkC;AACjC,QAAA,CAAC,CAAC,CAAC,CAAC,MAAF,GAAW,CAAZ,CAAD,CAAgB,MAAhB,GAAyB,CAAzB;AACA;;AACD,MAAA,eAAe,CAAC,CAAhB,CAAkB,CAAlB;AACA;;AACD,IAAA,CAAC,CAAC,aAAF,GAAkB,CAAlB;AACA,WAAO,CAAP;AACA,GArDM;;AAsDQ,EAAA,eAAA,CAAA,CAAA,GAAf,UAAiB,CAAjB,EAAkC;AACjC,QAAI,CAAJ;AAAA,QAAe,CAAf;AAAA,QAA0B,CAA1B;AAAA,QAAqC,CAArC;AAAA,QAAgD,CAAC,GAAW,CAAC,CAA7D;AAAA,QAAgE,CAAC,GAAW,CAAC,CAA7E;AAAA,QAAgF,CAAC,GAAW,CAA5F;AACA,QAAI,CAAC,GAAY,KAAjB;;AACA,SAAK,CAAC,GAAG,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,CAAC,CAAC,MAAtB,EAA8B,CAAC,EAA/B,EAAmC;AAClC,UAAI,CAAC,GAAiB,CAAC,CAAC,CAAD,CAAvB;;AACA,UAAI,CAAC,CAAC,MAAF,IAAY,CAAC,CAAjB,EAAoB;AACnB,QAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAC,CAAC,MAAd,CAAJ;AACA,QAAA,CAAC,CAAC,MAAF,GAAW,CAAX;;AACA,YAAI,CAAJ,EAAO;AACN,UAAA,CAAC,GAAG,CAAJ;AACA,UAAA,CAAC,GAAG,SAAS,CAAE,CAAC,GAAG,CAAN,EAAW,CAAC,GAAG,CAAf,CAAb;;AACA,eAAK,CAAC,GAAG,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,CAApB,EAAuB,CAAC,EAAxB,EAA4B;AAC3B,YAAA,CAAC,CAAC,CAAD,CAAD,CAAK,MAAL,GAAc,CAAC,GAAG,CAAC,GAAG,CAAtB;AACA,YAAA,CAAC;AACD;;AACD,UAAA,CAAC,GAAG,KAAJ;AACA;;AACD,QAAA,CAAC,GAAG,CAAJ;AACA,QAAA,CAAC,GAAG,CAAJ;AACA,OAdD,MAcO;AACN,QAAA,CAAC,GAAG,IAAJ;AACA;AACD;AACD,GAvBc;;AAwBA,EAAA,eAAA,CAAA,CAAA,GAAf,UAAiB,CAAjB,EAA0B;AACzB,QAAI,CAAC,GAAoB,cAAzB;AAAA,QAA0C,CAAC,GAAoB,sBAA/D;AAAA,QAAwF,CAAC,GAAoB,gBAA7G;AAAA,QAAgI,CAAC,GAAoB,yBAArJ;AAAA,QAAiL,CAAC,GAAoB,iBAAtM;AAAA,QAA0N,CAAC,GAAoB,wBAA/O;AAAA,QAA0Q,CAAC,GAAoB,eAA/R;AAAA,QAAiT,CAAC,GAAoB,qBAAtU;;AACA,QAAI,cAAc,CAAC,CAAD,EAAI,KAAJ,CAAlB,EAA8B;AAC7B,aAAO,UAAU,CAAC,CAAD,CAAjB;AACA;;AACD,QAAI,CAAC,CAAC,IAAF,CAAO,CAAP,CAAJ,EAAe;AACd,aAAO,CAAP;AACA;;AACD,QAAI,CAAC,CAAC,IAAF,CAAO,CAAP,CAAJ,EAAe;AACd,aAAO,EAAP;AACA;;AACD,QAAI,CAAC,CAAC,IAAF,CAAO,CAAP,CAAJ,EAAe;AACd,aAAO,EAAP;AACA;;AACD,QAAI,CAAC,CAAC,IAAF,CAAO,CAAP,CAAJ,EAAe;AACd,aAAO,GAAP;AACA;;AACD,QAAI,CAAC,CAAC,IAAF,CAAO,CAAP,CAAJ,EAAe;AACd,aAAO,GAAP;AACA;;AACD,QAAI,CAAC,CAAC,IAAF,CAAO,CAAP,CAAJ,EAAe;AACd,aAAO,GAAP;AACA;;AACD,QAAI,CAAC,CAAC,IAAF,CAAO,CAAP,CAAJ,EAAe;AACd,aAAO,GAAP;AACA;;AACD,WAAO,CAAC,CAAC,IAAF,CAAO,CAAP,IAAY,GAAZ,GAAkB,GAAzB;AACA,GA3Bc;;AA4BA,EAAA,eAAA,CAAA,CAAA,GAAf,UAAiB,CAAjB,EAA0B;AACzB,WAAO,IAAI,CAAC,EAAL,GAAU,CAAV,GAAc,GAArB;AACA,GAFc;;AAGA,EAAA,eAAA,CAAA,CAAA,GAAf,UAAiB,CAAjB,EAA0B;AACzB,QAAI,MAAM,CAAC,CAAD,CAAN,IAAa,UAAU,CAAC,CAAD,CAA3B,EAAgC;AAC/B,aAAO,CAAP;AACA;;AACD,WAAO,CAAC,GAAG,GAAX,EAAgB;AACf,MAAA,CAAC,IAAI,GAAL;AACA;;AACD,WAAO,CAAC,GAAG,CAAX,EAAc;AACb,MAAA,CAAC,IAAI,GAAL;AACA;;AACD,WAAO,CAAP;AACA,GAXc;;AAYA,EAAA,eAAA,CAAA,CAAA,GAAf,UAAiB,CAAjB,EAA0B;AACzB,QAAI,CAAC,GAAqB,IAAI,KAAJ,CAAU,CAAV,CAA1B;AACA,QAAI,CAAC,GAAU,SAAS,CAAC,MAAV,EAAf;AACA,QAAI,CAAC,GAAU,SAAS,CAAC,MAAV,EAAf;AACA,QAAI,CAAC,GAAW,eAAe,CAAC,CAAhB,CAAkB,CAAlB,CAAhB;;AACA,QAAI,CAAC,IAAI,CAAL,IAAU,CAAC,IAAI,EAAnB,EAAuB;AACtB,UAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,eAAe,CAAC,CAAhB,CAAkB,CAAlB,CAAT,CAAhB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,KAND,MAMO,IAAI,CAAC,GAAG,GAAJ,IAAW,CAAC,IAAI,GAApB,EAAyB;AAC/B,UAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,eAAe,CAAC,CAAhB,CAAkB,CAAC,GAAG,GAAtB,CAAT,CAAhB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,KANM,MAMA,IAAI,CAAC,GAAG,GAAJ,IAAW,CAAC,IAAI,GAApB,EAAyB;AAC/B,UAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,eAAe,CAAC,CAAhB,CAAkB,MAAM,CAAxB,CAAT,CAAhB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,KANM,MAMA,IAAI,CAAC,GAAG,GAAJ,IAAW,CAAC,GAAG,GAAnB,EAAwB;AAC9B,UAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,eAAe,CAAC,CAAhB,CAAkB,MAAM,CAAxB,CAAT,CAAhB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,KANM,MAMA,IAAI,CAAC,GAAG,EAAJ,IAAU,CAAC,IAAI,EAAnB,EAAuB;AAC7B,UAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,eAAe,CAAC,CAAhB,CAAkB,KAAK,CAAvB,CAAT,CAAhB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,KANM,MAMA,IAAI,CAAC,GAAG,EAAJ,IAAU,CAAC,IAAI,GAAnB,EAAwB;AAC9B,UAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,eAAe,CAAC,CAAhB,CAAkB,CAAC,GAAG,EAAtB,CAAT,CAAhB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,KANM,MAMA,IAAI,CAAC,GAAG,GAAJ,IAAW,CAAC,IAAI,GAApB,EAAyB;AAC/B,UAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,eAAe,CAAC,CAAhB,CAAkB,MAAM,CAAxB,CAAT,CAAhB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,KANM,MAMA,IAAI,CAAC,GAAG,GAAJ,IAAW,CAAC,IAAI,GAApB,EAAyB;AAC/B,UAAI,CAAC,GAAW,IAAI,CAAC,GAAL,CAAS,eAAe,CAAC,CAAhB,CAAkB,CAAC,GAAG,GAAtB,CAAT,CAAhB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,MAAM,MAAM,CAAlB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA;;AACD,IAAA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP;AACA,IAAA,CAAC,CAAC,CAAD,CAAD,GAAO,CAAP;AACA,WAAO,CAAP;AACA,GAzDc;;AA/HR,EAAA,eAAA,CAAA,EAAA,GAAW,QAAQ,CAAC,eAAD,EAAkB,iBAAlB,CAAnB;AAyLR,SAAA,eAAA;AAAC,CA1LD,CAAqC,IAArC,CAAA;;SAAa,e","sourceRoot":"","sourcesContent":["/*\r\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\r\nhttps://www.infragistics.com/legal/license/igultimate-la\r\nhttps://www.infragistics.com/legal/license/igultimate-eula\r\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\r\n*/\r\nimport * as tslib_1 from \"tslib\";\r\nimport { GradientStop } from \"./GradientStop\";\r\nimport { Base, toNullable, markType, typeCast, PointUtil } from \"./type\";\r\nimport { Color } from \"./Color\";\r\nimport { intDivide, isNaN_, isInfinity } from \"./number\";\r\nimport { stringContains } from \"./string\";\r\n/**\r\n * @hidden\r\n */\r\nvar Brush = /** @class */ /*@__PURE__*/ (function (_super) {\r\n    tslib_1.__extends(Brush, _super);\r\n    function Brush() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isGradient = false;\r\n        _this.isRadialGradient = false;\r\n        _this.isImageFill = false;\r\n        _this._fill = null;\r\n        _this.f = null;\r\n        _this.k = new Color();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Brush.prototype, \"fill\", {\r\n        get: function () {\r\n            return this._fill;\r\n        },\r\n        set: function (a) {\r\n            this._fill = a;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Brush.prototype, \"color\", {\r\n        get: function () {\r\n            if (this._fill == null && (this.isGradient || this.isRadialGradient)) {\r\n                this._fill = this.i();\r\n            }\r\n            if (this._fill == this.f) {\r\n                return this.k;\r\n            }\r\n            var a = new Color();\r\n            if (this._fill != null) {\r\n                a.colorString = this._fill;\r\n                this.k = a;\r\n                this.f = this._fill;\r\n                if (this._fill.length == 9) {\r\n                    this._fill = this.k.colorString;\r\n                    this.f = this._fill;\r\n                }\r\n            }\r\n            return a;\r\n        },\r\n        set: function (a) {\r\n            this.k = a;\r\n            this.f = this.k.colorString;\r\n            this._fill = this.f;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Brush.prototype.i = function () {\r\n        return null;\r\n    };\r\n    Brush.prototype.equals = function (a) {\r\n        if (a == null) {\r\n            return false;\r\n        }\r\n        var b = a;\r\n        return Base.equalsStatic(this._fill, b._fill) && this.color.equals(b.color) && this.isGradient == b.isGradient && this.isImageFill == b.isImageFill && this.isRadialGradient == b.isRadialGradient;\r\n    };\r\n    Brush.prototype.getHashCode = function () {\r\n        var a = Base.getHashCodeStatic(this.isGradient) ^ Base.getHashCodeStatic(this.isRadialGradient) ^ Base.getHashCodeStatic(this.isImageFill);\r\n        if (this.f != null) {\r\n            a ^= Base.getHashCodeStatic(this.f);\r\n        }\r\n        if (Color.e(toNullable(Color.$, this.k), toNullable(Color.$, null))) {\r\n            a ^= this.k.getHashCode();\r\n        }\r\n        return a;\r\n    };\r\n    Brush.create = function (val_) {\r\n        CssGradientUtil.touch();\r\n        var b_ = new Brush();\r\n        if (!val_) {\r\n            return null;\r\n        }\r\n        if (typeof val_ == 'string') {\r\n            if (CssGradientUtil.isGradient(val_)) {\r\n                b_ = CssGradientUtil.brushFromGradientString(val_);\r\n            }\r\n            else {\r\n                b_ = new Brush();\r\n                b_.fill = val_;\r\n            }\r\n        }\r\n        else if (val_.type == 'linearGradient') {\r\n            b_ = new LinearGradientBrush();\r\n            if (val_.startPoint && val_.endPoint) {\r\n                b_.useCustomDirection = true;\r\n                b_.startX = val_.startPoint.x;\r\n                b_.startY = val_.startPoint.y;\r\n                b_.endX = val_.endPoint.x;\r\n                b_.endY = val_.endPoint.y;\r\n            }\r\n            if (val_.colorStops) {\r\n                var stops = [];\r\n                for (var i = 0; i < val_.colorStops.length; i++) {\r\n                    var colorStop = new GradientStop();\r\n                    colorStop.offset = val_.colorStops[i].offset;\r\n                    colorStop.fill = val_.colorStops[i].color;\r\n                    stops.push(colorStop);\r\n                }\r\n                b_.gradientStops = stops;\r\n            }\r\n        }\r\n        ;\r\n        return b_;\r\n    };\r\n    Brush.$t = markType(Brush, 'Brush');\r\n    return Brush;\r\n}(Base));\r\nexport { Brush };\r\n/**\r\n * @hidden\r\n */\r\nvar LinearGradientBrush = /** @class */ /*@__PURE__*/ (function (_super) {\r\n    tslib_1.__extends(LinearGradientBrush, _super);\r\n    function LinearGradientBrush() {\r\n        var _this = _super.call(this) || this;\r\n        _this.useCustomDirection = false;\r\n        _this.startX = 0;\r\n        _this.startY = 0;\r\n        _this.endX = 0;\r\n        _this.endY = 0;\r\n        _this.isAbsolute = false;\r\n        _this.gradientStops = null;\r\n        _this.useCustomDirection = false;\r\n        _this.startX = 0;\r\n        _this.startY = 0;\r\n        _this.endX = 0;\r\n        _this.endY = 1;\r\n        _this.isAbsolute = false;\r\n        _this.gradientStops = new Array(0);\r\n        _this.isGradient = true;\r\n        return _this;\r\n    }\r\n    LinearGradientBrush.prototype.clone = function () {\r\n        var a = new LinearGradientBrush();\r\n        a.startX = this.startX;\r\n        a.startY = this.startY;\r\n        a.endX = this.endX;\r\n        a.endY = this.endY;\r\n        a.useCustomDirection = this.useCustomDirection;\r\n        a.isAbsolute = this.isAbsolute;\r\n        if (this.gradientStops != null) {\r\n            a.gradientStops = new Array(this.gradientStops.length);\r\n            for (var b = 0; b < this.gradientStops.length; b++) {\r\n                a.gradientStops[b] = this.gradientStops[b].clone();\r\n            }\r\n        }\r\n        return a;\r\n    };\r\n    LinearGradientBrush.prototype.equals = function (a) {\r\n        if (a == null) {\r\n            return false;\r\n        }\r\n        var b = typeCast(LinearGradientBrush.$, a);\r\n        if (b == null) {\r\n            return false;\r\n        }\r\n        var c = _super.prototype.equals.call(this, a) && this.startX == b.startX && this.startY == b.startY && this.endX == b.endX && this.endY == b.endY && this.isAbsolute == b.isAbsolute && this.useCustomDirection == b.useCustomDirection;\r\n        if (c == false) {\r\n            return false;\r\n        }\r\n        if (this.gradientStops.length != b.gradientStops.length) {\r\n            return false;\r\n        }\r\n        for (var d = 0, e = this.gradientStops.length; d < e; d++) {\r\n            if (!this.gradientStops[d].equals(b.gradientStops[d])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    LinearGradientBrush.prototype.getHashCode = function () {\r\n        return _super.prototype.getHashCode.call(this) ^ (this.startX) ^ (this.startY) ^ (this.endX) ^ (this.endY);\r\n    };\r\n    LinearGradientBrush.prototype.i = function () {\r\n        if (this.gradientStops != null && this.gradientStops.length > 0) {\r\n            return this.gradientStops[0].color.colorString;\r\n        }\r\n        return _super.prototype.i.call(this);\r\n    };\r\n    LinearGradientBrush.$t = markType(LinearGradientBrush, 'LinearGradientBrush', Brush.$);\r\n    return LinearGradientBrush;\r\n}(Brush));\r\nexport { LinearGradientBrush };\r\n/**\r\n * @hidden\r\n */\r\nvar CssGradientUtil = /** @class */ /*@__PURE__*/ (function (_super) {\r\n    tslib_1.__extends(CssGradientUtil, _super);\r\n    function CssGradientUtil() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CssGradientUtil.touch = function () {\r\n    };\r\n    CssGradientUtil.isGradient = function (a) {\r\n        return stringContains(a, \"linear-gradient\") || stringContains(a, \"radial-gradient\");\r\n    };\r\n    CssGradientUtil.brushFromGradientString = function (a) {\r\n        var b = (/hsl\\([\\s\\S]+?\\)[\\s\\S]*?[,\\)]|rgba?\\([\\s\\S]+?\\)[\\s\\S]*?[,\\)]|[^\\(\\)]*?[,\\)]/gim), c = (/\\s*\\d*%\\s*$/), d = (/^\\s\\s*/), e = (/\\s\\s*$/), f = (/[,\\)]?$/);\r\n        var g;\r\n        var h, i = 1, j = 0, k, l;\r\n        var m = false;\r\n        var n;\r\n        var o = a.match(b);\r\n        if (o == null || o.length <= 1) {\r\n            return null;\r\n        }\r\n        var p = new LinearGradientBrush();\r\n        k = o.length;\r\n        g = o[0];\r\n        if (stringContains(g, \"to\") || stringContains(g, \"deg\")) {\r\n            h = CssGradientUtil.c(g);\r\n            p.useCustomDirection = true;\r\n            var q = CssGradientUtil.a(h);\r\n            p.startX = q[0].x;\r\n            p.startY = q[0].y;\r\n            p.endX = q[1].x;\r\n            p.endY = q[1].y;\r\n            n = new Array(k - 1);\r\n        }\r\n        else {\r\n            n = new Array(k);\r\n            i = 0;\r\n        }\r\n        for (; i < k; i++) {\r\n            var r = new GradientStop();\r\n            g = o[i];\r\n            g = g.replace(d, \"\").replace(e, \"\").replace(f, \"\");\r\n            l = g.search(c);\r\n            if (l != -1) {\r\n                r._fill = g.substr(0, l);\r\n                r.offset = parseFloat(g.substr(l + 1)) / 100;\r\n            }\r\n            else {\r\n                r._fill = g;\r\n                r.offset = -1;\r\n                m = true;\r\n            }\r\n            n[j] = r;\r\n            j++;\r\n        }\r\n        if (m) {\r\n            if (n[0].offset == -1) {\r\n                n[0].offset = 0;\r\n            }\r\n            if (n[n.length - 1].offset == -1) {\r\n                n[n.length - 1].offset = 1;\r\n            }\r\n            CssGradientUtil.f(n);\r\n        }\r\n        p.gradientStops = n;\r\n        return p;\r\n    };\r\n    CssGradientUtil.f = function (a) {\r\n        var b, c, d, e, f = -1, g = -1, h = 0;\r\n        var i = false;\r\n        for (b = g + 1; b < a.length; b++) {\r\n            var j = a[b];\r\n            if (j.offset != -1) {\r\n                f = Math.max(f, j.offset);\r\n                j.offset = f;\r\n                if (i) {\r\n                    d = 1;\r\n                    e = intDivide((f - h), (b - g));\r\n                    for (c = g + 1; c < b; c++) {\r\n                        a[c].offset = h + e * d;\r\n                        d++;\r\n                    }\r\n                    i = false;\r\n                }\r\n                g = b;\r\n                h = f;\r\n            }\r\n            else {\r\n                i = true;\r\n            }\r\n        }\r\n    };\r\n    CssGradientUtil.c = function (a) {\r\n        var b = (/to\\s*top\\s*/i), c = (/to\\s*right\\s*top\\s*/i), d = (/to\\s*right\\s*/i), e = (/to\\s*right\\s*bottom\\s*/i), f = (/to\\s*bottom\\s*/i), g = (/to\\s*left\\s*bottom\\s*/i), h = (/to\\s*left\\s*/i), i = (/to\\s*left\\s*top\\s*/i);\r\n        if (stringContains(a, \"deg\")) {\r\n            return parseFloat(a);\r\n        }\r\n        if (b.test(a)) {\r\n            return 0;\r\n        }\r\n        if (c.test(a)) {\r\n            return 45;\r\n        }\r\n        if (d.test(a)) {\r\n            return 90;\r\n        }\r\n        if (e.test(a)) {\r\n            return 135;\r\n        }\r\n        if (f.test(a)) {\r\n            return 180;\r\n        }\r\n        if (g.test(a)) {\r\n            return 225;\r\n        }\r\n        if (h.test(a)) {\r\n            return 270;\r\n        }\r\n        return i.test(a) ? 315 : 180;\r\n    };\r\n    CssGradientUtil.d = function (a) {\r\n        return Math.PI * a / 180;\r\n    };\r\n    CssGradientUtil.e = function (a) {\r\n        if (isNaN_(a) || isInfinity(a)) {\r\n            return a;\r\n        }\r\n        while (a > 360) {\r\n            a -= 360;\r\n        }\r\n        while (a < 0) {\r\n            a += 360;\r\n        }\r\n        return a;\r\n    };\r\n    CssGradientUtil.a = function (a) {\r\n        var b = new Array(2);\r\n        var c = PointUtil.create();\r\n        var d = PointUtil.create();\r\n        var e = CssGradientUtil.e(a);\r\n        if (e >= 0 && e <= 45) {\r\n            var f = Math.tan(CssGradientUtil.d(e));\r\n            c.x = 0.5 - 0.5 * f;\r\n            c.y = 1;\r\n            d.x = 0.5 + 0.5 * f;\r\n            d.y = 0;\r\n        }\r\n        else if (e > 180 && e <= 225) {\r\n            var g = Math.tan(CssGradientUtil.d(e - 180));\r\n            c.x = 0.5 + 0.5 * g;\r\n            c.y = 0;\r\n            d.x = 0.5 - 0.5 * g;\r\n            d.y = 1;\r\n        }\r\n        else if (e > 135 && e <= 180) {\r\n            var h = Math.tan(CssGradientUtil.d(180 - e));\r\n            c.x = 0.5 - 0.5 * h;\r\n            c.y = 0;\r\n            d.x = 0.5 + 0.5 * h;\r\n            d.y = 1;\r\n        }\r\n        else if (e > 315 && e < 360) {\r\n            var i = Math.tan(CssGradientUtil.d(360 - e));\r\n            c.x = 0.5 + 0.5 * i;\r\n            c.y = 1;\r\n            d.x = 0.5 - 0.5 * i;\r\n            d.y = 0;\r\n        }\r\n        else if (e > 45 && e <= 90) {\r\n            var j = Math.tan(CssGradientUtil.d(90 - e));\r\n            d.y = 0.5 - 0.5 * j;\r\n            d.x = 1;\r\n            c.y = 0.5 + 0.5 * j;\r\n            c.x = 0;\r\n        }\r\n        else if (e > 90 && e <= 135) {\r\n            var k = Math.tan(CssGradientUtil.d(e - 90));\r\n            d.y = 0.5 + 0.5 * k;\r\n            d.x = 1;\r\n            c.y = 0.5 - 0.5 * k;\r\n            c.x = 0;\r\n        }\r\n        else if (e > 225 && e <= 270) {\r\n            var l = Math.tan(CssGradientUtil.d(270 - e));\r\n            c.y = 0.5 - 0.5 * l;\r\n            c.x = 1;\r\n            d.y = 0.5 + 0.5 * l;\r\n            d.x = 0;\r\n        }\r\n        else if (e > 270 && e <= 315) {\r\n            var m = Math.tan(CssGradientUtil.d(e - 270));\r\n            c.y = 0.5 + 0.5 * m;\r\n            c.x = 1;\r\n            d.y = 0.5 - 0.5 * m;\r\n            d.x = 0;\r\n        }\r\n        b[0] = c;\r\n        b[1] = d;\r\n        return b;\r\n    };\r\n    CssGradientUtil.$t = markType(CssGradientUtil, 'CssGradientUtil');\r\n    return CssGradientUtil;\r\n}(Base));\r\nexport { CssGradientUtil };\r\n//# sourceMappingURL=Brush_combined.js.map\r\n"]},"metadata":{},"sourceType":"module"}