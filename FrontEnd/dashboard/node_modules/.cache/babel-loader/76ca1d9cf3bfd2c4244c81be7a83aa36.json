{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, String_$type, runOn, Type, markType, BaseError, Number_$type } from \"./type\";\nimport { LinkedList$1 } from \"./LinkedList$1\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { LinkedListNode$1 } from \"./LinkedListNode$1\";\nimport { timeSpanTotalMilliseconds } from \"./timespan\";\nimport { dateNow } from \"./date\";\nimport { TaskCompletionSource$1 } from \"./TaskCompletionSource$1\";\nimport { isInfinity, isNaN_ } from \"./number\";\nimport { AnimationKeyFrame } from \"./AnimationKeyFrame\";\nimport { List$1 } from \"./List$1\";\nimport { UIElementPropertyId_$type } from \"./UIElementPropertyId\";\nimport { UIElementPropertyAccessor } from \"./UIElementPropertyAccessor\";\nimport { EasingFunctions } from \"./EasingFunctions\";\nimport { AnimationKeyFrameProperty } from \"./AnimationKeyFrameProperty\";\nimport { BrushUtil } from \"./BrushUtil\";\nimport { InterpolationUtil } from \"./InterpolationUtil\";\nimport { MatrixTransform } from \"./MatrixTransform\";\nimport { TransformMatrixHelpler } from \"./TransformMatrixHelpler\";\nimport { UIElementPropertyAccessorFactory } from \"./UIElementPropertyAccessorFactory\";\nimport { HashSet$1 } from \"./HashSet$1\";\n/**\n * @hidden\n */\n\nvar KeyFrameAnimationTimeline =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(KeyFrameAnimationTimeline, _super);\n\n  function KeyFrameAnimationTimeline(a, b) {\n    var _this = _super.call(this) || this;\n\n    _this.c = null;\n    _this.a = null;\n    _this.h = new Date();\n    _this.g = new LinkedList$1(IKeyFrameAnimation_$type);\n    _this.f = new Dictionary$2(String_$type, IKeyFrameAnimation_$type, 0);\n    _this.e = new Dictionary$2(IKeyFrameAnimation_$type, LinkedListNode$1.$.specialize(IKeyFrameAnimation_$type), 0);\n    _this.k = 0;\n    _this.d = false;\n    _this.i = 0;\n    _this.l = -1;\n    _this.c = a;\n    _this.a = b;\n    _this.h = dateNow();\n    return _this;\n  }\n\n  Object.defineProperty(KeyFrameAnimationTimeline.prototype, \"b\", {\n    get: function () {\n      return this.a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationTimeline.prototype, \"j\", {\n    get: function () {\n      if (this.d) {\n        return this.i;\n      }\n\n      return timeSpanTotalMilliseconds(+dateNow() - +this.h);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  KeyFrameAnimationTimeline.prototype.m = function (a) {\n    if (this.f.containsKey(a.id)) {\n      return;\n    }\n\n    this.g.f(a);\n    var b = this.g.d;\n    this.e.addItem(a, b);\n    this.f.addItem(a.id, a);\n    var c = false;\n\n    if (this.k == 0) {\n      c = true;\n    }\n\n    this.k++;\n\n    if (c) {\n      this.n();\n    }\n  };\n\n  KeyFrameAnimationTimeline.prototype.o = function (a) {\n    if (!this.e.containsKey(a)) {\n      return;\n    }\n\n    var b = this.e.item(a);\n    this.g.h(b);\n    this.f.removeItem(a.id);\n    this.e.removeItem(a);\n    var c = false;\n    this.k--;\n\n    if (this.k == 0) {\n      c = true;\n    }\n\n    if (c) {\n      this.p();\n    }\n  };\n\n  KeyFrameAnimationTimeline.prototype.p = function () {\n    if (this.l >= 0) {\n      this.c.teardownTicking(this.l);\n      this.l = -1;\n    }\n  };\n\n  KeyFrameAnimationTimeline.prototype.n = function () {\n    this.l = this.c.setupTicking(runOn(this, this.q));\n    this.c.requestFrame(this.l);\n  };\n\n  KeyFrameAnimationTimeline.prototype.q = function () {\n    var a = this.j;\n    this.i = a;\n\n    try {\n      this.d = true;\n      var b = this.g.c;\n\n      if (b == null) {\n        this.p();\n        this.d = false;\n        return;\n      }\n\n      while (b != null) {\n        var c = b.c;\n\n        if (c.playState == 1) {\n          c.aq();\n        } else {\n          c.aq();\n          this.o(b.c);\n        }\n\n        b = b.a;\n      }\n\n      this.c.requestFrame(this.l);\n    } finally {\n      this.d = false;\n    }\n  };\n\n  KeyFrameAnimationTimeline.$t = markType(KeyFrameAnimationTimeline, 'KeyFrameAnimationTimeline');\n  return KeyFrameAnimationTimeline;\n}(Base);\n\nexport { KeyFrameAnimationTimeline };\n/**\n * @hidden\n */\n\nexport var IKeyFrameAnimation_$type = /*@__PURE__*/new Type(null, 'IKeyFrameAnimation');\n/**\n * @hidden\n */\n\nvar KeyFrameAnimationDirect =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(KeyFrameAnimationDirect, _super);\n\n  function KeyFrameAnimationDirect(a, b) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.m = NaN;\n    _this.d = false;\n    _this.p = NaN;\n    _this.i = false;\n    _this.u = null;\n    _this.n = NaN;\n    _this.g = false;\n    _this.o = 1;\n    _this.q = NaN;\n    _this.j = false;\n    _this.b = null;\n    _this.onFinished = null;\n    _this.onCanceled = null;\n    _this.h = false;\n    _this.f = false;\n    _this.e = false;\n    _this.w = null;\n    _this.v = null;\n    _this.u = \"AUTO_ID_\" + KeyFrameAnimationDirect.t.toString();\n    KeyFrameAnimationDirect.t++;\n    _this.effect = a;\n    _this.effect.r = _this;\n    _this.b = b;\n    return _this;\n  }\n\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"effect\", {\n    get: function () {\n      return this.a;\n    },\n    set: function (a) {\n      this.a = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"l\", {\n    get: function () {\n      if (this.d) {\n        return true;\n      }\n\n      if (this.j) {\n        return true;\n      }\n\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"currentTime\", {\n    get: function () {\n      if (this.d) {\n        return this.m;\n      }\n\n      return (this.c.j - this.startTime) * this.playbackRate;\n    },\n    set: function (a) {\n      this.ar(a);\n      this.as(true, false);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  KeyFrameAnimationDirect.prototype.as = function (a, b) {\n    var _this = this;\n\n    var c;\n    var d = false;\n\n    if (!a) {\n      var e = this.d;\n      this.d = false;\n      c = this.currentTime;\n      d = this.l;\n      this.d = e;\n    } else {\n      c = this.currentTime;\n      d = this.l;\n    }\n\n    if (d && this.j && !this.f && !this.h) {\n      if (this.playbackRate > 0 && c >= this.r) {\n        if (a) {\n          this.m = c;\n          this.d = true;\n        } else {\n          if (this.i) {\n            this.m = Math.max(this.p, this.r);\n          } else {\n            this.m = this.r;\n          }\n        }\n      } else if (this.playbackRate < 0 && c <= 0) {\n        if (a) {\n          this.m = c;\n        } else {\n          if (this.i) {\n            this.m = Math.min(this.p, 0);\n          } else {\n            this.m = 0;\n          }\n        }\n      }\n\n      if (this.playbackRate != 0) {\n        if (a && this.d) {\n          this.q = this.c.j - this.m / this.playbackRate;\n          this.j = true;\n          this.d = false;\n        }\n      }\n    }\n\n    this.p = this.currentTime;\n    this.i = true;\n    var f = this.playState == 3;\n\n    if (!b && f && !this.k()) {\n      this.an(function () {\n        return _this.ad();\n      });\n    }\n\n    if (f && !this.k()) {\n      if (b) {\n        this.aa();\n        this.ad();\n      }\n    }\n\n    if (!f && this.k()) {\n      this.v = this.x();\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.x = function () {\n    return new TaskCompletionSource$1(IKeyFrameAnimation_$type, 0);\n  };\n\n  KeyFrameAnimationDirect.prototype.aa = function () {\n    this.e = false;\n  };\n\n  KeyFrameAnimationDirect.prototype.ad = function () {\n    if (!this.e) {\n      return;\n    }\n\n    this.e = false;\n\n    if (this.playState != 3) {\n      return;\n    }\n\n    this.al(this);\n    this.ah();\n  };\n\n  KeyFrameAnimationDirect.prototype.ah = function () {};\n\n  KeyFrameAnimationDirect.prototype.al = function (a) {\n    this.v.e(a);\n  };\n\n  KeyFrameAnimationDirect.prototype.an = function (a) {\n    if (!this.e) {\n      this.e = true;\n      this.c.b.enqueueAction(function () {\n        return a();\n      });\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.k = function () {\n    return this.v == null || this.v.b.c;\n  };\n\n  KeyFrameAnimationDirect.prototype.ar = function (a) {\n    if (this.d || !this.j || this.playbackRate == 0) {\n      this.m = a;\n      this.d = true;\n    } else {\n      this.q = this.c.j - a / this.playbackRate;\n    }\n  };\n\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"finished\", {\n    get: function () {\n      return this.v.b;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"ready\", {\n    get: function () {\n      return this.w.b;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"id\", {\n    get: function () {\n      return this.u;\n    },\n    set: function (a) {\n      this.u = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"r\", {\n    get: function () {\n      return this.effect != null ? this.effect.as : 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"playState\", {\n    get: function () {\n      if (!this.l && !this.f && !this.h) {\n        return 0;\n      } else if (this.f || !this.j && !this.h) {\n        return 2;\n      } else if (this.l && (this.s > 0 && this.currentTime >= this.r || this.s < 0 && this.currentTime <= 0)) {\n        return 3;\n      }\n\n      return 1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"s\", {\n    get: function () {\n      if (this.g) {\n        return this.n;\n      }\n\n      return this.o;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"playbackRate\", {\n    get: function () {\n      return this.o;\n    },\n    set: function (a) {\n      this.o = a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"startTime\", {\n    get: function () {\n      return this.q;\n    },\n    set: function (a) {\n      var b = this.c.j;\n      var c = this.p;\n      this.q = a;\n      this.j = true;\n\n      if (this.playbackRate != 0) {\n        this.d = false;\n      }\n\n      this.as(true, false);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(KeyFrameAnimationDirect.prototype, \"c\", {\n    get: function () {\n      return this.b;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  KeyFrameAnimationDirect.prototype.cancel = function () {\n    if (this.playState != 0) {\n      this.ak();\n      this.ai(\"AbortError\");\n      this.v = this.x();\n      this.ag();\n      this.d = false;\n      this.j = false;\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.ai = function (a) {\n    if (this.v != null) {\n      this.v.d(new BaseError(1, a));\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.aj = function (a) {\n    if (this.w != null) {\n      this.w.d(new BaseError(1, a));\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.ag = function () {};\n\n  KeyFrameAnimationDirect.prototype.ak = function () {\n    if (this.h) {\n      this.h = false;\n    }\n\n    if (this.f) {\n      this.f = false;\n    }\n\n    this.z();\n    this.aj(\"AbortError\");\n  };\n\n  KeyFrameAnimationDirect.prototype.finish = function () {\n    if (this.s == 0 || this.s > 0 && isInfinity(this.r)) {\n      return;\n    }\n\n    this.z();\n    var a;\n\n    if (this.playbackRate > 0) {\n      a = this.r;\n    } else {\n      a = 0;\n    }\n\n    this.ar(a);\n\n    if (!this.j) {\n      this.q = this.c.j - a / this.playbackRate;\n      this.j = true;\n    }\n\n    if (this.f && this.j) {\n      this.d = false;\n      this.ab();\n      this.am(this);\n    }\n\n    if (this.h && this.j) {\n      this.ac();\n      this.am(this);\n    }\n\n    this.as(true, true);\n  };\n\n  KeyFrameAnimationDirect.prototype.pause = function () {\n    this.ae();\n  };\n\n  KeyFrameAnimationDirect.prototype.ae = function () {\n    var _this = this;\n\n    if (this.f) {\n      return;\n    }\n\n    if (this.playState == 2) {\n      return;\n    }\n\n    if (!this.l) {\n      if (this.playbackRate >= 0) {\n        this.d = true;\n        this.m = 0;\n      }\n\n      if (isInfinity(this.r)) {\n        return;\n      }\n\n      this.m = this.r;\n      this.d = true;\n    }\n\n    var a = false;\n\n    if (this.h) {\n      a = true;\n    }\n\n    if (!a) {\n      this.w = this.y();\n    }\n\n    this.ao(function () {\n      if (!_this.f) {\n        return;\n      }\n\n      _this.f = false;\n      var b = _this.c.j;\n\n      if (_this.j && !_this.d) {\n        _this.m = (b - _this.q) * _this.playbackRate;\n      }\n\n      _this.z();\n\n      _this.j = false;\n\n      _this.am(_this);\n\n      _this.as(false, false);\n    });\n    this.as(false, false);\n  };\n\n  KeyFrameAnimationDirect.prototype.y = function () {\n    return new TaskCompletionSource$1(IKeyFrameAnimation_$type, 0);\n  };\n\n  KeyFrameAnimationDirect.prototype.ao = function (a) {\n    if (!this.f) {\n      this.f = true;\n      this.c.b.enqueueAction(function () {\n        return a();\n      });\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.play = function () {\n    this.af(true);\n  };\n\n  KeyFrameAnimationDirect.prototype.af = function (a) {\n    var _this = this;\n\n    var b = this.f;\n\n    if (this.s > 0 && a && (!this.l || this.currentTime < 0 || this.currentTime >= this.r)) {\n      this.m = 0;\n      this.d = true;\n    } else if (this.s < 0 && a && (!this.l || this.currentTime <= 0 || this.currentTime > this.r)) {\n      if (isInfinity(this.r)) {\n        return;\n      }\n\n      this.m = this.r;\n      this.d = true;\n    } else if (this.s == 0 && !this.l) {\n      this.m = 0;\n      this.d = true;\n    }\n\n    var c = false;\n\n    if (this.f) {\n      this.ab();\n      c = true;\n    }\n\n    if (this.h) {\n      this.ac();\n      c = true;\n    }\n\n    if (!this.d && !b && !this.g) {\n      return;\n    }\n\n    if (this.d) {\n      this.j = false;\n    }\n\n    if (!c) {\n      this.w = this.y();\n    }\n\n    this.ap(function () {\n      if (!_this.h) {\n        return;\n      }\n\n      _this.h = false;\n\n      if (!_this.j && !_this.d) {\n        return;\n      }\n\n      var d = _this.c.j;\n\n      if (_this.d) {\n        _this.z();\n\n        var e = d;\n\n        if (_this.playbackRate != 0) {\n          e = d - _this.m / _this.playbackRate;\n        }\n\n        _this.q = e;\n        _this.j = true;\n\n        if (_this.playbackRate != 0) {\n          _this.d = false;\n        }\n      } else if (_this.j && _this.g) {\n        var f = (d - _this.q) * _this.playbackRate;\n\n        _this.z();\n\n        if (_this.playbackRate == 0) {\n          _this.m = f;\n          _this.d = true;\n        }\n\n        var g = d;\n\n        if (_this.playbackRate != 0) {\n          g = d - f / _this.playbackRate;\n        }\n\n        _this.q = g;\n        _this.j = true;\n      }\n\n      _this.am(_this);\n\n      _this.as(false, false);\n\n      _this.c.m(_this);\n    });\n    this.as(false, false);\n  };\n\n  KeyFrameAnimationDirect.prototype.am = function (a) {\n    if (this.w != null) {\n      this.w.e(a);\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.ab = function () {\n    this.f = false;\n  };\n\n  KeyFrameAnimationDirect.prototype.ac = function () {\n    this.h = false;\n  };\n\n  KeyFrameAnimationDirect.prototype.ap = function (a) {\n    if (!this.h) {\n      this.h = true;\n      this.c.b.enqueueAction(function () {\n        return a();\n      });\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.reverse = function () {\n    var a = this.n;\n    this.n = -this.s;\n    this.g = true;\n    this.af(true);\n  };\n\n  KeyFrameAnimationDirect.prototype.updatePlaybackRate = function (a) {\n    var b = this.playState;\n    this.n = a;\n    this.g = true;\n\n    if (b == 0 || b == 2) {\n      this.z();\n    } else if (b == 3) {\n      var c = this.d;\n      this.d = false;\n      var d = this.currentTime;\n      this.d = c;\n\n      if (this.n == 0) {\n        this.q = this.c.j;\n      } else {\n        this.q = this.c.j - d / this.n;\n      }\n\n      this.z();\n    } else {\n      this.af(false);\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.z = function () {\n    if (this.g) {\n      this.o = this.n;\n      this.g = false;\n    }\n  };\n\n  KeyFrameAnimationDirect.prototype.commitStyles = function () {\n    this.effect.a6();\n  };\n\n  KeyFrameAnimationDirect.prototype.aq = function () {\n    this.effect.a7();\n    this.as(false, false);\n  };\n\n  KeyFrameAnimationDirect.$t = markType(KeyFrameAnimationDirect, 'KeyFrameAnimationDirect', Base.$, [IKeyFrameAnimation_$type]);\n  KeyFrameAnimationDirect.t = 0;\n  return KeyFrameAnimationDirect;\n}(Base);\n\nexport { KeyFrameAnimationDirect };\n/**\n * @hidden\n */\n\nvar AnimationKeyFrameEffect =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(AnimationKeyFrameEffect, _super);\n\n  function AnimationKeyFrameEffect(a) {\n    var _rest = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      _rest[_i - 1] = arguments[_i];\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.r = null;\n    _this.a4 = null;\n    _this.o = 0;\n    _this.q = null;\n    _this.ag = new List$1(AnimationKeyFrame.$, 0);\n    _this.c = null;\n    _this.al = 0;\n    _this.ah = 0;\n    _this.az = null;\n    _this.t = 0;\n    _this.ai = 0;\n    _this.aj = 0;\n    _this.v = 0;\n    _this.ak = 0;\n    _this.u = 0;\n    _this.d = null;\n    _this.a = null;\n    _this.b = null;\n    _this.p = null;\n    a = a == void 0 ? 0 : a;\n\n    switch (a) {\n      case 0:\n        {\n          var c = _rest[0];\n          var d = _rest[1];\n          var e = _rest[2];\n          var f = _rest[3];\n          _this.a4 = c;\n          _this.o = d;\n          _this.p = f;\n\n          _this.a8();\n\n          _this.q = e;\n        }\n        break;\n\n      case 1:\n        {\n          var c = _rest[0];\n          var d = _rest[1];\n          var e = _rest[2];\n          var f = _rest[3];\n          var g = _rest[4];\n          _this.a4 = c;\n          _this.o = d;\n          _this.q = e;\n          _this.p = f;\n\n          _this.a8();\n\n          _this.ag.o(g);\n        }\n        break;\n    }\n\n    return _this;\n  }\n\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"an\", {\n    get: function () {\n      return this.aj * this.ai;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"as\", {\n    get: function () {\n      return Math.max(this.al + this.an + this.ah, 0);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  AnimationKeyFrameEffect.prototype.a8 = function () {\n    this.al = this.p.f;\n    this.ah = this.p.h;\n    this.t = this.p.a;\n    this.ai = this.p.i;\n    this.aj = this.p.g;\n    this.v = this.p.c;\n    this.ak = this.p.j;\n    this.u = this.p.b;\n    this.az = this.a0(this.u);\n  };\n\n  AnimationKeyFrameEffect.prototype.a0 = function (a) {\n    switch (a) {\n      case 3:\n        return function (b) {\n          return b;\n        };\n\n      case 1:\n        return EasingFunctions.exponentialEase;\n\n      case 2:\n        return EasingFunctions.circleEase;\n\n      case 0:\n        return EasingFunctions.cubicEase;\n    }\n\n    return function (b) {\n      return b;\n    };\n  };\n\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"k\", {\n    get: function () {\n      if (this.d == null) {\n        this.d = this.e();\n      }\n\n      return this.d;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  AnimationKeyFrameEffect.prototype.e = function () {\n    var a = this.h;\n\n    if (a.length <= 1) {\n      return [0];\n    }\n\n    var b = new Array(a.length);\n    var c = 1 / (a.length - 1);\n    var d = 0;\n\n    for (var e = 0; e < a.length; e++) {\n      if (isNaN_(a[e].j)) {\n        b[e] = d;\n      } else {\n        b[e] = a[e].j;\n        d = a[e].j;\n\n        if (a.length - 1 - e > 0) {\n          c = (1 - d) / (a.length - 1 - e);\n        }\n      }\n\n      d += c;\n    }\n\n    return b;\n  };\n\n  AnimationKeyFrameEffect.prototype.l = function (a) {\n    this.ag.add(a);\n    this.c = null;\n    this.a = null;\n    return this;\n  };\n\n  AnimationKeyFrameEffect.prototype.m = function () {\n    var a = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      a[_i] = arguments[_i];\n    }\n\n    var b = new AnimationKeyFrame(0);\n\n    if (a != null) {\n      for (var c = 0; c < a.length; c++) {\n        b.c(a[c]);\n      }\n    }\n\n    this.l(b);\n    return this;\n  };\n\n  AnimationKeyFrameEffect.prototype.n = function (a) {\n    var b = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      b[_i - 1] = arguments[_i];\n    }\n\n    var c = new AnimationKeyFrame(1, a);\n\n    if (b != null) {\n      for (var d = 0; d < b.length; d++) {\n        c.c(b[d]);\n      }\n    }\n\n    this.l(c);\n    return this;\n  };\n\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"au\", {\n    get: function () {\n      if (this.r != null) {\n        return this.r.currentTime;\n      }\n\n      return NaN;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ac\", {\n    get: function () {\n      if (this.r != null) {\n        return this.r.l;\n      }\n\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ap\", {\n    get: function () {\n      return Math.max(Math.min(this.al, this.as), 0);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"am\", {\n    get: function () {\n      return Math.max(Math.min(this.al + this.an, this.as), 0);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"w\", {\n    get: function () {\n      if (this.r != null && this.r.playbackRate < 0) {\n        return false;\n      }\n\n      return true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"s\", {\n    get: function () {\n      if (this.ac && (this.au < this.ap || !this.w && this.au == this.ap)) {\n        return 0;\n      }\n\n      if (this.ac && (this.au > this.am || this.w && this.au == this.am)) {\n        return 2;\n      }\n\n      if (this.ac) {\n        return 1;\n      }\n\n      return 3;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ao\", {\n    get: function () {\n      var a = this.s;\n\n      switch (a) {\n        case 0:\n          if (this.t == 3 || this.t == 4) {\n            return Math.max(this.au - this.al, 0);\n          } else {\n            return NaN;\n          }\n\n        case 1:\n          return this.au - this.al;\n\n        case 2:\n          if (this.t == 2 || this.t == 4) {\n            return Math.max(Math.min(this.au - this.al, this.an), 0);\n          } else {\n            return NaN;\n          }\n\n        default:\n          return NaN;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"y\", {\n    get: function () {\n      if (!this.ac) {\n        return false;\n      }\n\n      var a = this.s;\n\n      switch (a) {\n        case 0:\n          if (this.t == 3 || this.t == 4) {\n            return true;\n          } else {\n            return false;\n          }\n\n        case 1:\n          return true;\n\n        case 2:\n          if (this.t == 2 || this.t == 4) {\n            return true;\n          } else {\n            return false;\n          }\n\n        default:\n          return false;\n      }\n\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ad\", {\n    get: function () {\n      if (!this.y) {\n        return false;\n      }\n\n      return true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"av\", {\n    get: function () {\n      if (!this.y) {\n        return NaN;\n      }\n\n      var a = 0;\n\n      if (this.aj == 0) {\n        if (this.s == 0) {\n          a = 0;\n        } else {\n          a = this.ai;\n        }\n      } else {\n        a = this.ao / this.aj;\n      }\n\n      return a + this.ak;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ae\", {\n    get: function () {\n      if (!this.ad) {\n        return false;\n      }\n\n      return true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aw\", {\n    get: function () {\n      if (!this.ad) {\n        return NaN;\n      }\n\n      var a = 1;\n\n      if (isInfinity(this.av)) {\n        a = this.ak % 1;\n      } else {\n        a = this.av % 1;\n      }\n\n      if (a == 0 && (this.s == 1 || this.s == 2) && this.ao == this.an && this.ai != 0) {\n        a = 1;\n      }\n\n      return a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"z\", {\n    get: function () {\n      if (!this.y) {\n        return false;\n      }\n\n      return true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aq\", {\n    get: function () {\n      if (!this.y) {\n        return NaN;\n      }\n\n      if (this.s == 2 && isInfinity(this.ai)) {\n        return Number.POSITIVE_INFINITY;\n      }\n\n      if (this.aw == 1) {\n        return Math.floor(this.av) - 1;\n      }\n\n      return Math.floor(this.av);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aa\", {\n    get: function () {\n      return this.ae;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ar\", {\n    get: function () {\n      if (!this.ae) {\n        return NaN;\n      }\n\n      var a = this.x();\n\n      if (a) {\n        return this.aw;\n      } else {\n        return 1 - this.aw;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  AnimationKeyFrameEffect.prototype.x = function () {\n    var a = true;\n\n    if (this.v == 0) {\n      a = true;\n    } else if (this.v == 1) {\n      a = false;\n    } else {\n      var b = this.aq;\n\n      if (this.v == 3) {\n        b++;\n      }\n\n      if (isInfinity(b)) {\n        a = true;\n      } else {\n        if (b % 2 == 0) {\n          a = true;\n        } else {\n          a = false;\n        }\n      }\n    }\n\n    return a;\n  };\n\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"af\", {\n    get: function () {\n      return this.aa;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ay\", {\n    get: function () {\n      if (!this.aa) {\n        return NaN;\n      }\n\n      var a = false;\n      var b = this.x();\n\n      if (b && this.s == 0) {\n        a = true;\n      }\n\n      if (!b && this.s == 2) {\n        a = true;\n      }\n\n      return this.ax(this.ar, a);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"at\", {\n    get: function () {\n      return this.ay;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ab\", {\n    get: function () {\n      return this.af;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  AnimationKeyFrameEffect.prototype.ax = function (a, b) {\n    return this.az(a);\n  };\n\n  AnimationKeyFrameEffect.prototype.a7 = function () {\n    if (!this.af) {\n      return;\n    }\n\n    var a = this.ay;\n\n    for (var b = 0; b < this.f.length; b++) {\n      var c = this.a1(this.f[b], this.g[b]);\n      this.a5(this.f[b], this.g[b], c);\n    }\n  };\n\n  AnimationKeyFrameEffect.prototype.a5 = function (a, b, c) {\n    b.c(this.a4, c);\n  };\n\n  AnimationKeyFrameEffect.prototype.a1 = function (a, b) {\n    if (!this.ab) {\n      return null;\n    }\n\n    var c = a;\n    var d = this.at;\n\n    if (this.a4 == null) {\n      return null;\n    }\n\n    var e = this.a2(c, b);\n    var f = new List$1(AnimationKeyFrame.$, 0);\n    var g = new List$1(Number_$type, 0);\n\n    for (var h = 0; h < this.h.length; h++) {\n      for (var i = 0; i < this.h[h].b.length; i++) {\n        if (this.h[h].b[i].a == c) {\n          f.add(this.h[h]);\n          g.add(this.k[h]);\n        }\n      }\n    }\n\n    if (f.count == 0) {\n      return e;\n    }\n\n    if (g._inner[0] != 0) {\n      f.insert(0, new AnimationKeyFrame(1, 0).c(new AnimationKeyFrameProperty(c, e)));\n      g.insert(0, 0);\n    }\n\n    if (g._inner[f.count - 1] != 1) {\n      f.add(new AnimationKeyFrame(1, 1).c(new AnimationKeyFrameProperty(c, e)));\n      g.add(1);\n    }\n\n    var j = false;\n    var k = new List$1(AnimationKeyFrame.$, 0);\n    var l = new List$1(Number_$type, 0);\n\n    if (d < 0) {\n      var m = 0;\n\n      for (var n = 0; n < f.count; n++) {\n        if (g._inner[n] == 0) {\n          m++;\n        } else {\n          break;\n        }\n      }\n\n      if (m > 1) {\n        j = true;\n        k.add(f._inner[0]);\n        l.add(g._inner[0]);\n      }\n    }\n\n    if (d >= 1) {\n      var o = 0;\n\n      for (var p = f.count - 1; p >= 0; p--) {\n        if (g._inner[p] == 1) {\n          o++;\n        } else {\n          break;\n        }\n      }\n\n      if (o > 1) {\n        j = true;\n        k.add(f._inner[f.count - 1]);\n        l.add(g._inner[f.count - 1]);\n      }\n    }\n\n    if (!j) {\n      var q = null;\n      var r = -1;\n\n      for (var s = 0; s < f.count; s++) {\n        if (g._inner[s] <= d) {\n          q = f._inner[s];\n          r = s;\n        } else {\n          break;\n        }\n      }\n\n      if (r == -1) {\n        for (var t = 0; t < f.count; t++) {\n          if (g._inner[t] == 0) {\n            q = f._inner[t];\n            r = t;\n          } else {\n            break;\n          }\n        }\n      }\n\n      k.add(q);\n      l.add(g._inner[r]);\n\n      if (r < g.count - 1) {\n        k.add(f._inner[r + 1]);\n        l.add(g._inner[r + 1]);\n      }\n    }\n\n    if (k.count == 1) {\n      for (var u = 0; u < k._inner[0].b.length; u++) {\n        if (k._inner[0].b[u].a == c) {\n          return k._inner[0].b[u].d;\n        }\n      }\n\n      return null;\n    }\n\n    var v = l._inner[0];\n    var w = l._inner[k.count - 1];\n\n    var x = k._inner[0].g(c).d;\n\n    var y = k._inner[1].g(c).d;\n\n    var z = (d - v) / (w - v);\n    return this.a3(c, z, x, y);\n  };\n\n  AnimationKeyFrameEffect.prototype.a3 = function (a, b, c, d) {\n    switch (a) {\n      case 2:\n      case 3:\n      case 7:\n      case 15:\n      case 16:\n        return BrushUtil.k(c, b, d, 0);\n\n      case 4:\n      case 13:\n      case 6:\n        return InterpolationUtil.f(b, c, d);\n\n      case 11:\n      case 10:\n      case 12:\n      case 8:\n      case 9:\n      case 17:\n      case 19:\n        return c + b * (d - c);\n\n      case 1:\n        return c + b * (d - c);\n\n      case 5:\n        return InterpolationUtil.d(b, c, d);\n\n      case 14:\n        return this.a9(b, c, d);\n\n      case 18:\n        return InterpolationUtil.a(b, c, d);\n\n      default:\n        if (b < 0.5) {\n          return c;\n        } else {\n          return d;\n        }\n\n    }\n\n    return null;\n  };\n\n  AnimationKeyFrameEffect.prototype.a9 = function (a, b, c) {\n    var d = TransformMatrixHelpler.d(a, b.j, c.j);\n    var e = new MatrixTransform();\n    e.j = d;\n    return e;\n  };\n\n  AnimationKeyFrameEffect.prototype.a2 = function (a, b) {\n    return b.b(this.a4);\n  };\n\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"h\", {\n    get: function () {\n      if (this.c == null) {\n        this.c = this.ag.toArray();\n        this.a = this.i();\n        this.b = this.j();\n      }\n\n      return this.c;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"f\", {\n    get: function () {\n      if (this.c == null) {\n        this.c = this.ag.toArray();\n        this.a = this.i();\n        this.b = this.j();\n      }\n\n      return this.a;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AnimationKeyFrameEffect.prototype, \"g\", {\n    get: function () {\n      if (this.c == null) {\n        this.c = this.ag.toArray();\n        this.a = this.i();\n        this.b = this.j();\n      }\n\n      return this.b;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  AnimationKeyFrameEffect.prototype.j = function () {\n    var a = new List$1(UIElementPropertyAccessor.$, 0);\n\n    for (var b = 0; b < this.f.length; b++) {\n      a.add(UIElementPropertyAccessorFactory.c.a(this.f[b]));\n    }\n\n    return a.toArray();\n  };\n\n  AnimationKeyFrameEffect.prototype.i = function () {\n    var a = new List$1(UIElementPropertyId_$type, 0);\n    var b = new HashSet$1(UIElementPropertyId_$type, 0);\n\n    for (var c = 0; c < this.h.length; c++) {\n      for (var d = 0; d < this.h[c].b.length; d++) {\n        if (!b.contains(this.h[c].b[d].a)) {\n          b.add_1(this.h[c].b[d].a);\n          a.add(this.h[c].b[d].a);\n        }\n      }\n    }\n\n    return a.toArray();\n  };\n\n  AnimationKeyFrameEffect.prototype.a6 = function () {\n    var a = this.t;\n    this.t = 4;\n    this.a7();\n    this.t = a;\n  };\n\n  AnimationKeyFrameEffect.$t = markType(AnimationKeyFrameEffect, 'AnimationKeyFrameEffect');\n  return AnimationKeyFrameEffect;\n}(Base);\n\nexport { AnimationKeyFrameEffect };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/KeyFrameAnimationTimeline_combined.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Base, String_$type, runOn, Type, markType, BaseError, Number_$type } from \"./type\";\nimport { LinkedList$1 } from \"./LinkedList$1\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { LinkedListNode$1 } from \"./LinkedListNode$1\";\nimport { timeSpanTotalMilliseconds } from \"./timespan\";\nimport { dateNow } from \"./date\";\nimport { TaskCompletionSource$1 } from \"./TaskCompletionSource$1\";\nimport { isInfinity, isNaN_ } from \"./number\";\nimport { AnimationKeyFrame } from \"./AnimationKeyFrame\";\nimport { List$1 } from \"./List$1\";\nimport { UIElementPropertyId_$type } from \"./UIElementPropertyId\";\nimport { UIElementPropertyAccessor } from \"./UIElementPropertyAccessor\";\nimport { EasingFunctions } from \"./EasingFunctions\";\nimport { AnimationKeyFrameProperty } from \"./AnimationKeyFrameProperty\";\nimport { BrushUtil } from \"./BrushUtil\";\nimport { InterpolationUtil } from \"./InterpolationUtil\";\nimport { MatrixTransform } from \"./MatrixTransform\";\nimport { TransformMatrixHelpler } from \"./TransformMatrixHelpler\";\nimport { UIElementPropertyAccessorFactory } from \"./UIElementPropertyAccessorFactory\";\nimport { HashSet$1 } from \"./HashSet$1\";\n/**\n * @hidden\n */\nvar KeyFrameAnimationTimeline = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(KeyFrameAnimationTimeline, _super);\n    function KeyFrameAnimationTimeline(a, b) {\n        var _this = _super.call(this) || this;\n        _this.c = null;\n        _this.a = null;\n        _this.h = new Date();\n        _this.g = new LinkedList$1(IKeyFrameAnimation_$type);\n        _this.f = new Dictionary$2(String_$type, IKeyFrameAnimation_$type, 0);\n        _this.e = new Dictionary$2(IKeyFrameAnimation_$type, LinkedListNode$1.$.specialize(IKeyFrameAnimation_$type), 0);\n        _this.k = 0;\n        _this.d = false;\n        _this.i = 0;\n        _this.l = -1;\n        _this.c = a;\n        _this.a = b;\n        _this.h = dateNow();\n        return _this;\n    }\n    Object.defineProperty(KeyFrameAnimationTimeline.prototype, \"b\", {\n        get: function () {\n            return this.a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationTimeline.prototype, \"j\", {\n        get: function () {\n            if (this.d) {\n                return this.i;\n            }\n            return timeSpanTotalMilliseconds((+(dateNow()) - +(this.h)));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    KeyFrameAnimationTimeline.prototype.m = function (a) {\n        if (this.f.containsKey(a.id)) {\n            return;\n        }\n        this.g.f(a);\n        var b = this.g.d;\n        this.e.addItem(a, b);\n        this.f.addItem(a.id, a);\n        var c = false;\n        if (this.k == 0) {\n            c = true;\n        }\n        this.k++;\n        if (c) {\n            this.n();\n        }\n    };\n    KeyFrameAnimationTimeline.prototype.o = function (a) {\n        if (!this.e.containsKey(a)) {\n            return;\n        }\n        var b = this.e.item(a);\n        this.g.h(b);\n        this.f.removeItem(a.id);\n        this.e.removeItem(a);\n        var c = false;\n        this.k--;\n        if (this.k == 0) {\n            c = true;\n        }\n        if (c) {\n            this.p();\n        }\n    };\n    KeyFrameAnimationTimeline.prototype.p = function () {\n        if (this.l >= 0) {\n            this.c.teardownTicking(this.l);\n            this.l = -1;\n        }\n    };\n    KeyFrameAnimationTimeline.prototype.n = function () {\n        this.l = this.c.setupTicking(runOn(this, this.q));\n        this.c.requestFrame(this.l);\n    };\n    KeyFrameAnimationTimeline.prototype.q = function () {\n        var a = this.j;\n        this.i = a;\n        try {\n            this.d = true;\n            var b = this.g.c;\n            if (b == null) {\n                this.p();\n                this.d = false;\n                return;\n            }\n            while (b != null) {\n                var c = b.c;\n                if (c.playState == 1) {\n                    c.aq();\n                }\n                else {\n                    c.aq();\n                    this.o(b.c);\n                }\n                b = b.a;\n            }\n            this.c.requestFrame(this.l);\n        }\n        finally {\n            this.d = false;\n        }\n    };\n    KeyFrameAnimationTimeline.$t = markType(KeyFrameAnimationTimeline, 'KeyFrameAnimationTimeline');\n    return KeyFrameAnimationTimeline;\n}(Base));\nexport { KeyFrameAnimationTimeline };\n/**\n * @hidden\n */\nexport var IKeyFrameAnimation_$type = /*@__PURE__*/ new Type(null, 'IKeyFrameAnimation');\n/**\n * @hidden\n */\nvar KeyFrameAnimationDirect = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(KeyFrameAnimationDirect, _super);\n    function KeyFrameAnimationDirect(a, b) {\n        var _this = _super.call(this) || this;\n        _this.a = null;\n        _this.m = NaN;\n        _this.d = false;\n        _this.p = NaN;\n        _this.i = false;\n        _this.u = null;\n        _this.n = NaN;\n        _this.g = false;\n        _this.o = 1;\n        _this.q = NaN;\n        _this.j = false;\n        _this.b = null;\n        _this.onFinished = null;\n        _this.onCanceled = null;\n        _this.h = false;\n        _this.f = false;\n        _this.e = false;\n        _this.w = null;\n        _this.v = null;\n        _this.u = \"AUTO_ID_\" + KeyFrameAnimationDirect.t.toString();\n        KeyFrameAnimationDirect.t++;\n        _this.effect = a;\n        _this.effect.r = _this;\n        _this.b = b;\n        return _this;\n    }\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"effect\", {\n        get: function () {\n            return this.a;\n        },\n        set: function (a) {\n            this.a = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"l\", {\n        get: function () {\n            if (this.d) {\n                return true;\n            }\n            if (this.j) {\n                return true;\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"currentTime\", {\n        get: function () {\n            if (this.d) {\n                return this.m;\n            }\n            return (this.c.j - this.startTime) * this.playbackRate;\n        },\n        set: function (a) {\n            this.ar(a);\n            this.as(true, false);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    KeyFrameAnimationDirect.prototype.as = function (a, b) {\n        var _this = this;\n        var c;\n        var d = false;\n        if (!a) {\n            var e = this.d;\n            this.d = false;\n            c = this.currentTime;\n            d = this.l;\n            this.d = e;\n        }\n        else {\n            c = this.currentTime;\n            d = this.l;\n        }\n        if (d && this.j && !this.f && !this.h) {\n            if (this.playbackRate > 0 && c >= this.r) {\n                if (a) {\n                    this.m = c;\n                    this.d = true;\n                }\n                else {\n                    if (this.i) {\n                        this.m = Math.max(this.p, this.r);\n                    }\n                    else {\n                        this.m = this.r;\n                    }\n                }\n            }\n            else if (this.playbackRate < 0 && c <= 0) {\n                if (a) {\n                    this.m = c;\n                }\n                else {\n                    if (this.i) {\n                        this.m = Math.min(this.p, 0);\n                    }\n                    else {\n                        this.m = 0;\n                    }\n                }\n            }\n            if (this.playbackRate != 0) {\n                if (a && this.d) {\n                    this.q = this.c.j - (this.m / this.playbackRate);\n                    this.j = true;\n                    this.d = false;\n                }\n            }\n        }\n        this.p = this.currentTime;\n        this.i = true;\n        var f = this.playState == 3;\n        if (!b && f && !this.k()) {\n            this.an(function () { return _this.ad(); });\n        }\n        if (f && !this.k()) {\n            if (b) {\n                this.aa();\n                this.ad();\n            }\n        }\n        if (!f && this.k()) {\n            this.v = this.x();\n        }\n    };\n    KeyFrameAnimationDirect.prototype.x = function () {\n        return new TaskCompletionSource$1(IKeyFrameAnimation_$type, 0);\n    };\n    KeyFrameAnimationDirect.prototype.aa = function () {\n        this.e = false;\n    };\n    KeyFrameAnimationDirect.prototype.ad = function () {\n        if (!this.e) {\n            return;\n        }\n        this.e = false;\n        if (this.playState != 3) {\n            return;\n        }\n        this.al(this);\n        this.ah();\n    };\n    KeyFrameAnimationDirect.prototype.ah = function () {\n    };\n    KeyFrameAnimationDirect.prototype.al = function (a) {\n        this.v.e(a);\n    };\n    KeyFrameAnimationDirect.prototype.an = function (a) {\n        if (!this.e) {\n            this.e = true;\n            this.c.b.enqueueAction(function () { return a(); });\n        }\n    };\n    KeyFrameAnimationDirect.prototype.k = function () {\n        return this.v == null || this.v.b.c;\n    };\n    KeyFrameAnimationDirect.prototype.ar = function (a) {\n        if (this.d || !this.j || this.playbackRate == 0) {\n            this.m = a;\n            this.d = true;\n        }\n        else {\n            this.q = this.c.j - (a / this.playbackRate);\n        }\n    };\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"finished\", {\n        get: function () {\n            return this.v.b;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"ready\", {\n        get: function () {\n            return this.w.b;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"id\", {\n        get: function () {\n            return this.u;\n        },\n        set: function (a) {\n            this.u = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"r\", {\n        get: function () {\n            return this.effect != null ? this.effect.as : 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"playState\", {\n        get: function () {\n            if (!this.l && !this.f && !this.h) {\n                return 0;\n            }\n            else if (this.f || (!this.j && !this.h)) {\n                return 2;\n            }\n            else if (this.l && (this.s > 0 && this.currentTime >= this.r || this.s < 0 && this.currentTime <= 0)) {\n                return 3;\n            }\n            return 1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"s\", {\n        get: function () {\n            if (this.g) {\n                return this.n;\n            }\n            return this.o;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"playbackRate\", {\n        get: function () {\n            return this.o;\n        },\n        set: function (a) {\n            this.o = a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"startTime\", {\n        get: function () {\n            return this.q;\n        },\n        set: function (a) {\n            var b = this.c.j;\n            var c = this.p;\n            this.q = a;\n            this.j = true;\n            if (this.playbackRate != 0) {\n                this.d = false;\n            }\n            this.as(true, false);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(KeyFrameAnimationDirect.prototype, \"c\", {\n        get: function () {\n            return this.b;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    KeyFrameAnimationDirect.prototype.cancel = function () {\n        if (this.playState != 0) {\n            this.ak();\n            this.ai(\"AbortError\");\n            this.v = this.x();\n            this.ag();\n            this.d = false;\n            this.j = false;\n        }\n    };\n    KeyFrameAnimationDirect.prototype.ai = function (a) {\n        if (this.v != null) {\n            this.v.d(new BaseError(1, a));\n        }\n    };\n    KeyFrameAnimationDirect.prototype.aj = function (a) {\n        if (this.w != null) {\n            this.w.d(new BaseError(1, a));\n        }\n    };\n    KeyFrameAnimationDirect.prototype.ag = function () {\n    };\n    KeyFrameAnimationDirect.prototype.ak = function () {\n        if (this.h) {\n            this.h = false;\n        }\n        if (this.f) {\n            this.f = false;\n        }\n        this.z();\n        this.aj(\"AbortError\");\n    };\n    KeyFrameAnimationDirect.prototype.finish = function () {\n        if (this.s == 0 || (this.s > 0 && isInfinity(this.r))) {\n            return;\n        }\n        this.z();\n        var a;\n        if (this.playbackRate > 0) {\n            a = this.r;\n        }\n        else {\n            a = 0;\n        }\n        this.ar(a);\n        if (!this.j) {\n            this.q = this.c.j - (a / this.playbackRate);\n            this.j = true;\n        }\n        if (this.f && this.j) {\n            this.d = false;\n            this.ab();\n            this.am(this);\n        }\n        if (this.h && this.j) {\n            this.ac();\n            this.am(this);\n        }\n        this.as(true, true);\n    };\n    KeyFrameAnimationDirect.prototype.pause = function () {\n        this.ae();\n    };\n    KeyFrameAnimationDirect.prototype.ae = function () {\n        var _this = this;\n        if (this.f) {\n            return;\n        }\n        if (this.playState == 2) {\n            return;\n        }\n        if (!this.l) {\n            if (this.playbackRate >= 0) {\n                this.d = true;\n                this.m = 0;\n            }\n            if (isInfinity(this.r)) {\n                return;\n            }\n            this.m = this.r;\n            this.d = true;\n        }\n        var a = false;\n        if (this.h) {\n            a = true;\n        }\n        if (!a) {\n            this.w = this.y();\n        }\n        this.ao(function () {\n            if (!_this.f) {\n                return;\n            }\n            _this.f = false;\n            var b = _this.c.j;\n            if (_this.j && !_this.d) {\n                _this.m = (b - _this.q) * _this.playbackRate;\n            }\n            _this.z();\n            _this.j = false;\n            _this.am(_this);\n            _this.as(false, false);\n        });\n        this.as(false, false);\n    };\n    KeyFrameAnimationDirect.prototype.y = function () {\n        return new TaskCompletionSource$1(IKeyFrameAnimation_$type, 0);\n    };\n    KeyFrameAnimationDirect.prototype.ao = function (a) {\n        if (!this.f) {\n            this.f = true;\n            this.c.b.enqueueAction(function () { return a(); });\n        }\n    };\n    KeyFrameAnimationDirect.prototype.play = function () {\n        this.af(true);\n    };\n    KeyFrameAnimationDirect.prototype.af = function (a) {\n        var _this = this;\n        var b = this.f;\n        if (this.s > 0 && a && (!this.l || this.currentTime < 0 || this.currentTime >= this.r)) {\n            this.m = 0;\n            this.d = true;\n        }\n        else if (this.s < 0 && a && (!this.l || this.currentTime <= 0 || this.currentTime > this.r)) {\n            if (isInfinity(this.r)) {\n                return;\n            }\n            this.m = this.r;\n            this.d = true;\n        }\n        else if (this.s == 0 && !this.l) {\n            this.m = 0;\n            this.d = true;\n        }\n        var c = false;\n        if (this.f) {\n            this.ab();\n            c = true;\n        }\n        if (this.h) {\n            this.ac();\n            c = true;\n        }\n        if (!this.d && !b && !this.g) {\n            return;\n        }\n        if (this.d) {\n            this.j = false;\n        }\n        if (!c) {\n            this.w = this.y();\n        }\n        this.ap(function () {\n            if (!_this.h) {\n                return;\n            }\n            _this.h = false;\n            if (!_this.j && !_this.d) {\n                return;\n            }\n            var d = _this.c.j;\n            if (_this.d) {\n                _this.z();\n                var e = d;\n                if (_this.playbackRate != 0) {\n                    e = d - _this.m / _this.playbackRate;\n                }\n                _this.q = e;\n                _this.j = true;\n                if (_this.playbackRate != 0) {\n                    _this.d = false;\n                }\n            }\n            else if (_this.j && _this.g) {\n                var f = (d - _this.q) * _this.playbackRate;\n                _this.z();\n                if (_this.playbackRate == 0) {\n                    _this.m = f;\n                    _this.d = true;\n                }\n                var g = d;\n                if (_this.playbackRate != 0) {\n                    g = d - f / _this.playbackRate;\n                }\n                _this.q = g;\n                _this.j = true;\n            }\n            _this.am(_this);\n            _this.as(false, false);\n            _this.c.m(_this);\n        });\n        this.as(false, false);\n    };\n    KeyFrameAnimationDirect.prototype.am = function (a) {\n        if (this.w != null) {\n            this.w.e(a);\n        }\n    };\n    KeyFrameAnimationDirect.prototype.ab = function () {\n        this.f = false;\n    };\n    KeyFrameAnimationDirect.prototype.ac = function () {\n        this.h = false;\n    };\n    KeyFrameAnimationDirect.prototype.ap = function (a) {\n        if (!this.h) {\n            this.h = true;\n            this.c.b.enqueueAction(function () { return a(); });\n        }\n    };\n    KeyFrameAnimationDirect.prototype.reverse = function () {\n        var a = this.n;\n        this.n = -this.s;\n        this.g = true;\n        this.af(true);\n    };\n    KeyFrameAnimationDirect.prototype.updatePlaybackRate = function (a) {\n        var b = this.playState;\n        this.n = a;\n        this.g = true;\n        if (b == 0 || b == 2) {\n            this.z();\n        }\n        else if (b == 3) {\n            var c = this.d;\n            this.d = false;\n            var d = this.currentTime;\n            this.d = c;\n            if (this.n == 0) {\n                this.q = this.c.j;\n            }\n            else {\n                this.q = this.c.j - (d / this.n);\n            }\n            this.z();\n        }\n        else {\n            this.af(false);\n        }\n    };\n    KeyFrameAnimationDirect.prototype.z = function () {\n        if (this.g) {\n            this.o = this.n;\n            this.g = false;\n        }\n    };\n    KeyFrameAnimationDirect.prototype.commitStyles = function () {\n        this.effect.a6();\n    };\n    KeyFrameAnimationDirect.prototype.aq = function () {\n        this.effect.a7();\n        this.as(false, false);\n    };\n    KeyFrameAnimationDirect.$t = markType(KeyFrameAnimationDirect, 'KeyFrameAnimationDirect', Base.$, [IKeyFrameAnimation_$type]);\n    KeyFrameAnimationDirect.t = 0;\n    return KeyFrameAnimationDirect;\n}(Base));\nexport { KeyFrameAnimationDirect };\n/**\n * @hidden\n */\nvar AnimationKeyFrameEffect = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnimationKeyFrameEffect, _super);\n    function AnimationKeyFrameEffect(a) {\n        var _rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            _rest[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this) || this;\n        _this.r = null;\n        _this.a4 = null;\n        _this.o = 0;\n        _this.q = null;\n        _this.ag = new List$1(AnimationKeyFrame.$, 0);\n        _this.c = null;\n        _this.al = 0;\n        _this.ah = 0;\n        _this.az = null;\n        _this.t = 0;\n        _this.ai = 0;\n        _this.aj = 0;\n        _this.v = 0;\n        _this.ak = 0;\n        _this.u = 0;\n        _this.d = null;\n        _this.a = null;\n        _this.b = null;\n        _this.p = null;\n        a = (a == void 0) ? 0 : a;\n        switch (a) {\n            case 0:\n                {\n                    var c = _rest[0];\n                    var d = _rest[1];\n                    var e = _rest[2];\n                    var f = _rest[3];\n                    _this.a4 = c;\n                    _this.o = d;\n                    _this.p = f;\n                    _this.a8();\n                    _this.q = e;\n                }\n                break;\n            case 1:\n                {\n                    var c = _rest[0];\n                    var d = _rest[1];\n                    var e = _rest[2];\n                    var f = _rest[3];\n                    var g = _rest[4];\n                    _this.a4 = c;\n                    _this.o = d;\n                    _this.q = e;\n                    _this.p = f;\n                    _this.a8();\n                    _this.ag.o(g);\n                }\n                break;\n        }\n        return _this;\n    }\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"an\", {\n        get: function () {\n            return this.aj * this.ai;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"as\", {\n        get: function () {\n            return Math.max(this.al + this.an + this.ah, 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AnimationKeyFrameEffect.prototype.a8 = function () {\n        this.al = this.p.f;\n        this.ah = this.p.h;\n        this.t = this.p.a;\n        this.ai = this.p.i;\n        this.aj = this.p.g;\n        this.v = this.p.c;\n        this.ak = this.p.j;\n        this.u = this.p.b;\n        this.az = this.a0(this.u);\n    };\n    AnimationKeyFrameEffect.prototype.a0 = function (a) {\n        switch (a) {\n            case 3: return function (b) { return b; };\n            case 1: return EasingFunctions.exponentialEase;\n            case 2: return EasingFunctions.circleEase;\n            case 0: return EasingFunctions.cubicEase;\n        }\n        return function (b) { return b; };\n    };\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"k\", {\n        get: function () {\n            if (this.d == null) {\n                this.d = this.e();\n            }\n            return this.d;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AnimationKeyFrameEffect.prototype.e = function () {\n        var a = this.h;\n        if (a.length <= 1) {\n            return [0];\n        }\n        var b = new Array(a.length);\n        var c = 1 / (a.length - 1);\n        var d = 0;\n        for (var e = 0; e < a.length; e++) {\n            if (isNaN_(a[e].j)) {\n                b[e] = d;\n            }\n            else {\n                b[e] = a[e].j;\n                d = a[e].j;\n                if (((a.length - 1) - e) > 0) {\n                    c = (1 - d) / ((a.length - 1) - e);\n                }\n            }\n            d += c;\n        }\n        return b;\n    };\n    AnimationKeyFrameEffect.prototype.l = function (a) {\n        this.ag.add(a);\n        this.c = null;\n        this.a = null;\n        return this;\n    };\n    AnimationKeyFrameEffect.prototype.m = function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        var b = new AnimationKeyFrame(0);\n        if (a != null) {\n            for (var c = 0; c < a.length; c++) {\n                b.c(a[c]);\n            }\n        }\n        this.l(b);\n        return this;\n    };\n    AnimationKeyFrameEffect.prototype.n = function (a) {\n        var b = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            b[_i - 1] = arguments[_i];\n        }\n        var c = new AnimationKeyFrame(1, a);\n        if (b != null) {\n            for (var d = 0; d < b.length; d++) {\n                c.c(b[d]);\n            }\n        }\n        this.l(c);\n        return this;\n    };\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"au\", {\n        get: function () {\n            if (this.r != null) {\n                return this.r.currentTime;\n            }\n            return NaN;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ac\", {\n        get: function () {\n            if (this.r != null) {\n                return this.r.l;\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ap\", {\n        get: function () {\n            return Math.max(Math.min(this.al, this.as), 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"am\", {\n        get: function () {\n            return Math.max(Math.min(this.al + this.an, this.as), 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"w\", {\n        get: function () {\n            if (this.r != null && this.r.playbackRate < 0) {\n                return false;\n            }\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"s\", {\n        get: function () {\n            if (this.ac && (this.au < this.ap || !this.w && this.au == this.ap)) {\n                return 0;\n            }\n            if (this.ac && (this.au > this.am || this.w && this.au == this.am)) {\n                return 2;\n            }\n            if (this.ac) {\n                return 1;\n            }\n            return 3;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ao\", {\n        get: function () {\n            var a = this.s;\n            switch (a) {\n                case 0: if (this.t == 3 || this.t == 4) {\n                    return Math.max(this.au - this.al, 0);\n                }\n                else {\n                    return NaN;\n                }\n                case 1: return this.au - this.al;\n                case 2: if (this.t == 2 || this.t == 4) {\n                    return Math.max(Math.min(this.au - this.al, this.an), 0);\n                }\n                else {\n                    return NaN;\n                }\n                default: return NaN;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"y\", {\n        get: function () {\n            if (!this.ac) {\n                return false;\n            }\n            var a = this.s;\n            switch (a) {\n                case 0: if (this.t == 3 || this.t == 4) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n                case 1: return true;\n                case 2: if (this.t == 2 || this.t == 4) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n                default: return false;\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ad\", {\n        get: function () {\n            if (!this.y) {\n                return false;\n            }\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"av\", {\n        get: function () {\n            if (!this.y) {\n                return NaN;\n            }\n            var a = 0;\n            if (this.aj == 0) {\n                if (this.s == 0) {\n                    a = 0;\n                }\n                else {\n                    a = this.ai;\n                }\n            }\n            else {\n                a = this.ao / this.aj;\n            }\n            return a + this.ak;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ae\", {\n        get: function () {\n            if (!this.ad) {\n                return false;\n            }\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aw\", {\n        get: function () {\n            if (!this.ad) {\n                return NaN;\n            }\n            var a = 1;\n            if (isInfinity(this.av)) {\n                a = this.ak % 1;\n            }\n            else {\n                a = this.av % 1;\n            }\n            if (a == 0 && (this.s == 1 || this.s == 2) && this.ao == this.an && this.ai != 0) {\n                a = 1;\n            }\n            return a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"z\", {\n        get: function () {\n            if (!this.y) {\n                return false;\n            }\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aq\", {\n        get: function () {\n            if (!this.y) {\n                return NaN;\n            }\n            if (this.s == 2 && isInfinity(this.ai)) {\n                return Number.POSITIVE_INFINITY;\n            }\n            if (this.aw == 1) {\n                return Math.floor(this.av) - 1;\n            }\n            return Math.floor(this.av);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"aa\", {\n        get: function () {\n            return this.ae;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ar\", {\n        get: function () {\n            if (!this.ae) {\n                return NaN;\n            }\n            var a = this.x();\n            if (a) {\n                return this.aw;\n            }\n            else {\n                return 1 - this.aw;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AnimationKeyFrameEffect.prototype.x = function () {\n        var a = true;\n        if (this.v == 0) {\n            a = true;\n        }\n        else if (this.v == 1) {\n            a = false;\n        }\n        else {\n            var b = this.aq;\n            if (this.v == 3) {\n                b++;\n            }\n            if (isInfinity(b)) {\n                a = true;\n            }\n            else {\n                if (b % 2 == 0) {\n                    a = true;\n                }\n                else {\n                    a = false;\n                }\n            }\n        }\n        return a;\n    };\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"af\", {\n        get: function () {\n            return this.aa;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ay\", {\n        get: function () {\n            if (!this.aa) {\n                return NaN;\n            }\n            var a = false;\n            var b = this.x();\n            if (b && this.s == 0) {\n                a = true;\n            }\n            if (!b && this.s == 2) {\n                a = true;\n            }\n            return this.ax(this.ar, a);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"at\", {\n        get: function () {\n            return this.ay;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"ab\", {\n        get: function () {\n            return this.af;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AnimationKeyFrameEffect.prototype.ax = function (a, b) {\n        return this.az(a);\n    };\n    AnimationKeyFrameEffect.prototype.a7 = function () {\n        if (!this.af) {\n            return;\n        }\n        var a = this.ay;\n        for (var b = 0; b < this.f.length; b++) {\n            var c = this.a1(this.f[b], this.g[b]);\n            this.a5(this.f[b], this.g[b], c);\n        }\n    };\n    AnimationKeyFrameEffect.prototype.a5 = function (a, b, c) {\n        b.c(this.a4, c);\n    };\n    AnimationKeyFrameEffect.prototype.a1 = function (a, b) {\n        if (!this.ab) {\n            return null;\n        }\n        var c = a;\n        var d = this.at;\n        if (this.a4 == null) {\n            return null;\n        }\n        var e = this.a2(c, b);\n        var f = new List$1(AnimationKeyFrame.$, 0);\n        var g = new List$1(Number_$type, 0);\n        for (var h = 0; h < this.h.length; h++) {\n            for (var i = 0; i < this.h[h].b.length; i++) {\n                if (this.h[h].b[i].a == c) {\n                    f.add(this.h[h]);\n                    g.add(this.k[h]);\n                }\n            }\n        }\n        if (f.count == 0) {\n            return e;\n        }\n        if (g._inner[0] != 0) {\n            f.insert(0, new AnimationKeyFrame(1, 0).c(new AnimationKeyFrameProperty(c, e)));\n            g.insert(0, 0);\n        }\n        if (g._inner[f.count - 1] != 1) {\n            f.add(new AnimationKeyFrame(1, 1).c(new AnimationKeyFrameProperty(c, e)));\n            g.add(1);\n        }\n        var j = false;\n        var k = new List$1(AnimationKeyFrame.$, 0);\n        var l = new List$1(Number_$type, 0);\n        if (d < 0) {\n            var m = 0;\n            for (var n = 0; n < f.count; n++) {\n                if (g._inner[n] == 0) {\n                    m++;\n                }\n                else {\n                    break;\n                }\n            }\n            if (m > 1) {\n                j = true;\n                k.add(f._inner[0]);\n                l.add(g._inner[0]);\n            }\n        }\n        if (d >= 1) {\n            var o = 0;\n            for (var p = f.count - 1; p >= 0; p--) {\n                if (g._inner[p] == 1) {\n                    o++;\n                }\n                else {\n                    break;\n                }\n            }\n            if (o > 1) {\n                j = true;\n                k.add(f._inner[f.count - 1]);\n                l.add(g._inner[f.count - 1]);\n            }\n        }\n        if (!j) {\n            var q = null;\n            var r = -1;\n            for (var s = 0; s < f.count; s++) {\n                if (g._inner[s] <= d) {\n                    q = f._inner[s];\n                    r = s;\n                }\n                else {\n                    break;\n                }\n            }\n            if (r == -1) {\n                for (var t = 0; t < f.count; t++) {\n                    if (g._inner[t] == 0) {\n                        q = f._inner[t];\n                        r = t;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            k.add(q);\n            l.add(g._inner[r]);\n            if (r < g.count - 1) {\n                k.add(f._inner[r + 1]);\n                l.add(g._inner[r + 1]);\n            }\n        }\n        if (k.count == 1) {\n            for (var u = 0; u < k._inner[0].b.length; u++) {\n                if (k._inner[0].b[u].a == c) {\n                    return k._inner[0].b[u].d;\n                }\n            }\n            return null;\n        }\n        var v = l._inner[0];\n        var w = l._inner[k.count - 1];\n        var x = k._inner[0].g(c).d;\n        var y = k._inner[1].g(c).d;\n        var z = (d - v) / (w - v);\n        return this.a3(c, z, x, y);\n    };\n    AnimationKeyFrameEffect.prototype.a3 = function (a, b, c, d) {\n        switch (a) {\n            case 2:\n            case 3:\n            case 7:\n            case 15:\n            case 16: return BrushUtil.k(c, b, d, 0);\n            case 4:\n            case 13:\n            case 6: return InterpolationUtil.f(b, c, d);\n            case 11:\n            case 10:\n            case 12:\n            case 8:\n            case 9:\n            case 17:\n            case 19: return c + b * (d - c);\n            case 1: return c + b * (d - c);\n            case 5: return InterpolationUtil.d(b, c, d);\n            case 14: return this.a9(b, c, d);\n            case 18: return InterpolationUtil.a(b, c, d);\n            default: if (b < 0.5) {\n                return c;\n            }\n            else {\n                return d;\n            }\n        }\n        return null;\n    };\n    AnimationKeyFrameEffect.prototype.a9 = function (a, b, c) {\n        var d = TransformMatrixHelpler.d(a, b.j, c.j);\n        var e = new MatrixTransform();\n        e.j = d;\n        return e;\n    };\n    AnimationKeyFrameEffect.prototype.a2 = function (a, b) {\n        return b.b(this.a4);\n    };\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"h\", {\n        get: function () {\n            if (this.c == null) {\n                this.c = this.ag.toArray();\n                this.a = this.i();\n                this.b = this.j();\n            }\n            return this.c;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"f\", {\n        get: function () {\n            if (this.c == null) {\n                this.c = this.ag.toArray();\n                this.a = this.i();\n                this.b = this.j();\n            }\n            return this.a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AnimationKeyFrameEffect.prototype, \"g\", {\n        get: function () {\n            if (this.c == null) {\n                this.c = this.ag.toArray();\n                this.a = this.i();\n                this.b = this.j();\n            }\n            return this.b;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AnimationKeyFrameEffect.prototype.j = function () {\n        var a = new List$1(UIElementPropertyAccessor.$, 0);\n        for (var b = 0; b < this.f.length; b++) {\n            a.add(UIElementPropertyAccessorFactory.c.a(this.f[b]));\n        }\n        return a.toArray();\n    };\n    AnimationKeyFrameEffect.prototype.i = function () {\n        var a = new List$1(UIElementPropertyId_$type, 0);\n        var b = new HashSet$1(UIElementPropertyId_$type, 0);\n        for (var c = 0; c < this.h.length; c++) {\n            for (var d = 0; d < this.h[c].b.length; d++) {\n                if (!b.contains(this.h[c].b[d].a)) {\n                    b.add_1(this.h[c].b[d].a);\n                    a.add(this.h[c].b[d].a);\n                }\n            }\n        }\n        return a.toArray();\n    };\n    AnimationKeyFrameEffect.prototype.a6 = function () {\n        var a = this.t;\n        this.t = 4;\n        this.a7();\n        this.t = a;\n    };\n    AnimationKeyFrameEffect.$t = markType(AnimationKeyFrameEffect, 'AnimationKeyFrameEffect');\n    return AnimationKeyFrameEffect;\n}(Base));\nexport { AnimationKeyFrameEffect };\n//# sourceMappingURL=KeyFrameAnimationTimeline_combined.js.map\n"]},"metadata":{},"sourceType":"module"}