{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Stream, typeGetValue, markType } from \"./type\";\n/**\n * @hidden\n */\n\nvar MemoryStream =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  tslib_1.__extends(MemoryStream, _super);\n\n  function MemoryStream(a) {\n    var _rest = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      _rest[_i - 1] = arguments[_i];\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.o = null;\n    _this.t = 0;\n    _this.s = 0;\n    _this.r = false;\n    a = a == void 0 ? 0 : a;\n\n    switch (a) {\n      case 0:\n        {\n          var c = [0];\n          {\n            var e = c[0];\n            _this.o = new Array(e);\n\n            for (var f = 0; f < e; f++) {\n              _this.o[f] = 0;\n            }\n          }\n        }\n        break;\n\n      case 1:\n        {\n          var c = _rest[0];\n          _this.o = new Array(c);\n\n          for (var d = 0; d < c; d++) {\n            _this.o[d] = 0;\n          }\n        }\n        break;\n\n      case 2:\n        {\n          var c = _rest[0];\n          _this.o = c;\n          _this.s = c.length;\n          _this.r = _this.s != 0 && typeof _this.o[0] === 'string';\n        }\n        break;\n    }\n\n    return _this;\n  }\n\n  MemoryStream.prototype.get_canRead = function () {\n    return true;\n  };\n\n  Object.defineProperty(MemoryStream.prototype, \"canRead\", {\n    get: function () {\n      return this.get_canRead();\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MemoryStream.prototype.get_canSeek = function () {\n    return true;\n  };\n\n  Object.defineProperty(MemoryStream.prototype, \"canSeek\", {\n    get: function () {\n      return this.get_canSeek();\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MemoryStream.prototype.get_canWrite = function () {\n    return true;\n  };\n\n  Object.defineProperty(MemoryStream.prototype, \"canWrite\", {\n    get: function () {\n      return this.get_canWrite();\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MemoryStream.prototype.get_capacity = function () {\n    return this.o.length;\n  };\n\n  MemoryStream.prototype.set_capacity = function (a) {\n    if (this.o.length == a) {\n      return;\n    }\n\n    for (var b = this.s; b < a; b++) {\n      this.o[b] = 0;\n    }\n  };\n\n  Object.defineProperty(MemoryStream.prototype, \"capacity\", {\n    get: function () {\n      return this.get_capacity();\n    },\n    set: function (a) {\n      this.set_capacity(a);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MemoryStream.prototype.get_length = function () {\n    return this.s;\n  };\n\n  Object.defineProperty(MemoryStream.prototype, \"length\", {\n    get: function () {\n      return this.get_length();\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MemoryStream.prototype.get_position = function () {\n    return this.t;\n  };\n\n  MemoryStream.prototype.set_position = function (a) {\n    if (this.t == a) {\n      return;\n    }\n\n    this.t = a;\n\n    if (this.capacity <= this.t) {\n      this.capacity = this.t + 1;\n    }\n  };\n\n  Object.defineProperty(MemoryStream.prototype, \"position\", {\n    get: function () {\n      return this.get_position();\n    },\n    set: function (a) {\n      this.set_position(a);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MemoryStream.prototype.disposeCore = function (a) {};\n\n  MemoryStream.prototype.flush = function () {};\n\n  MemoryStream.prototype.getBuffer = function () {\n    return this.o;\n  };\n\n  MemoryStream.prototype.read = function (a, b, c) {\n    var d = Math.min(this.s - this.t, c);\n\n    if (this.r) {\n      for (var e = 0; e < d; e++) {\n        a[b++] = this.o[this.t++].charCodeAt(0) & 0xFF;\n      }\n    } else {\n      for (var f = 0; f < d; f++) {\n        a[b++] = this.o[this.t++];\n      }\n    }\n\n    return d;\n  };\n\n  MemoryStream.prototype.readByte = function () {\n    if (this.s <= this.t) {\n      return -1;\n    }\n\n    if (this.r) {\n      return this.o[this.t++].charCodeAt(0) & 0xFF;\n    }\n\n    return this.o[this.t++];\n  };\n\n  MemoryStream.prototype.seek = function (a, b) {\n    switch (b) {\n      case 0:\n        this.t = a;\n        break;\n\n      case 1:\n        this.t += a;\n        break;\n\n      case 2:\n        this.t = this.s + a;\n        break;\n    }\n\n    return this.t;\n  };\n\n  MemoryStream.prototype.setLength = function (a) {\n    if (this.capacity < a) {\n      this.capacity = Math.max(a, this.capacity * 2);\n    }\n\n    this.s = a;\n\n    if (this.s < this.t) {\n      this.t = this.s;\n    }\n  };\n\n  MemoryStream.prototype.toArray = function () {\n    if (this.r) {\n      var a = new Array(this.s);\n      var b = this.position;\n      this.position = 0;\n      this.read(a, 0, a.length);\n      this.position = b;\n      return a;\n    }\n\n    return this.o.slice(0, this.s);\n  };\n\n  MemoryStream.prototype.write = function (a, b, c) {\n    var d = this.t + c;\n\n    if (this.length < d) {\n      this.setLength(d);\n    }\n\n    var e = c != 0 && typeof a[b] === 'string';\n\n    if (e == this.r) {\n      for (var f = 0; f < c; f++) {\n        this.o[this.t++] = a[b++];\n      }\n    } else if (e) {\n      for (var g = 0; g < c; g++) {\n        this.o[this.t++] = a.charCodeAt(b++) & 0xFF;\n      }\n    } else {\n      for (var h = 0; h < c; h++) {\n        this.o[this.t++] = typeGetValue(String.fromCharCode(a[b++]));\n      }\n    }\n  };\n\n  MemoryStream.prototype.writeByte = function (a) {\n    var b = typeof a === 'string';\n\n    if (b == this.r) {\n      this.o[this.t++] = a;\n    } else if (b) {\n      this.o[this.t++] = a.charCodeAt(0) & 0xFF;\n    } else {\n      this.o[this.t++] = typeGetValue(String.fromCharCode(a));\n    }\n\n    if (this.s < this.t) {\n      this.s = this.t;\n    }\n  };\n\n  MemoryStream.prototype.writeTo = function (a) {\n    a.write(this.o, 0, this.s);\n  };\n\n  MemoryStream.$t = markType(MemoryStream, 'MemoryStream', Stream.$);\n  return MemoryStream;\n}(Stream);\n\nexport { MemoryStream };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/MemoryStream.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport * as tslib_1 from \"tslib\";\nimport { Stream, typeGetValue, markType } from \"./type\";\n/**\n * @hidden\n */\nvar MemoryStream = /** @class */ /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MemoryStream, _super);\n    function MemoryStream(a) {\n        var _rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            _rest[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this) || this;\n        _this.o = null;\n        _this.t = 0;\n        _this.s = 0;\n        _this.r = false;\n        a = (a == void 0) ? 0 : a;\n        switch (a) {\n            case 0:\n                {\n                    var c = [0];\n                    {\n                        var e = c[0];\n                        _this.o = new Array(e);\n                        for (var f = 0; f < e; f++) {\n                            _this.o[f] = 0;\n                        }\n                    }\n                }\n                break;\n            case 1:\n                {\n                    var c = _rest[0];\n                    _this.o = new Array(c);\n                    for (var d = 0; d < c; d++) {\n                        _this.o[d] = 0;\n                    }\n                }\n                break;\n            case 2:\n                {\n                    var c = _rest[0];\n                    _this.o = c;\n                    _this.s = c.length;\n                    _this.r = _this.s != 0 && typeof _this.o[0] === 'string';\n                }\n                break;\n        }\n        return _this;\n    }\n    MemoryStream.prototype.get_canRead = function () {\n        return true;\n    };\n    Object.defineProperty(MemoryStream.prototype, \"canRead\", {\n        get: function () {\n            return this.get_canRead();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MemoryStream.prototype.get_canSeek = function () {\n        return true;\n    };\n    Object.defineProperty(MemoryStream.prototype, \"canSeek\", {\n        get: function () {\n            return this.get_canSeek();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MemoryStream.prototype.get_canWrite = function () {\n        return true;\n    };\n    Object.defineProperty(MemoryStream.prototype, \"canWrite\", {\n        get: function () {\n            return this.get_canWrite();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MemoryStream.prototype.get_capacity = function () {\n        return this.o.length;\n    };\n    MemoryStream.prototype.set_capacity = function (a) {\n        if (this.o.length == a) {\n            return;\n        }\n        for (var b = this.s; b < a; b++) {\n            this.o[b] = 0;\n        }\n    };\n    Object.defineProperty(MemoryStream.prototype, \"capacity\", {\n        get: function () {\n            return this.get_capacity();\n        },\n        set: function (a) {\n            this.set_capacity(a);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MemoryStream.prototype.get_length = function () {\n        return this.s;\n    };\n    Object.defineProperty(MemoryStream.prototype, \"length\", {\n        get: function () {\n            return this.get_length();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MemoryStream.prototype.get_position = function () {\n        return this.t;\n    };\n    MemoryStream.prototype.set_position = function (a) {\n        if (this.t == a) {\n            return;\n        }\n        this.t = a;\n        if (this.capacity <= this.t) {\n            this.capacity = this.t + 1;\n        }\n    };\n    Object.defineProperty(MemoryStream.prototype, \"position\", {\n        get: function () {\n            return this.get_position();\n        },\n        set: function (a) {\n            this.set_position(a);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MemoryStream.prototype.disposeCore = function (a) {\n    };\n    MemoryStream.prototype.flush = function () {\n    };\n    MemoryStream.prototype.getBuffer = function () {\n        return this.o;\n    };\n    MemoryStream.prototype.read = function (a, b, c) {\n        var d = Math.min(this.s - this.t, c);\n        if (this.r) {\n            for (var e = 0; e < d; e++) {\n                a[b++] = (this.o[this.t++].charCodeAt(0) & 0xFF);\n            }\n        }\n        else {\n            for (var f = 0; f < d; f++) {\n                a[b++] = this.o[this.t++];\n            }\n        }\n        return d;\n    };\n    MemoryStream.prototype.readByte = function () {\n        if (this.s <= this.t) {\n            return -1;\n        }\n        if (this.r) {\n            return (this.o[this.t++].charCodeAt(0) & 0xFF);\n        }\n        return this.o[this.t++];\n    };\n    MemoryStream.prototype.seek = function (a, b) {\n        switch (b) {\n            case 0:\n                this.t = a;\n                break;\n            case 1:\n                this.t += a;\n                break;\n            case 2:\n                this.t = this.s + a;\n                break;\n        }\n        return this.t;\n    };\n    MemoryStream.prototype.setLength = function (a) {\n        if (this.capacity < a) {\n            this.capacity = Math.max(a, this.capacity * 2);\n        }\n        this.s = a;\n        if (this.s < this.t) {\n            this.t = this.s;\n        }\n    };\n    MemoryStream.prototype.toArray = function () {\n        if (this.r) {\n            var a = new Array(this.s);\n            var b = this.position;\n            this.position = 0;\n            this.read(a, 0, a.length);\n            this.position = b;\n            return a;\n        }\n        return (this.o.slice(0, this.s));\n    };\n    MemoryStream.prototype.write = function (a, b, c) {\n        var d = this.t + c;\n        if (this.length < d) {\n            this.setLength(d);\n        }\n        var e = c != 0 && typeof a[b] === 'string';\n        if (e == this.r) {\n            for (var f = 0; f < c; f++) {\n                this.o[this.t++] = a[b++];\n            }\n        }\n        else if (e) {\n            for (var g = 0; g < c; g++) {\n                this.o[this.t++] = (a.charCodeAt(b++) & 0xFF);\n            }\n        }\n        else {\n            for (var h = 0; h < c; h++) {\n                this.o[this.t++] = typeGetValue((String.fromCharCode(a[b++])));\n            }\n        }\n    };\n    MemoryStream.prototype.writeByte = function (a) {\n        var b = typeof a === 'string';\n        if (b == this.r) {\n            this.o[this.t++] = a;\n        }\n        else if (b) {\n            this.o[this.t++] = (a.charCodeAt(0) & 0xFF);\n        }\n        else {\n            this.o[this.t++] = typeGetValue((String.fromCharCode(a)));\n        }\n        if (this.s < this.t) {\n            this.s = this.t;\n        }\n    };\n    MemoryStream.prototype.writeTo = function (a) {\n        a.write(this.o, 0, this.s);\n    };\n    MemoryStream.$t = markType(MemoryStream, 'MemoryStream', Stream.$);\n    return MemoryStream;\n}(Stream));\nexport { MemoryStream };\n//# sourceMappingURL=MemoryStream.js.map\n"]},"metadata":{},"sourceType":"module"}